(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)r=o[u],i[r]&&m.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},i={main:0},n=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;n.push(["a949","chunk-vendors"]),a()})({"0018":function(e,t,a){},"006f":function(e,t,a){"use strict";var s=a("7482"),i=a.n(s);i.a},"00c8":function(e,t,a){},"0214":function(e,t,a){"use strict";var s=a("6f3c"),i=a.n(s);i.a},"04b2":function(e,t,a){"use strict";var s=a("2e38"),i=a.n(s);i.a},"04c0":function(e,t,a){"use strict";var s=a("a11b"),i=a.n(s);i.a},"0592":function(e,t,a){},"0599":function(e,t,a){},"062e":function(e,t,a){"use strict";var s=a("0599"),i=a.n(s);i.a},"06f7":function(e,t,a){"use strict";var s=a("32f3"),i=a.n(s);i.a},"0708":function(e,t,a){"use strict";var s=a("f787"),i=a.n(s);i.a},"0733":function(e,t,a){"use strict";var s=a("b211"),i=a.n(s);i.a},"07a6":function(e,t,a){},"07d4":function(e,t,a){"use strict";var s=a("9684"),i=a.n(s);i.a},"0831":function(e,t,a){},"0848":function(e,t,a){},"0892":function(e,t,a){},"0920":function(e,t,a){},"0998":function(e,t,a){"use strict";var s=a("b7de"),i=a.n(s);i.a},"09ba":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{staticClass:"sense-wrap"},[a("Adsense",{attrs:{"data-ad-client":e.adsense[e.type].client,"data-ad-slot":e.adsense[e.type].slot}})],1):e._e()},i=[],n=a("a189"),r={props:{type:{type:String,default:"responsive"}},mixins:[n["a"]],data(){return{adsense:{media:{client:"ca-pub-2100847942938873",slot:"9272947493"},"media-aside":{client:"ca-pub-2100847942938873",slot:"3467028992"},"media-footer":{client:"ca-pub-2100847942938873",slot:"8948440368"},"article-header":{client:"ca-pub-2100847942938873",slot:"2497440442"},"article-matched":{client:"ca-pub-2100847942938873",slot:"9168636484"},search:{client:"ca-pub-2100847942938873",slot:"2125193019"},staff:{client:"ca-pub-2100847942938873",slot:"2672822077"},forum:{client:"ca-pub-2100847942938873",slot:"4121635112"},home:{client:"ca-pub-2100847942938873",slot:"9154469946"}}}},computed:{show(){return(!this.auth||1===this.auth.id||!(this.isDataMod()||this.auth.donatorTier>1))&&this.$store.state.displayAds}}},o=r,c=(a("8d96"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"c9f1ede2",null);t["a"]=l.exports},"09c1":function(e,t,a){"use strict";var s=a("42ed"),i=a.n(s);i.a},"0b1a":function(e,t,a){},"0b23":function(e,t,a){"use strict";var s=a("fb02"),i=a.n(s);i.a},"0b6d":function(e,t,a){"use strict";var s=a("c26d"),i=a.n(s);i.a},"0ca4":function(e,t,a){"use strict";var s=a("d081"),i=a.n(s);i.a},"0cea":function(e,t,a){},"0ced":function(e,t,a){},"0da9":function(e,t,a){},"0e3a":function(e,t,a){"use strict";var s=a("fe43"),i=a.n(s);i.a},"0f3d":function(e,t,a){"use strict";var s=a("31c8"),i=a.n(s);i.a},"0f88":function(e,t,a){},"0f9f":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mobile-nav",class:{guest:!e.auth},on:{click:function(t){return e.toggleNav()}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.visible,expression:"!visible"}],staticClass:"hamburger"},[a("font-awesome-icon",{attrs:{icon:"bars",size:"2x","fixed-width":""}}),e._v(" "),e.unreadNotificationCount?a("div",{staticClass:"notification-dot"}):e._e()],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"menu"},[e.auth?a("router-link",{attrs:{to:"/"}},[a("font-awesome-icon",{attrs:{icon:"home",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("home")])],1):e._e(),e._v(" "),e.auth?a("router-link",{attrs:{to:{name:"MediaList",params:{id:e.auth.name,type:"anime"}}}},[a("font-awesome-icon",{attrs:{icon:"list",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("anime list")])],1):e._e(),e._v(" "),e.auth?a("router-link",{attrs:{to:{name:"MediaList",params:{id:e.auth.name,type:"manga"}}}},[a("font-awesome-icon",{attrs:{icon:"list-ol",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("manga list")])],1):e._e(),e._v(" "),a("router-link",{attrs:{to:"/forum/overview"}},[a("font-awesome-icon",{attrs:{icon:"comments",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("forum")])],1),e._v(" "),e.auth?e._e():a("router-link",{attrs:{to:"/social"}},[a("font-awesome-icon",{attrs:{icon:"users",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("social")])],1),e._v(" "),e.auth?a("router-link",{attrs:{to:{name:"UserOverview",params:{id:e.auth.name}}}},[a("font-awesome-icon",{attrs:{icon:"user",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("profile")])],1):e._e(),e._v(" "),e.auth?a("router-link",{class:{active:e.unreadNotificationCount},attrs:{to:"/notifications"}},[a("font-awesome-icon",{attrs:{icon:"envelope",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("notifications")])],1):e._e(),e._v(" "),e.auth?a("router-link",{attrs:{to:"/settings"}},[a("font-awesome-icon",{attrs:{icon:"cog",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("settings")])],1):e._e(),e._v(" "),a("router-link",{attrs:{to:"/search/anime"}},[a("font-awesome-icon",{attrs:{icon:"search",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("search")])],1),e._v(" "),e.auth?e._e():a("router-link",{attrs:{to:"/signup"}},[a("font-awesome-icon",{attrs:{icon:"user-plus",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("sign up")])],1),e._v(" "),e.auth?e._e():a("router-link",{attrs:{to:"/login"}},[a("font-awesome-icon",{attrs:{icon:"sign-in-alt",size:"lg","fixed-width":""}}),e._v(" "),a("span",{staticClass:"label"},[e._v("login")])],1),e._v(" "),a("font-awesome-icon",{attrs:{icon:"times",size:"lg","fixed-width":""}})],1)])},i=[],n=a("7a55"),r=a.n(n),o=a("a189"),c={components:{FontAwesomeIcon:r.a},mixins:[o["a"]],data(){return{visible:!1}},computed:{},methods:{toggleNav(){this.visible=!this.visible}}},l=c,d=(a("7b2f"),a("2877")),u=Object(d["a"])(l,s,i,!1,null,"34319856",null);t["a"]=u.exports},1022:function(e,t,a){"use strict";var s=a("a856"),i=a.n(s);i.a},1076:function(e,t,a){"use strict";var s=a("0b1a"),i=a.n(s);i.a},1082:function(e,t,a){},"120d":function(e,t,a){"use strict";var s=a("b7ac"),i=a.n(s);i.a},"128b":function(e,t,a){"use strict";var s=a("00c8"),i=a.n(s);i.a},1343:function(e,t,a){},"13b6":function(e,t,a){},"15fb":function(e,t,a){"use strict";var s=a("2193"),i=a.n(s);i.a},1768:function(e,t,a){},1867:function(e,t,a){"use strict";var s=a("affc"),i=a.n(s);i.a},1875:function(e,t,a){"use strict";var s=a("9af3"),i=a.n(s);i.a},"199c":function(e,t,a){"use strict";(function(e){var s=a("a189"),i=a("adbc"),n=a("b6b4"),r=a("c2b0"),o=a("0f9f"),c=a("fd2d"),l=a("7af3");t["a"]={components:{ProgressBar:n["a"],DesktopNav:r["a"],MobileNav:o["a"],SiteFooter:c["a"],ListEntryEditor:l["a"]},mixins:[s["a"],i["a"]],data(){return{refreshInterval:5,refreshMethod:"fetchNotificationCount"}},computed:{isDesktop(){return this.$store.state.screen.isDesktop},navTransparency(){return this.$store.state.navTransparency||!this.isDesktop},listEditorActive(){return this.$store.getters["medialist/editor"].active}},methods:{applySiteTheme(){const e=localStorage.getItem("site-theme");e&&document.body.classList.add(`site-theme-${e}`)},watchScreenSize(){window.addEventListener("resize",()=>{this.$store.dispatch("updateScreenSize")})},fetchNotificationCount(){this.$store.dispatch("auth/fetchViewer")}},created(){e.browser&&(this.watchScreenSize(),this.applySiteTheme()),this.$store.dispatch("auth/fetchViewer",!0)}}}).call(this,a("4362"))},"19d1":function(e,t,a){"use strict";var s=a("437b"),i=a.n(s);i.a},"1aa0":function(e,t,a){},"1c1c":function(e,t,a){"use strict";var s=a("6173"),i=a.n(s);i.a},"1ca3":function(e,t,a){},"1cac":function(e,t,a){"use strict";var s=a("d0ba"),i=a.n(s);i.a},"1cf1":function(e,t,a){},"1cf7":function(e,t,a){"use strict";var s=a("889e"),i=a.n(s);i.a},"1d0f":function(e,t,a){},"1dee":function(e,t,a){"use strict";(function(e){a("a481");var s=a("365c"),i=a("a18c"),n=a("09ba"),r=a("1eb1"),o=a("3eb6");t["a"]={name:"Listicle",props:["amount","genre","type","year"],components:{Ad:n["a"],ListicleItem:o["a"]},data(){return{media:[]}},computed:{title(){return this.$route.path.replace("/article/","").replace(/-/g," ")},bannerImage(){if(this.media[0])return this.media.find(e=>e.bannerImage).bannerImage},searchRoute(){return{name:"Search",params:{type:this.type.toLowerCase()},query:{includedGenres:this.genre}}}},methods:{async fetchListicle(){const t={genre:this.genre,type:this.type.toUpperCase(),perPage:this.amount};"all-time"!==this.year.toLowerCase()&&(t.year=`${this.year}%`),"MANGA"===t.type&&(t.formats=["MANGA"]);try{const e=await Object(s["a"])(r["a"],t);this.media=e.Page.media}catch(a){}if(!this.media.length&&(i["a"].replace({name:"NotFound"}),!e.browser))throw{status:404}}},async beforeMount(){await this.fetchListicle()},async serverPrefetch(){return this.fetchListicle()},metaInfo(){return this.media[0]?{title:this.title,meta:[{property:"og:title",content:this.title},{property:"og:description",content:`${this.title} - AniList.co`},{property:"og:url",content:`https://anilist.co${this.$route.path}`},{property:"description",content:`${this.title} - AniList.co`}]}:{}}}}).call(this,a("4362"))},"1e0b":function(e,t,a){},"1e45":function(e,t,a){},"1e71":function(e,t,a){"use strict";var s=a("62c2"),i=a.n(s);i.a},"1eb1":function(e,t,a){"use strict";t["a"]="\nquery (\n    $perPage: Int,\n    $type: MediaType,\n    $genre: String,\n    $formats: [MediaFormat]\n    $year: String,\n){ \n    Page (perPage: $perPage) {\n        media (\n            type: $type,\n            genre: $genre,\n            format_in: $formats,\n            startDate_like: $year\n            isAdult: false,\n            sort: SCORE_DESC\n        ) {\n            id\n            title {\n                romaji\n                english\n                userPreferred\n            }\n            coverImage {\n                extraLarge\n                color\n            }\n            bannerImage\n            type\n            format\n            averageScore\n            description\n            genres\n        }\n    }\n}\n"},"1f12":function(e,t,a){},"1ffd":function(e,t,a){},2038:function(e,t,a){"use strict";var s=a("adca"),i=a.n(s);i.a},"20d6":function(e,t,a){},2161:function(e,t,a){},2173:function(e,t,a){"use strict";var s=a("0848"),i=a.n(s);i.a},2193:function(e,t,a){},"21ca":function(e,t,a){"use strict";var s=a("ae37"),i=a.n(s);i.a},"233d":function(e,t,a){"use strict";var s=a("ae8f"),i=a.n(s);i.a},"23cb":function(e,t,a){"use strict";var s=a("fed8"),i=a.n(s);i.a},2499:function(e,t,a){"use strict";var s=a("9a3b"),i=a.n(s);i.a},"24f8":function(e,t,a){},"256a":function(e,t,a){"use strict";var s=a("2fe4"),i=a.n(s);i.a},"25b2":function(e,t,a){},2683:function(e,t,a){},2756:function(e,t,a){"use strict";var s=a("98c1"),i=a.n(s);i.a},2811:function(e,t,a){"use strict";var s=a("5710"),i=a.n(s);i.a},2840:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"like-wrap",on:{mouseover:e.toggleVisible,mouseout:e.toggleVisible}},[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"users",style:e.usersWidth(e.users)},e._l(e.users,function(t){return a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.avatar.large,expression:"user.avatar.large",arg:"background-image"}],key:t.id,staticClass:"user",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(t)}}})}),1)]),e._v(" "),a("div",{staticClass:"button",class:{liked:e.isLiked},on:{click:e.toggleLike}},[e.users[0]?a("span",{staticClass:"count"},[e._v(e._s(e.users.length))]):e._e(),e._v(" "),e._t("default")],2)],1)},i=[],n=a("a189"),r={props:["id","type","likes"],mixins:[n["a"]],data(){return{visible:!1}},computed:{users(){return this.mutatedLikes||this.likes},isLiked(){return this.users.some(e=>e.id==this.auth.id)},mutatedLikes(){return this.$store.getters["like/likes"](this.id,this.type)}},methods:{async toggleLike(){this.auth&&await this.$store.dispatch("like/toggleLike",{id:this.id,type:this.type})},toggleVisible(){this.visible=!this.visible},usersWidth(e){const t=e.length>5?5:e.length;return{width:`${40*t}px`}}}},o=r,c=(a("04c0"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"710513e0",null);t["a"]=l.exports},2849:function(e,t,a){"use strict";var s=a("f13f"),i=a.n(s);i.a},"28d6":function(e,t,a){"use strict";var s=a("93f3"),i=a.n(s);i.a},"2a44":function(e,t,a){},"2a55":function(e,t,a){"use strict";var s=a("0831"),i=a.n(s);i.a},"2b77":function(e,t,a){"use strict";var s=a("619d"),i=a.n(s);i.a},"2c49":function(e,t,a){"use strict";var s=a("84e6"),i=a.n(s);i.a},"2de0":function(e,t,a){"use strict";var s=a("ac10"),i=a.n(s);i.a},"2e38":function(e,t,a){},"2e44":function(e,t,a){},"2e56":function(e,t,a){"use strict";var s=a("35d6"),i=a.n(s);i.a},"2fe4":function(e,t,a){},"301e":function(e,t,a){"use strict";var s=a("b264"),i=a.n(s);i.a},"309d":function(e,t,a){"use strict";(function(e){var s=a("e814"),i=a.n(s),n=a("774e"),r=a.n(n),o=(a("ac6a"),a("18ff")),c=a.n(o),l=a("defb"),d=a.n(l),u=a("b370"),m=a.n(u),p=a("3185"),h=a("09ba");t["a"]={props:["media"],components:{ElDropdown:m.a,ElDropdownMenu:d.a,ElDropdownItem:c.a,Favourite:p["a"],Ad:h["a"]},data(){return{updatedStatus:null,showFullDescription:!1,descriptionLimit:730}},computed:{description(){const e=this.media.description;return null===e||this.showFullDescription||e.length<this.descriptionLimit?e:e.substring(0,this.descriptionLimit)+"..."},bannerStyle(){return!this.media.bannerImage&&this.isMobile?{"background-color":"#272c38",height:"130px"}:{"background-image":`url( ${this.media.bannerImage} )`}},mediaParams(){return this.formatMediaUrl(this.media)},isDesktop(){return this.$store.state.screen.width>1360},isMobile(){return this.$store.state.screen.isMobile},status(){let e;return this.updatedStatus?e=this.updatedStatus:this.media.mediaListEntry&&(e=this.media.mediaListEntry.status),e?"CURRENT"==e?"ANIME"==this.media.type?"Watching":"Reading":e:"Add to List"}},methods:{positionCover(){this.$nextTick(()=>{if(this.isMobile||!e.browser)return;this.updateNavTransparency();const t=document.getElementsByClassName("container")[0],a=document.getElementsByClassName("content")[0],s=document.getElementsByClassName("sidebar")[0];let n=document.getElementsByClassName("cover")[0],o=0;r()(a.children).forEach(e=>{"Read More"!==e.innerHTML&&(o+=i()(e.clientHeight))}),n.onload=(()=>{n=document.getElementsByClassName("cover-wrap-inner")[0];const e=n.clientHeight-o;e>10&&!this.media.bannerImage?(n.style.position="absolute",s.style.marginTop=e-35+"px",t.style.minHeight=0):(n.style.position="static",s.style.marginTop=0,t.style.minHeight="250px")})})},updateNavTransparency(){this.$store.commit("setNavTransparency",!!this.media.bannerImage)},async editListStatus(e){if("open"==e)return void this.openListEditor();const t=await this.$store.dispatch("medialist/saveListEntry",{status:e,mediaId:this.media.id,returnData:!0});t.status&&(this.updatedStatus=t.status,this.$notify({type:"success",message:`${this.media.title.userPreferred} added to ${t.status.toLowerCase()} list`}))},openListEditor(){this.$store.dispatch("medialist/openListEditor",this.media.id)}},beforeRouteUpdate(e,t,a){a(e=>{e.updatedStatus=null})}}}).call(this,a("4362"))},"30df":function(e,t,a){},3185:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"favourite",class:[{isFavourite:e.isNowFavourite||e.isFavourite},e.theme],on:{click:e.toggleFavourite}},[a("font-awesome-icon",{attrs:{icon:"heart"}})],1)},i=[],n=a("7a55"),r=a.n(n),o={props:["id","type","mutation","isFavourite","theme"],components:{FontAwesomeIcon:r.a},data(){return{isNowFavourite:null}},methods:{async toggleFavourite(){const e=await this.$store.dispatch("user/toggleFavourite",{id:this.id,type:this.type.toLowerCase(),mutation:this.mutation,isFavourite:this.isNowFavourite||this.isFavourite});null!==e&&(this.isNowFavourite=e,this.$notify({type:"success",message:`${e?"Added to":"Removed from"} favourites`}))}}},c=o,l=(a("690e"),a("2877")),d=Object(l["a"])(c,s,i,!1,null,"6fc01770",null);t["a"]=d.exports},"319c":function(e,t,a){},"31c8":function(e,t,a){},"323e":function(e,t,a){"use strict";var s=a("f053"),i=a.n(s);i.a},"32f3":function(e,t,a){},"330f":function(e,t,a){},"33f5":function(e,t,a){},"35b3":function(e,t,a){},"35d6":function(e,t,a){},"35d8":function(e,t,a){},"35fb":function(e,t,a){},"365c":function(e,t,a){"use strict";(function(e,s){var i=a("f529"),n=a.n(i),r=(a("a481"),a("a18c")),o=a("4360"),c=a("d619");const l=e.browser?"/graphql":"http://nginx/graphql",d=new c["GraphQLClient"](l,{redirect:"follow",credentials:"include"}),u=async function(t,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{redirectOn404:!0};if(!e.browser&&s.cancelRequests)return{};o["a"].commit("setLoadingState",!0),m(i);try{const e=await d.request(t,a);return o["a"].commit("setLoadingState",!1),e}catch(n){const e=t.includes("mutation")||t.includes("Viewer");return o["a"].commit("setLoadingState",!1),p(n,i,e)}};function m(t){return e.browser?t.schema?d.options.headers={schema:t.schema,"x-csrf-token":window.al_token}:void(d.options.headers={schema:"default","x-csrf-token":window.al_token}):d.options.headers={schema:"default","x-ssr-token":window.ssr_token}}function p(e,t,a){const s=e.response.errors[0],i=s.status,o=s.message;if(503===i&&r["a"].replace({name:"Maintenance"}),t.redirectOn404&&404===i&&r["a"].replace({name:"NotFound"}),403===i&&"Forbidden. (Use graphql subdomain)"===o){if(a)throw n.a.error({duration:0,showClose:!0,message:"Session expired, please refresh"}),[];window.location.reload()}throw e.response.errors}t["a"]=u}).call(this,a("4362"),a("c8ba"))},3675:function(e,t,a){"use strict";var s=a("ac90"),i=a.n(s);i.a},"370a":function(e,t,a){},"377c":function(e,t,a){"use strict";var s=a("b997"),i=a.n(s);i.a},"380b":function(e,t,a){"use strict";var s=a("dc89"),i=a.n(s);i.a},"392e":function(e,t,a){},"39a6":function(e,t,a){},"3aa5":function(e,t,a){},"3b16":function(e,t,a){"use strict";var s=a("5351"),i=a.n(s);i.a},"3cab":function(e,t,a){},"3d92":function(e,t,a){},"3dcd":function(e,t,a){"use strict";var s=a("9b84"),i=a.n(s);i.a},"3eb6":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"listicle-item",style:{"--media-color":e.media.coverImage.color}},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.media.coverImage.extraLarge,expression:"media.coverImage.extraLarge",arg:"background-image"}],staticClass:"cover",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.media)}}},[e.media.averageScore?a("div",{staticClass:"score"},[e._v(e._s(e.media.averageScore)+"%")]):e._e()]),e._v(" "),a("div",{staticClass:"details"},[a("h3",{staticClass:"title"},[e._v(e._s(e.number)+". "+e._s(e.media.title.english||e.media.title.romaji))]),e._v(" "),a("div",{staticClass:"genres"},[e._v(e._s(e.genres))]),e._v(" "),a("p",{staticClass:"description",domProps:{innerHTML:e._s(e.media.description)}})])],1)},i=[],n={props:["media","number"],computed:{genres(){return this.media.genres.join(", ")}}},r=n,o=(a("edf5"),a("2877")),c=Object(o["a"])(r,s,i,!1,null,"458f5388",null);t["a"]=c.exports},"3f2c":function(e,t,a){"use strict";var s=a("f0cf"),i=a.n(s);i.a},"3f38":function(e,t,a){},"3f81":function(e,t,a){},"3fb2":function(e,t,a){"use strict";var s=a("7298"),i=a.n(s);i.a},"404f":function(e,t,a){},"408e":function(e,t,a){"use strict";t["a"]="\nmutation ($email: String) {\n    VerifyUserEmail (email: $email)\n}\n"},"40ba":function(e,t,a){},4141:function(e,t,a){"use strict";var s=a("8e11"),i=a.n(s);i.a},4260:function(e,t,a){"use strict";a.d(t,"d",function(){return u}),a.d(t,"b",function(){return m}),a.d(t,"f",function(){return p}),a.d(t,"c",function(){return h}),a.d(t,"a",function(){return f}),a.d(t,"e",function(){return g});var s=a("f529"),i=a.n(s),n=a("a4bb"),r=a.n(n),o=(a("ac6a"),a("77c1")),c=a.n(o),l=a("2b0e");const d=e=>{if("function"!==typeof e.getMonth)return!1;const t=e.getMonth();return t>=0&&t<=2?"WINTER":t>=3&&t<=5?"SPRING":t>=6&&t<=8?"SUMMER":t>=9&&t<=11&&"FALL"},u=e=>{return{season:d(e),year:e.getFullYear()}},m=e=>{const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let a="";return e.month&&(a+=t[e.month-1]),e.day&&(a+=` ${e.day}`),e.year&&(""!==a&&(a+=", "),a+=e.year),a},p=function(e,t,a,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e[a]||l["default"].set(e,a,{pageInfo:{},pageData:{}}),e[a].pageInfo=t.pageInfo,null!==i&&(t=t[i]),l["default"].set(e[a].pageData,s,t)},h=(e,t)=>{return e?{pageInfo:e.pageInfo,pageData:c()(e.pageData,(e,a)=>t>=a&&"0"!==a)}:{}},v=e=>{const t=e[0].validation,a=[];return r()(t).forEach(e=>{t[e].forEach(e=>{a.push(e)})}),a},f=e=>{e[0].validation?i.a.error({duration:5e3,showClose:!0,dangerouslyUseHTMLString:!0,message:v(e).join("<br><br>")}):i.a.error(e[0].message)},g=(e,t)=>{const a={};return r()(e).forEach(s=>{e[s]!=t[s]&&(a[s]=t[s])}),a}},"42ed":function(e,t,a){},4331:function(e,t,a){"use strict";var s=a("b98e"),i=a.n(s);i.a},4360:function(e,t,a){"use strict";var s={};a.r(s),a.d(s,"overviewQuery",function(){return S}),a.d(s,"charactersQuery",function(){return $}),a.d(s,"staffQuery",function(){return k}),a.d(s,"reviewsQuery",function(){return I}),a.d(s,"threadsQuery",function(){return A}),a.d(s,"followingQuery",function(){return E}),a.d(s,"activityQuery",function(){return x}),a.d(s,"statsQuery",function(){return O}),a.d(s,"saveMediaTagVoteMutation",function(){return P}),a.d(s,"addMediaTagMutation",function(){return T}),a.d(s,"createMediaTagMutation",function(){return L}),a.d(s,"deleteMediaTagMutation",function(){return M}),a.d(s,"toggleMediaTagSpoilerMutation",function(){return N});var i=a("2b0e"),n=a("2f62"),r={},o={updateScreenSize(e){let t=e.commit;t("setScreenSize",{width:window.innerWidth,height:window.innerHeight})},setSiteTheme(e,t){document.body.classList.remove("site-theme-dark"),document.body.classList.remove("site-theme-contrast"),"default"!==t?(localStorage.setItem("site-theme",t),document.body.classList.add(`site-theme-${t}`)):localStorage.removeItem("site-theme")}},c=(a("ac6a"),a("28a5"),a("cebc")),l={setNavTransparency(e,t){e.navTransparency=t},setScreenSize(e,t){e.screen=Object(c["a"])({},t,{isDesktop:t.width>1040,isMobile:window.innerWidth<760})},setLoadingState(e,t){e.loading=t},setAdDisplay(e,t){e.displayAds=t},setMarkdownEditorState(e,t){e.markdownEditorActive=t},updateObject(e,t){let a=t.reference,s=t.path,n=t.value;if(s.includes(".")){const e=s.split(".");s=e.pop(),e.forEach(e=>{a[e]?a=a[e]:a[e]={}})}i["default"].set(a,s,n)}},d=a("b565"),u=a("f499"),m=a.n(u),p=a("365c"),h=a("4260"),v="\nquery (\n    $isFollowing: Boolean = true,\n    $hasReplies: Boolean = false,\n    $activityType: ActivityType,\n    $page: Int,\n) {\n    Page (page: $page, perPage: 25) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        activities(\n            isFollowing: $isFollowing,\n            type: $activityType,\n            hasRepliesOrTypeText: $hasReplies,\n            type_in: [TEXT, ANIME_LIST, MANGA_LIST]\n            sort: ID_DESC\n        ) {\n            ... on TextActivity {\n                id\n                userId\n                type\n                replyCount\n                text\n                createdAt\n                user {\n                    id\n                    name\n                    donatorTier\n                    donatorBadge\n                    avatar {\n                        large\n                    }\n                }\n                likes {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n            }\n            ... on ListActivity {\n                id\n                userId\n                type\n                status\n                progress\n                replyCount\n                createdAt\n                user {\n                    id\n                    name\n                    donatorTier\n                    donatorBadge\n                    avatar {\n                        large\n                    }\n                }\n                media {\n                    id\n                    type\n                    status\n                    isAdult\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large\n                    }\n                }\n                likes {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n            }\n        }\n    }\n}",f="\nquery (\n    $userId: Int,\n    $perPage: Int,\n) {\n    Anime: Page (perPage: $perPage) {\n        mediaList (userId: $userId, type: ANIME, status_in: [CURRENT, REPEATING], sort: UPDATED_TIME_DESC) {\n            id\n            status\n            score\n            progress\n            progressVolumes\n            media {\n                id\n                type\n                status\n                format\n                episodes\n                title {\n                    userPreferred\n                }\n                coverImage {\n                    large\n                }\n                nextAiringEpisode {\n                    airingAt\n                    timeUntilAiring\n                    episode\n                }\n            }\n        }\n    }\n    Manga: Page (perPage: $perPage) {\n        mediaList (userId: $userId, type: MANGA, status: CURRENT, sort: UPDATED_TIME_DESC) {\n            id\n            status\n            score\n            progress\n            progressVolumes\n            media {\n                id\n                type\n                status\n                format\n                chapters\n                title {\n                    userPreferred\n                }\n                coverImage {\n                    large\n                }\n            }\n        }\n    }\n}",g="\nquery {\n    Page (perPage: 4) {\n        reviews (sort: ID_DESC) {\n            id\n            rating\n            ratingAmount\n            summary\n            media {\n                title {\n                    userPreferred\n                }\n                bannerImage\n            }\n            user {\n                name\n            }\n        }\n    }\n}\n",y="\nquery {\n    Trending: Page(perPage: 5) {\n        media(isAdult: false, sort: TRENDING_DESC) {\n            ...media\n        }\n    }\n    NewAnime: Page(perPage: 5) {\n        media(type: ANIME, isAdult: false, sort: ID_DESC) {\n            ...media\n        }\n    }\n    NewManga: Page(perPage: 5) {\n        media(type: MANGA, isAdult: false, sort: ID_DESC) {\n            ...media\n        }\n    }\n}\n\nfragment media on Media {\n    id\n    type\n    status\n    format\n    episodes\n    chapters\n    trending\n    title {\n        userPreferred\n    }\n    coverImage {\n        large\n    }\n}\n",_="\nquery {\n    Page(perPage: 3) {\n        threads(sort: REPLIED_AT_DESC) {\n            id\n            title\n            replyCount\n            viewCount\n            replyCommentId\n            repliedAt\n            createdAt\n            categories {\n                id\n                name\n            }\n            user {\n                name\n                avatar {\n                    large\n                }\n            }\n            replyUser {\n                name\n                avatar {\n                    large\n                }\n            }\n        }\n    }\n}\n",b="\nquery ($userId: Int) {\n    Page {\n        mediaList (userId: $userId, type: ANIME, status: CURRENT, sort: UPDATED_TIME_DESC) {\n            id\n            status\n            score\n            progress\n            progressVolumes\n            media {\n                id\n                title {\n                    userPreferred\n                }\n                coverImage {\n                    large\n                }\n                startDate {\n                    year\n                    month\n                    day\n                }\n                endDate {\n                    year\n                    month\n                    day\n                }\n                season\n                description\n                type\n                format\n                status\n                genres\n                isAdult\n                averageScore\n                popularity\n                mediaListEntry {\n                    status\n                }\n                nextAiringEpisode {\n                    airingAt\n                    timeUntilAiring\n                    episode\n                }\n                studios (isMain: true) {\n                    edges {\n                        isMain\n                        node {\n                            id\n                            name\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",w={namespaced:!0,state:{activity:{},listPreview:[],recentReviews:[],airingAnime:[],media:null,forum:null,activityFeedType:void 0,largeListPreview:!1},getters:{activity:e=>(t,a,s)=>{return Object(h["c"])(e.activity[`${t}-${a}`],s)},activityFeedType:e=>e.activityFeedType?e.activityFeedType:{type:"following",filter:"all"},listPreview:e=>{return e.listPreview||[]},recentReviews:e=>{return e.recentReviews||[]},media:e=>{return e.media},forum:e=>{return e.forum},airingAnime:e=>e.airingAnime,largeListPreview:e=>e.largeListPreview},actions:{async fetchActivity(e,t){let a=e.commit;"global"===t.type&&(t.isFollowing=!1,t.hasReplies=!0),"status"===t.filter?t.activityType="TEXT":"progress"===t.filter&&(t.activityType="MEDIA_LIST");const s=await Object(p["a"])(v,t);return a("setActivity",{activity:s.Page,page:t.page,type:t.type,filter:t.filter}),s.Page.pageInfo},setActivityFeedType(e,t){let a=e.commit;localStorage.setItem("default-activity",m()(t)),a("setActivityFeedType",t)},setLargeListPreview(e,t){let a=e.commit;localStorage.setItem("large-list-preview",t),a("setLargeListPreview",t)},async fetchListPreview(e,t){let a=e.state,s=e.commit;t.perPage=a.largeListPreview?40:20;const i=await Object(p["a"])(f,t),n=i.Anime.mediaList||[],r=i.Manga.mediaList||[];s("setListPreview",[...n,...r])},async fetchRecentReviews(e){let t=e.commit;const a=await Object(p["a"])(g);t("setRecentReviews",a.Page.reviews)},async fetchMedia(e){let t=e.commit;const a=await Object(p["a"])(y);t("setMedia",a)},async fetchForumFeed(e){let t=e.commit;const a=await Object(p["a"])(_);t("setForum",a.Page.threads)},async fetchAiringAnime(e,t){let a=e.commit;const s=await Object(p["a"])(b,t);a("setAiringAnime",s.Page.mediaList)}},mutations:{setActivity(e,t){let a=t.activity,s=t.type,i=t.filter,n=t.page;Object(h["f"])(e.activity,a,`${s}-${i}`,n,"activities")},setListPreview(e,t){i["default"].set(e,"listPreview",t)},setRecentReviews(e,t){i["default"].set(e,"recentReviews",t)},setMedia(e,t){i["default"].set(e,"media",t)},setForum(e,t){i["default"].set(e,"forum",t)},setProgress(e,t){let a=t.id,s=t.progress;const i=e.listPreview.find(e=>e.id===a);i.progress=s},setActivityFeedType(e,t){e.activityFeedType=t},setLargeListPreview(e,t){e.largeListPreview=t},setAiringAnime(e,t){e.airingAnime=t}}},C="\nquery {\n    genres: GenreCollection,\n    tags: MediaTagCollection {\n        name\n        description\n        category\n        isAdult\n    }\n}\n",S="\n    query media($id: Int, $type: MediaType, $isAdult: Boolean) {\n        Media(id: $id, type: $type, isAdult: $isAdult) {\n            id\n            title {\n                userPreferred\n                romaji\n                english\n                native\n            }\n            coverImage {\n                extraLarge\n                large\n            }\n            bannerImage\n            startDate {\n                year\n                month\n                day\n            }\n            endDate {\n                year\n                month\n                day\n            }\n            description\n            season\n            type\n            format\n            status\n            episodes\n            duration\n            chapters\n            volumes\n            genres\n            synonyms\n            source(version: 2)\n            isAdult\n            isLocked\n            meanScore\n            averageScore\n            popularity\n            favourites\n            hashtag\n            countryOfOrigin\n            isLicensed\n            isFavourite\n            nextAiringEpisode {\n                airingAt\n                timeUntilAiring\n                episode\n            }\n            relations {\n                edges {\n                    id\n                    relationType (version: 2)\n                    node {\n                        id\n                        title {\n                            userPreferred\n                        }\n                        format\n                        type\n                        status\n                        coverImage {\n                            large\n                        }\n                    }\n                }\n            }\n            characters (perPage: 6, sort: [ROLE, ID]) {\n                edges {\n                    id\n                    role\n                    voiceActors (language: JAPANESE) {\n                        id\n                        name {\n                            first\n                            last\n                        }\n                        image {\n                            large\n                        }\n                    }\n                    node {\n                        id\n                        name {\n                            first\n                            last\n                        }\n                        image {\n                            large\n                        }\n                    }\n                }\n            }\n            staff (perPage: 8) {\n                edges {\n                    id\n                    role\n                    node {\n                        id\n                        name {\n                            first\n                            last\n                        }\n                        image {\n                            large\n                        }\n                    }\n                }\n            }\n            studios {\n                edges {\n                    isMain\n                    node {\n                        id\n                        name\n                    }\n                }\n            }\n            reviews (perPage: 2, sort: RATING_DESC) {\n                pageInfo {\n                    total\n                }\n                nodes {\n                    id\n                    summary\n                    rating\n                    ratingAmount\n                    user {\n                        id\n                        name\n                        avatar {\n                            large\n                        }\n                    }\n                }\n            }\n            externalLinks {\n                site\n                url\n            }\n            streamingEpisodes {\n                site\n                title\n                thumbnail\n                url\n            }\n            trailer {\n                id\n                site\n            }\n            rankings {\n                id\n                rank\n                type\n                format\n                year\n                season\n                allTime\n                context\n            }\n            tags {\n                id\n                name\n                description\n                rank\n                isMediaSpoiler\n                isGeneralSpoiler\n            }\n            mediaListEntry {\n                status\n            }\n            stats {\n                statusDistribution {\n                    status\n                    amount\n                }\n                scoreDistribution {\n                    score\n                    amount\n                }\n            }\n        }\n    }\n",$="\nquery media($id: Int, $page: Int) {\n    Media(id: $id) {\n        id\n        characters (page: $page, sort: [ROLE, ID]) {\n            pageInfo {\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            }\n            edges {\n                id\n                role\n                voiceActors {\n                    id\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        large\n                    }\n                    language\n                }\n                node {\n                    id\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        large\n                    }\n                }\n            }\n        }\n    }\n}\n",k="\nquery media($id: Int, $page: Int) {\n    Media(id: $id) {\n        id\n        staff (page: $page) {\n            pageInfo {\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            }\n            edges {\n                id\n                role\n                node {\n                    id\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        large\n                    }\n                }\n            }\n        }\n    }\n}\n",I="\nquery media($id: Int, $page: Int) {\n    Media(id: $id) {\n        id\n        title {\n            userPreferred\n        }\n        reviews (page: $page, sort: RATING_DESC) {\n            pageInfo {\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            }\n            edges {\n                node {\n                    id\n                    summary\n                    rating\n                    ratingAmount\n                    user {\n                        id\n                        name\n                        avatar {\n                            large\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n",A="\nquery ($id: Int, $page: Int, $perPage: Int) {\n    Page (page: $page, perPage: $perPage) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        threads (mediaCategoryId: $id, sort: ID_DESC) {\n            id\n            title\n            replyCount\n            viewCount\n            replyCommentId\n            repliedAt\n            createdAt\n            categories {\n                id\n                name\n            }\n            user {\n                name\n                avatar {\n                    large\n                }\n            }\n            replyUser {\n                name\n                avatar {\n                    large\n                }\n            }\n        }\n    }\n}",E="\nquery ($id: Int, $page: Int, $perPage: Int) {\n    Page(page: $page, perPage: $perPage) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        mediaList(mediaId: $id, isFollowing: true, sort: UPDATED_TIME_DESC) {\n            id\n            status\n            score\n            progress\n            user {\n                id\n                name\n                avatar {\n                    large\n                }\n                mediaListOptions {\n                    scoreFormat\n                }\n            }\n        }\n    }\n}\n",x="\nquery ($id: Int, $page: Int) {\n    Page(page: $page, perPage: 10) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        activities(mediaId: $id, sort: ID_DESC, type: MEDIA_LIST) {\n            ... on ListActivity {\n                id\n                userId\n                type\n                status\n                progress\n                replyCount\n                createdAt\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                media {\n                    id\n                    type\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large\n                    }\n                }\n                likes {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n            }\n        }\n    }\n}\n",O="\nquery ($id: Int) {\n    Media(id: $id) {\n        id\n        type\n        rankings {\n            id\n            rank\n            type\n            format\n            year\n            season\n            allTime\n            context\n        }\n        trends(sort: ID_DESC) {\n            nodes {\n                averageScore\n                date\n                trending\n                popularity\n            }\n        }\n        airing: trends(releasing: true, sort: EPISODE_DESC) {\n            nodes {\n                averageScore\n                inProgress\n                episode\n            }\n        }\n        distribution: stats {\n            status: statusDistribution {\n                status\n                amount\n            }\n            score: scoreDistribution {\n                score\n                amount\n            }\n        }\n    }\n}\n",P="\nmutation ($mediaId: Int, $tagId: Int, $vote: Int) {\n    SaveMediaTagVote (mediaId: $mediaId, tagId: $tagId, vote: $vote)\n}\n",T="\nmutation ($mediaId: Int, $name: String, $isMediaSpoiler: Boolean) {\n    AddMediaTag (mediaId: $mediaId, tag: $name, isMediaSpoiler: $isMediaSpoiler)\n}\n",L="\nmutation (\n    $mediaId: Int,\n    $name: String,\n    $isMediaSpoiler: Boolean,\n    $description: String\n) {\n    CreateMediaTag (\n        mediaId: $mediaId,\n        tag: $name,\n        isMediaSpoiler: $isMediaSpoiler,\n        description: $description,\n    )\n}\n",M="\nmutation ($mediaId: Int, $tagId: Int) {\n    DeleteMediaTag (mediaId: $mediaId, tagId: $tagId) {\n        deleted\n    }\n}\n",N="\nmutation ($mediaId: Int, $tagId: Int, $isMediaSpoiler: Boolean) {\n    UpdateMediaTag (mediaId: $mediaId, tagId: $tagId, isMediaSpoiler: $isMediaSpoiler) {\n        id\n    }\n}\n",D={namespaced:!0,state:{media:{},characters:{},staff:{},reviews:{},threads:{},following:{},activity:{},stats:{},allTags:null},getters:{find:e=>(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"media";return e[a][t]||{}}),child:e=>(t,a,s)=>Object(h["c"])(e[a][t],s),allTags:e=>e.allTags},actions:{async fetchMediaOverview(e,t){let a=e.commit;const s=await Object(p["a"])(S,t);a("setMedia",s.Media)},async fetchMediaChild(e,t){let a=e.commit,i=t.variables,n=t.type;const r=await Object(p["a"])(s[`${n}Query`],i);return a("setChild",{media:r.Media,type:n,page:i.page||void 0}),r.Media[n].pageInfo.hasNextPage},async fetchStats(e,t){let a=e.commit;const s=await Object(p["a"])(O,t);a("setStats",s.Media)},async fetchFollowing(e,t){let a=e.commit;const s=await Object(p["a"])(E,t);return a("setFollowing",{following:s.Page,id:t.id,page:t.page}),s.Page.pageInfo.hasNextPage},async fetchThreads(e,t){let a=e.commit;const s=await Object(p["a"])(A,t);return a("setThreads",{threads:s.Page,id:t.id,page:t.page}),s.Page.pageInfo.hasNextPage},async fetchActivity(e,t){let a=e.commit;const s=await Object(p["a"])(x,t);return a("setActivity",{activity:s.Page,id:t.id,page:t.page}),s.Page.pageInfo.hasNextPage},async fetchAllTags(e){let t=e.commit;const a=await Object(p["a"])(C);t("setAllTags",a.tags)},async tagVote(e,t){try{const e=await Object(p["a"])(P,t,{schema:"internal"});return e.SaveMediaTagVote.votes}catch(a){return!1}},async addTag(e,t){try{return await Object(p["a"])(T,t,{schema:"internal"})}catch(a){return!1}},async createTag(e,t){try{return await Object(p["a"])(L,t,{schema:"internal"})}catch(a){return{error:a[0]}}},async toggleSpoilerTag(e,t){try{return await Object(p["a"])(N,t,{schema:"internal"}),!0}catch(a){return!1}},async deleteTag(e,t){try{const e=await Object(p["a"])(M,t,{schema:"internal"});return e.DeleteMediaTag.deleted}catch(a){return!1}}},mutations:{setMedia(e,t){i["default"].set(e.media,t.id,t)},setChild(e,t){let a=t.media,s=t.type,n=t.page;"undefined"!==typeof n?Object(h["f"])(e[s],a[s],a.id,n,"edges"):i["default"].set(e[s],a.id,a[s])},setStats(e,t){i["default"].set(e.stats,t.id,t)},setFollowing(e,t){let a=t.following,s=t.id,i=t.page;Object(h["f"])(e.following,a,s,i,"mediaList")},setThreads(e,t){let a=t.threads,s=t.id,i=t.page;Object(h["f"])(e.threads,a,s,i,"threads")},setActivity(e,t){let a=t.activity,s=t.id,i=t.page;Object(h["f"])(e.activity,a,s,i,"activities")},toggleFavourite(e,t){let a=t.id,s=t.isFavourite;i["default"].set(e.media[a],"isFavourite",s)},setAllTags(e,t){e.allTags=t}}},R=a("f529"),j=a.n(R),F="\nquery ($id: Int, $name: String) {\n    User(id: $id, name: $name) {\n        id\n        name\n        avatar {\n            large\n        }\n        bannerImage\n        about\n        isFollowing\n        donatorTier\n        donatorBadge\n        moderatorStatus\n        isBlocked\n        bans\n        options {\n            profileColor\n        }\n        mediaListOptions {\n            scoreFormat\n        }\n        stats {\n            watchedTime\n            chaptersRead\n            animeListScores {\n                meanScore\n            }\n            mangaListScores {\n                meanScore\n            }\n            favouredGenresOverview {\n                genre\n                amount\n            }\n            activityHistory {\n                date\n                amount\n                level\n            }\n            animeStatusDistribution {\n                status\n                amount\n            }\n            mangaStatusDistribution {\n                status\n                amount\n            }\n        }\n        favourites {\n            anime {\n                edges {\n                    favouriteOrder\n                    node {\n                        id\n                        type\n                        status\n                        format\n                        title {\n                            userPreferred\n                        }\n                        coverImage {\n                            large\n                        }\n                    }\n                }\n            }\n            manga {\n                edges {\n                    favouriteOrder\n                    node {\n                        id\n                        type\n                        status\n                        format\n                        title {\n                            userPreferred\n                        }\n                        coverImage {\n                            large\n                        }\n                    }\n                }\n            }\n            characters {\n                edges {\n                    favouriteOrder\n                    node {\n                        id\n                        name {\n                            first\n                            last\n                        }\n                        image {\n                            large\n                        }\n                    }\n                }\n            }\n            staff {\n                edges {\n                    favouriteOrder\n                    node {\n                        id\n                        name {\n                            first\n                            last\n                        }\n                        image {\n                            large\n                        }\n                    }\n                }\n            }\n            studios {\n                edges {\n                    favouriteOrder\n                    node {\n                        id\n                        name\n                    }\n                }\n            }\n        }\n    }\n}\n",U="\nquery ($id: Int, $type: ActivityType, $page: Int) {\n    Page (page: $page, perPage: 25) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        activities (userId: $id, type: $type, sort: ID_DESC) {\n            ... on ListActivity {\n                id\n                type\n                replyCount\n                status\n                progress\n                createdAt\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                media {\n                    id\n                    type\n                    status\n                    isAdult\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large\n                    }\n                }\n                likes {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n            }\n\n            ... on TextActivity {\n                id\n                type\n                text\n                replyCount\n                createdAt\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                likes {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n            }\n\n            ... on MessageActivity {\n                id\n                type\n                message\n                replyCount\n                createdAt\n                user: recipient {\n                    id\n                }\n                messenger {\n                    id\n                    name\n                    donatorTier\n                    donatorBadge\n                    avatar {\n                        large\n                    }\n                }\n                likes {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n            }\n        }\n    }\n}\n",z="\nquery ($id: Int, $name: String) {\n    User(id: $id, name: $name) {\n        name\n        stats {\n            animeStatusDistribution {\n                status\n                amount\n            }\n            mangaStatusDistribution {\n                status\n                amount\n            }\n            animeScoreDistribution {\n                score\n                amount\n            }\n            mangaScoreDistribution {\n                score\n                amount\n            }\n            animeListScores {\n                standardDeviation\n                meanScore\n            }\n            mangaListScores {\n                standardDeviation\n                meanScore\n            }\n            favouredGenres {\n                genre\n                amount\n                meanScore\n                timeWatched\n            }\n            favouredTags {\n                tag {\n                    id\n                    name\n                }\n                amount\n                meanScore\n                timeWatched\n            }\n            favouredActors {\n                staff {\n                    id\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        large\n                    }\n                }\n                amount\n                meanScore\n                timeWatched\n            }\n            favouredStaff {\n                staff {\n                    id\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        large\n                    }\n                }\n                amount\n                meanScore\n                timeWatched\n            }\n            favouredStudios {\n                studio {\n                    id\n                    name\n                }\n                amount\n                meanScore\n                timeWatched\n            }\n            favouredYears {\n                year\n                meanScore\n                amount\n            }\n            favouredFormats {\n                format\n                amount\n            }\n        }\n    }\n}\n",q="\nquery ($id: Int, $page: Int) {\n    Page (page: $page, perPage: 30) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        reviews (userId: $id, sort: ID_DESC) {\n            id\n            rating\n            ratingAmount\n            summary\n            media {\n                title {\n                    userPreferred\n                }\n                bannerImage\n            }\n            user {\n                name\n            }\n        }\n    }\n}\n",B=e=>`\nquery ($id: Int!, $page: Int) {\n    Page(page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        ${e} (userId: $id, sort: USERNAME) {\n            id\n            name\n            avatar {\n                large\n            }\n        }\n    }\n}\n`,V="\nquery (\n    $page: Int\n    $id: Int,\n) {\n    Page (page: $page, perPage: 25) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        threads (\n            userId: $id,\n            sort: ID_DESC,\n        )\n        {\n            id\n            title\n            body\n            replyCount\n            viewCount\n            replyCommentId\n            isLocked\n            repliedAt\n            createdAt\n            categories {\n                id\n                name\n            }\n            mediaCategories {\n                id\n                title {\n                    userPreferred\n                }\n                type\n            }\n            user {\n                name\n                avatar {\n                    large\n                }\n            }\n            replyUser {\n                name\n                avatar {\n                    large\n                }\n            }\n            likes {\n                name\n                avatar {\n                    large\n                }\n            }\n        }\n    }\n}",G="\nquery ($id: Int $page: Int) {\n    Page (page: $page perPage: 15) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        threadComments (userId: $id, sort: ID_DESC) {\n            id\n            threadId\n            comment\n            createdAt\n            thread {\n                id\n                title\n            }\n            user {\n                id\n                name\n                donatorTier\n                donatorBadge\n                moderatorStatus\n                avatar {\n                    large\n                }\n            }\n            likes {\n                id\n                name\n                avatar {\n                    large\n                }\n            }\n        }\n    }\n}\n",Y="\nquery (\n    $id: Int,\n    $name:String,\n    $animePage: Int,\n    $mangaPage: Int,\n    $charactersPage: Int,\n    $staffPage: Int,\n    $studiosPage: Int\n) {\n    User(id: $id, name: $name) {\n        id\n        name\n        favourites {\n            anime (page: $animePage) {\n                pageInfo {\n                    total\n                    perPage\n                    currentPage\n                    lastPage\n                    hasNextPage\n                }\n                edges {\n                    favouriteOrder\n                    node {\n                        id\n                        type\n                        status\n                        format\n                        title {\n                            userPreferred\n                        }\n                        coverImage {\n                            large\n                        }\n                    }\n                }\n            }\n            manga (page: $mangaPage) {\n                pageInfo {\n                    total\n                    perPage\n                    currentPage\n                    lastPage\n                    hasNextPage\n                }\n                edges {\n                    favouriteOrder\n                    node {\n                        id\n                        type\n                        status\n                        format\n                        title {\n                            userPreferred\n                        }\n                        coverImage {\n                            large\n                        }\n                    }\n                }\n            }\n            characters (page: $charactersPage) {\n                pageInfo {\n                    total\n                    perPage\n                    currentPage\n                    lastPage\n                    hasNextPage\n                }\n                edges {\n                    favouriteOrder\n                    node {\n                        id\n                        name {\n                            first\n                            last\n                        }\n                        image {\n                            large\n                        }\n                    }\n                }\n            }\n            staff (page: $staffPage) {\n                pageInfo {\n                    total\n                    perPage\n                    currentPage\n                    lastPage\n                    hasNextPage\n                }\n                edges {\n                    favouriteOrder\n                    node {\n                        id\n                        name {\n                            first\n                            last\n                        }\n                        image {\n                            large\n                        }\n                    }\n                }\n            }\n            studios (page: $studiosPage) {\n                pageInfo {\n                    total\n                    perPage\n                    currentPage\n                    lastPage\n                    hasNextPage\n                }\n                edges {\n                    favouriteOrder\n                    node {\n                        id\n                        name\n                    }\n                }\n            }\n        }\n    }\n}\n",H="\nquery ($id: Int, $type: MediaType, $page: Int) {\n    Page(page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        mediaList(\n            userId: $id,\n            type: $type,\n            status_not: PLANNING,\n            compareWithAuthList: true,\n            sort: SCORE_DESC\n        ) {\n            id\n            status\n            score\n            user {\n                id\n            }\n            media {\n                id\n                title {\n                    userPreferred\n                }\n                type\n                format\n                mediaListEntry {\n                    status\n                    score\n                    user {\n                        id\n                    }\n                }\n            }\n        }\n    }\n}\n",Q="\nmutation ($id: Int) {\n    ToggleFollow (userId: $id) {\n        id\n        name\n        isFollowing\n    }\n}\n",W="\nmutation ($animeId: Int, $mangaId: Int, $characterId: Int, $staffId: Int, $studioId: Int) {\n    ToggleFavourite(\n        animeId: $animeId,\n        mangaId: $mangaId,\n        characterId: $characterId,\n        staffId: $staffId,\n        studioId: $studioId\n    ) {\n        anime {\n            pageInfo {\n                total\n            }\n        }\n        manga {\n            pageInfo {\n                total\n            }\n        }\n        characters {\n            pageInfo {\n                total\n            }\n        }\n        staff {\n            pageInfo {\n                total\n            }\n        }\n        studios {\n            pageInfo {\n                total\n            }\n        }\n    }\n}\n",K="\nmutation (\n    $animeIds: [Int],\n    $mangaIds: [Int],\n    $characterIds: [Int],\n    $staffIds: [Int],\n    $studioIds: [Int],\n    $animeOrder: [Int],\n    $mangaOrder: [Int],\n    $characterOrder: [Int],\n    $staffOrder: [Int],\n    $studioOrder: [Int],\n) {\n    UpdateFavouriteOrder (\n        animeIds: $animeIds,\n        mangaIds: $mangaIds,\n        characterIds: $characterIds,\n        staffIds: $staffIds,\n        studioIds: $studioIds,\n        animeOrder: $animeOrder,\n        mangaOrder: $mangaOrder,\n        characterOrder: $characterOrder,\n        staffOrder: $staffOrder,\n        studioOrder: $studioOrder\n    ) {\n        anime {\n            pageInfo {\n                total\n            }\n        }\n    }\n}\n";const J="\nquery ($page: Int, $type: MediaType, $id: Int) {\n    Page(page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        submissions: mediaSubmissions(type: $type, userId: $id) {\n            id\n            createdAt\n            status\n            notes\n            submission {\n                id\n                type\n                title {\n                    userPreferred\n                }\n                coverImage {\n                    large\n                }\n            }\n            media {\n                id\n                type\n                title {\n                    userPreferred\n                }\n                coverImage {\n                    large\n                }\n            }\n        }\n    }\n}\n",Z="\nquery ($page: Int, $id: Int) {\n    Page(page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        submissions: characterSubmissions (userId: $id) {\n            createdAt\n            status\n            notes\n            character {\n                id\n                name {\n                    first\n                    last\n                }\n                image {\n                    large\n                }\n            }\n        }\n    }\n}\n",X="\nquery ($page: Int, $id: Int) {\n    Page(page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        submissions: staffSubmissions (userId: $id) {\n            createdAt\n            status\n            notes\n            staff {\n                id\n                name {\n                    first\n                    last\n                }\n                image {\n                    large\n                }\n            }\n        }\n    }\n}\n";var ee={anime:J,manga:J,characters:Z,staff:X},te="\nmutation ($userId: Int) {\n    ToggleUserBlock(userId: $userId) {\n        id\n        name\n        isBlocked\n    }\n}\n",ae="\nmutation ($userId: Int, $reason: String) {\n    CreateUserReport(userId: $userId, reason: $reason)\n}\n";const se={schema:"internal"};var ie={namespaced:!0,state:{user:{},activity:{},stats:{},reviews:{},following:{},followers:{},threads:{},comments:{},favourites:{},submissions:{anime:{},manga:{},characters:{},staff:{}},listComparison:{}},getters:{find:e=>(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return e[a][t]||{}}),activity:e=>(function(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(h["c"])(e.activity[t+s],a)}),stats:e=>t=>e.stats[t]||!1,reviews:e=>(t,a)=>Object(h["c"])(e.reviews[t],a),follows:e=>(t,a,s)=>Object(h["c"])(e[a][t],s),threads:e=>(t,a)=>Object(h["c"])(e.threads[t],a),comments:e=>(t,a)=>Object(h["c"])(e.comments[t],a),favourites:e=>(t,a,s)=>Object(h["c"])(e.favourites[t+a],s),submissions:e=>(t,a,s)=>Object(h["c"])(e.submissions[a][t],s),listComparison:e=>(t,a,s)=>Object(h["c"])(e.listComparison[t+a.toUpperCase()],s)},actions:{async fetchOverview(e,t){let a=e.commit;const s=await Object(p["a"])(F,t);a("setUser",{user:s.User,id:t.id||t.name})},async fetchActivity(e,t){let a=e.commit;const s=await Object(p["a"])(U,t);return a("setActivity",{feed:s.Page,id:t.id,type:t.type,page:t.page}),s.Page.pageInfo.hasNextPage},async fetchStats(e,t){let a=e.commit;const s=await Object(p["a"])(z,t);a("setUserStats",{stats:s.User.stats,id:t.id||t.name})},async fetchReviews(e,t){let a=e.commit;const s=await Object(p["a"])(q,t);return a("setReviews",{reviews:s.Page,id:t.id,page:t.page}),s.Page.pageInfo.hasNextPage},async fetchFollows(e,t){let a=e.commit;const s=await Object(p["a"])(B(t.type),t);return a("setFollows",{follows:s.Page,id:t.id,type:t.type,page:t.page}),s.Page.pageInfo.hasNextPage},async fetchThreads(e,t){let a=e.commit;const s=await Object(p["a"])(V,t);return a("setThreads",{threads:s.Page,id:t.id,page:t.page}),s.Page.pageInfo.hasNextPage},async fetchComments(e,t){let a=e.commit;const s=await Object(p["a"])(G,t);return a("setComments",{comments:s.Page,id:t.id,page:t.page}),s.Page.pageInfo.hasNextPage},async fetchFavourites(e,t){let a=e.commit;const s=t;s[`${t.type}Page`]=t.page;try{const e=await Object(p["a"])(Y,s);return a("setFavourites",{favourites:e.User.favourites[t.type],id:t.id,type:t.type,page:t.page}),e.User.favourites[t.type].pageInfo.hasNextPage}catch(i){return console.error("Failed to fetch favourites",i),!1}},async fetchSubmissions(e,t){let a=e.commit;try{const e=Object(c["a"])({},t,{type:t.type.toUpperCase()}),i=await Object(p["a"])(ee[t.type],e,{schema:"internal"});return a("setSubmissions",{submissions:i.Page,id:t.id,type:t.type,page:t.page}),i.Page.pageInfo.hasNextPage}catch(s){return!1}},async toggleFollow(e,t){let a=e.commit;const s=await Object(p["a"])(Q,{id:t});a("setFollowing",s.ToggleFollow)},async toggleFavourite(e,t){let a=e.commit,s=t.id,i=t.type,n=t.isFavourite,r=t.mutation;const o={};o[`${i}Id`]=s;try{return await Object(p["a"])(W,o),r&&a(r,{id:s,isFavourite:!n},{root:!0}),!n}catch(c){return null}},async updateFavouriteOrder(e,t){try{await Object(p["a"])(K,t)}catch(a){return!1}},async fetchListComparison(e,t){let a=e.commit;const s=await Object(p["a"])(H,t);return a("setListComparison",{list:s.Page,id:t.id,type:t.type,page:t.page}),s.Page.pageInfo.hasNextPage},async toggleBlock(e,t){let a=e.commit;try{const e=await Object(p["a"])(te,{userId:t},se),i=e.ToggleUserBlock;a("setBlocked",i),j.a.success(`${i.name} ${i.isBlocked?"blocked":"unblocked"}`)}catch(s){403===s[0].status&&j.a.error("Sorry, you cannot block this type of user.")}},async createReport(e,t){try{await Object(p["a"])(ae,t,se),j.a.success("Your report has been sent and will be reviewed by site moderators shortly.")}catch(a){Object(h["a"])(a)}}},mutations:{setUser(e,t){let a=t.user,s=t.id;i["default"].set(e.user,s,a)},setActivity(e,t){let a=t.feed,s=t.id,i=t.type,n=void 0===i?null:i,r=t.page;Object(h["f"])(e.activity,a,s+n,r,"activities")},setUserStats(e,t){let a=t.stats,s=t.id;i["default"].set(e.stats,s,a)},setReviews(e,t){let a=t.reviews,s=t.id,i=t.page;Object(h["f"])(e.reviews,a,s,i,"reviews")},setFollows(e,t){let a=t.follows,s=t.id,i=t.type,n=t.page;Object(h["f"])(e[i],a,s,n,i)},setThreads(e,t){let a=t.threads,s=t.id,i=t.page;Object(h["f"])(e.threads,a,s,i,"threads")},setComments(e,t){let a=t.comments,s=t.id,i=t.page;Object(h["f"])(e.comments,a,s,i,"threadComments")},setFavourites(e,t){let a=t.favourites,s=t.id,i=t.type,n=t.page;Object(h["f"])(e.favourites,a,s+i,n,"edges")},setSubmissions(e,t){let a=t.submissions,s=t.id,i=t.type,n=t.page;Object(h["f"])(e.submissions[i],a,s,n,"submissions")},setFollowing(e,t){const a=e.user[t.name]||e.user[t.id];a.isFollowing=t.isFollowing},setListComparison(e,t){let a=t.list,s=t.id,i=t.type,n=t.page;Object(h["f"])(e.listComparison,a,s+i,n,"mediaList")},setBlocked(e,t){const a=e.user[t.name]||e.user[t.id];a.isBlocked=t.isBlocked}}},ne="\nquery character($id: Int, $page: Int) {\n    Character (id: $id) {\n        id\n        name {\n            first\n            last\n            native\n            alternative\n        }\n        image {\n            large\n        }\n        isFavourite\n        description\n        media (page: $page) {\n            pageInfo {\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            }\n            edges {\n                id\n                characterRole\n                voiceActors {\n                    id\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        large\n                    }\n                    language\n                }\n                node {\n                    id\n                    type\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large\n                    }\n                }\n            }\n        }\n    }\n}\n",re={namespaced:!0,state:{characters:{},mediaRoles:{}},getters:{find:e=>t=>{return e.characters[t]||{}},roles:e=>(t,a)=>{return Object(h["c"])(e.mediaRoles[t],a)}},actions:{async fetchCharacter(e,t){let a=e.commit;try{const e=await Object(p["a"])(ne,t);return a("setCharacter",{character:e.Character,page:t.page}),e.Character.media.pageInfo.hasNextPage}catch(s){return!1}}},mutations:{setCharacter(e,t){let a=t.character,s=t.page;e.characters[a.id]||i["default"].set(e.characters,a.id,a),a.media.edges&&Object(h["f"])(e.mediaRoles,a.media,a.id,s,"edges")},toggleFavourite(e,t){let a=t.id,s=t.isFavourite;i["default"].set(e.characters[a],"isFavourite",s)}}},oe="\nquery staff($id: Int, $characterPage: Int, $staffPage: Int) {\n    Staff(id: $id) {\n        id\n        description\n        isFavourite\n        name {\n            first\n            last\n            native\n            alternative\n        }\n        image {\n            large\n        }\n        characters(page: $characterPage) {\n            pageInfo {\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            }\n            edges {\n                role\n                media {\n                    id\n                    type\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large\n                    }\n                }\n                node {\n                    id\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        large\n                    }\n                }\n            }\n        }\n        staffMedia(page: $staffPage) {\n            pageInfo {\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            }\n            edges {\n                staffRole\n                node {\n                    id\n                    type\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large\n                    }\n                }\n            }\n        }\n    }\n}\n",ce={namespaced:!0,state:{staff:{},characterRoles:{},mediaRoles:{}},getters:{find:e=>t=>{return e.staff[t]||{}},roles:e=>(t,a,s)=>{return Object(h["c"])(e[a][t],s)}},actions:{async fetchStaff(e,t){let a=e.commit;try{const e=await Object(p["a"])(oe,t);return a("setStaff",{staff:e.Staff,characterPage:t.characterPage,staffPage:t.staffPage,pageType:t.characterPage?"characters":"staff"}),t.characterPage?e.Staff.characters.pageInfo.hasNextPage:e.Staff.staffMedia.pageInfo.hasNextPage}catch(s){return!1}}},mutations:{setStaff(e,t){let a=t.staff,s=t.characterPage,n=t.staffPage,r=t.pageType;i["default"].set(e.staff,a.id,a),"characters"===r&&a.characters.edges&&Object(h["f"])(e.characterRoles,a.characters,a.id,s,"edges"),"staff"===r&&a.staffMedia.edges&&Object(h["f"])(e.mediaRoles,a.staffMedia,a.id,n,"edges")},toggleFavourite(e,t){let a=t.id,s=t.isFavourite;i["default"].set(e.staff[a],"isFavourite",s)}}},le="\nquery ($id: Int, $page: Int) {\n    Studio(id: $id) {\n        id\n        name\n        isAnimationStudio\n        isFavourite\n        media(page: $page, sort: START_DATE_DESC) {\n            pageInfo {\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            }\n            edges {\n                isMainStudio\n                node {\n                    id\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large: extraLarge\n                        color\n                    }\n                    startDate {\n                        year\n                        month\n                        day\n                    }\n                    season\n                    description\n                    type\n                    format\n                    genres\n                    isAdult\n                    averageScore\n                    popularity\n                    mediaListEntry {\n                        status\n                    }\n                    nextAiringEpisode {\n                        airingAt\n                        timeUntilAiring\n                        episode\n                    }\n                }\n            }\n        }\n    }\n}\n",de={namespaced:!0,state:{studio:{},media:{}},getters:{find:e=>t=>{return e.studio[t]||{}},media:e=>(t,a)=>{return Object(h["c"])(e.media[t],a)}},actions:{async fetchStudio(e,t){let a=e.commit;const s=await Object(p["a"])(le,t);return a("setStudio",{studio:s.Studio,page:t.page}),s.Studio.media.pageInfo.hasNextPage}},mutations:{setStudio(e,t){let a=t.studio,s=t.page;e.studio[a.id]||i["default"].set(e.studio,a.id,a),a.media.edges&&Object(h["f"])(e.media,a.media,a.id,s,"edges")},toggleFavourite(e,t){let a=t.id,s=t.isFavourite;i["default"].set(e.studio[a],"isFavourite",s)}}},ue="\nquery ($id: Int, $mediaId: Int, $userId: Int) {\n    Review (id: $id, mediaId: $mediaId, userId: $userId) {\n        id\n        body\n        summary\n        rating\n        ratingAmount\n        userRating\n        score\n        private\n        createdAt\n        user {\n            id\n            name\n        }\n        media {\n            id\n            type\n            title {\n                userPreferred\n            }\n            isAdult\n            bannerImage\n            coverImage {\n                large\n            }\n        }\n    }\n}\n",me="\nquery ($page: Int){\n    Page (page: $page, perPage: 30) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        reviews (sort: ID_DESC) {\n            id\n            rating\n            ratingAmount\n            summary\n            media {\n                title {\n                    userPreferred\n                }\n                bannerImage\n            }\n            user {\n                name\n            }\n        }\n    }\n}\n",pe="\nmutation ($id: Int, $rating: ReviewRating) {\n    RateReview (reviewId: $id, rating: $rating) {\n        id\n        userRating\n        rating\n        ratingAmount\n    }\n}\n",he="\nmutation ($id: Int, $mediaId: Int, $body: String, $summary: String, $score: Int, $private: Boolean) {\n    SaveReview(id: $id, mediaId: $mediaId, body: $body, summary: $summary, score: $score, private: $private) {\n        id\n        mediaId\n        userId\n    }\n}\n",ve="\nmutation ($id: Int) {\n    DeleteReview (id: $id) {\n        deleted\n    }\n}\n",fe={namespaced:!0,state:{reviews:{}},getters:{find:e=>t=>{return e.reviews[t]||{}},reviews:e=>t=>{return Object(h["c"])(e.reviews.all,t)}},actions:{async fetchReview(e,t){let a=e.commit;const s=await Object(p["a"])(ue,t);a("setReview",s.Review)},async fetchEditingReview(e,t){let a=e.commit;try{const e=await Object(p["a"])(ue,t,{redirectOn404:!1});return a("setEditingReview",e.Review),!0}catch(s){return!1}},async fetchReviews(e,t){let a=e.commit;const s=await Object(p["a"])(me,t);return a("setReviews",{reviews:s.Page,page:t.page}),s.Page.pageInfo.hasNextPage},async save(e,t){try{const e=await Object(p["a"])(he,t);return{success:!0,review:e.SaveReview}}catch(a){return Object(h["a"])(a),{success:!1}}},async delete(e,t){try{const e=await Object(p["a"])(ve,t);return e.DeleteReview.deleted}catch(a){return Object(h["a"])(a),!1}},async rate(e,t){let a=e.commit;const s=await Object(p["a"])(pe,t);a("setReviewRating",s.RateReview)}},mutations:{setReview(e,t){i["default"].set(e.reviews,t.id,t)},setEditingReview(e,t){i["default"].set(e.reviews,`${t.media.id}-${t.user.id}`,t)},setReviews(e,t){let a=t.reviews,s=t.page;Object(h["f"])(e.reviews,a,"all",s,"reviews")},setReviewRating(e,t){e.reviews[t.id].userRating=t.userRating,e.reviews[t.id].rating=t.rating,e.reviews[t.id].ratingAmount=t.ratingAmount}}},ge="\nquery (\n    $page: Int = 1,\n    $type: MediaType,\n    $isAdult: Boolean = false,\n    $search: String,\n    $format: MediaFormat\n    $status: MediaStatus,\n    $countryOfOrigin: CountryCode,\n    $source: MediaSource,\n    $season: MediaSeason,\n    $year: String,\n    $onList: Boolean,\n    $yearLesser: FuzzyDateInt,\n    $yearGreater: FuzzyDateInt,\n    $licensedBy: [String],\n    $includedGenres: [String],\n    $excludedGenres: [String],\n    $includedTags: [String],\n    $excludedTags: [String],\n    $sort: [MediaSort] = [SCORE_DESC, POPULARITY_DESC]\n) {\n    Page (page: $page, perPage: 20) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        ANIME: media (\n            type: $type,\n            season: $season,\n            format: $format,\n            status: $status,\n            countryOfOrigin: $countryOfOrigin,\n            source: $source,\n            search: $search,\n            onList: $onList,\n            startDate_like: $year,\n            startDate_lesser: $yearLesser,\n            startDate_greater: $yearGreater,\n            licensedBy_in: $licensedBy,\n            genre_in: $includedGenres,\n            genre_not_in: $excludedGenres,\n            tag_in: $includedTags,\n            tag_not_in: $excludedTags,\n            sort: $sort,\n            isAdult: $isAdult\n        ) {\n            id\n            title {\n                userPreferred\n            }\n            coverImage {\n                large: extraLarge\n                color\n            }\n            startDate {\n                year\n                month\n                day\n            }\n            endDate {\n                year\n                month\n                day\n            }\n            season\n            description\n            type\n            format\n            status\n            genres\n            isAdult\n            averageScore\n            popularity\n            mediaListEntry {\n                status\n            }\n            nextAiringEpisode {\n                airingAt\n                timeUntilAiring\n                episode\n            }\n            studios (isMain: true) {\n                edges {\n                    isMain\n                    node {\n                        id\n                        name\n                    }\n                }\n            }\n        }\n    }\n}\n",ye="\nquery ($page: Int = 1, $search: String, $sort: [CharacterSort] = [FAVOURITES_DESC]) {\n    Page (page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        CHARACTERS: characters (search: $search, sort: $sort) {\n            id\n            name {\n                first\n                last\n            }\n            image {\n                large\n            }\n        }\n    }\n}\n",_e="\nquery ($page: Int = 1, $search: String, $sort: [StaffSort] = [FAVOURITES_DESC]) {\n    Page (page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        STAFF: staff (search: $search, sort: $sort) {\n            id\n            name {\n                first\n                last\n            }\n            image {\n                large\n            }\n        }\n    }\n}\n",be="\nquery ($page: Int = 1, $search: String, $sort: [StudioSort] = [FAVOURITES_DESC]) {\n    Page (page: $page, perPage: 10) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        STUDIOS: studios (search: $search, sort: $sort) {\n            id\n            name\n            media (isMain: true, sort: POPULARITY_DESC, perPage: 3) {\n                nodes {\n                    id\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large\n                    }\n                    startDate {\n                        year\n                        month\n                        day\n                    }\n                    endDate {\n                        year\n                        month\n                        day\n                    }\n                    season\n                    description\n                    type\n                    format\n                    status\n                    genres\n                    isAdult\n                    averageScore\n                    popularity\n                    mediaListEntry {\n                        status\n                    }\n                }\n            }\n        }\n    }\n}\n",we="\nquery ($thisSeason: MediaSeason, $thisYear: Int, $nextSeason: MediaSeason, $nextYear: Int) {\n    Popular_This_Season: Page(page: 1, perPage: 6) {\n        media(\n            season: $thisSeason,\n            seasonYear: $thisYear,\n            status: RELEASING,\n            sort: POPULARITY_DESC,\n            type: ANIME,\n            isAdult: false\n        ) {\n            ...media\n        }\n    }\n    Highly_Anticipated_Next_Season: Page(page: 1, perPage: 6) {\n        media(\n            season: $nextSeason,\n            seasonYear: $nextYear,\n            sort: POPULARITY_DESC,\n            type: ANIME,\n            isAdult: false\n        ) {\n            ...media\n        }\n    }\n    Highest_Rated_All_Time: Page(page: 1, perPage: 6) {\n        media(sort: SCORE_DESC, type: ANIME, isAdult: false) {\n            ...media\n        }\n    }\n    All_Time_Popular: Page(page: 1, perPage: 6) {\n        media(sort: POPULARITY_DESC, type: ANIME, isAdult: false) {\n            ...media\n        }\n    }\n}\n\nfragment media on Media {\n    id\n    title {\n        userPreferred\n    }\n    coverImage {\n        large: extraLarge\n        color\n    }\n    startDate {\n        year\n        month\n        day\n    }\n    endDate {\n        year\n        month\n        day\n    }\n    season\n    description\n    type\n    format\n    status\n    genres\n    isAdult\n    averageScore\n    popularity\n    mediaListEntry {\n        status\n    }\n    nextAiringEpisode {\n        airingAt\n        timeUntilAiring\n        episode\n    }\n    studios(isMain: true) {\n        edges {\n            isMain\n            node {\n                id\n                name\n            }\n        }\n    }\n}\n",Ce="\nquery ($thisYearLike: String) {\n    Highest_Rated_All_Time: Page(page: 1, perPage: 6) {\n        media(sort: SCORE_DESC, type: MANGA, isAdult: false) {\n            ...media\n        }\n    }\n    All_Time_Popular: Page(page: 1, perPage: 6) {\n        media(sort: POPULARITY_DESC, type: MANGA, isAdult: false) {\n            ...media\n        }\n    }\n    Popular_This_Year: Page(page: 1, perPage: 6) {\n        media(\n            startDate_like: $thisYearLike,\n            status_not: NOT_YET_RELEASED,\n            sort: POPULARITY_DESC,\n            type: MANGA,\n            isAdult: false\n        ) {\n            ...media\n        }\n    }\n}\n\nfragment media on Media {\n    id\n    title {\n        userPreferred\n    }\n    coverImage {\n        large: extraLarge\n        color\n    }\n    startDate {\n        year\n        month\n        day\n    }\n    endDate {\n        year\n        month\n        day\n    }\n    mediaListEntry {\n        status\n    }\n    season\n    description\n    type\n    format\n    status\n    genres\n    isAdult\n    averageScore\n    popularity\n}\n";const Se={ANIME:ge,MANGA:ge,CHARACTERS:ye,STAFF:_e,STUDIOS:be};var $e={namespaced:!0,state:{ANIME:{},MANGA:{},CHARACTERS:{},STAFF:{},STUDIOS:{},preview:{},tags:{},preparedQuery:null,activeQuery:null},getters:{find:e=>(t,a,s)=>{const i=m()(a);return"{}"!==i||"ANIME"!==t&&"MANGA"!==t?Object(h["c"])(e[t][i],s):[]},preview:e=>t=>{return e.preview[t]||[]},tags:e=>e.tags,preparedQuery:e=>e.preparedQuery,activeQuery:e=>e.activeQuery},actions:{async fetchSearch(e,t){let a=e.commit,s=t.variables,i=t.query;const n=m()(i);s.yearGreater&&(s.yearGreater+="0000"),s.yearLesser&&(s.yearLesser+="0000"),s.includedGenres&&(s.includedGenres=s.includedGenres.split(",")),s.excludedGenres&&(s.excludedGenres=s.excludedGenres.split(",")),s.includedTags&&(s.includedTags=s.includedTags.split(",")),s.excludedTags&&(s.excludedTags=s.excludedTags.split(",")),s.licensedBy&&(s.licensedBy=s.licensedBy.split(",")),s.onList&&"string"===typeof s.onList&&(s.onList="true"===s.onList.toLowerCase());const r=await Object(p["a"])(Se[s.type||"ANIME"],s);return a("setPageStore",{results:r.Page,type:s.type||"ANIME",page:s.page,query:n}),r.Page.pageInfo.hasNextPage},async fetchPreview(e,t){let a=e.commit,s=we;"MANGA"===t.type&&(s=Ce);const i=await Object(p["a"])(s,t);a("setPreview",{results:i,type:t.type})},async fetchTags(e){let t=e.commit,a=e.state;if("undefined"===typeof a.tags.tags){const e=await Object(p["a"])(C);t("setTags",{tags:e})}},setPreparedQuery(e,t){let a=e.commit,s=e.state,i=t.key,n=void 0===i?null:i,r=t.value,o=t.query,l=void 0===o?null:o;null===l&&(l=Object(c["a"])({},s.preparedQuery)),null!==n&&(null===r?delete l[n]:l[n]=r),a("setPreparedQuery",{query:l})},setActiveQuery(e,t){let a=e.commit,s=t.query;a("setActiveQuery",{query:s})},applyPreparedQuery(e){let t=e.commit,a=e.state;t("setActiveQuery",{query:a.preparedQuery})}},mutations:{setPageStore(e,t){let a=t.results,s=t.type,i=t.page,n=t.query;Object(h["f"])(e[s],a,n,i,"MANGA"===s?"ANIME":s)},setPreview(e,t){let a=t.results,s=t.type;i["default"].set(e.preview,s,a)},setTags(e,t){let a=t.tags;e.tags=a},setPreparedQuery(e,t){let a=t.query;e.preparedQuery=a},setActiveQuery(e,t){let a=t.query;e.preparedQuery=a,e.activeQuery=a}}},ke=(a("386d"),"\nquery ($search: String, $isAdult: Boolean) {\n    anime: Page (perPage: 8) {\n        pageInfo {\n            total\n        }\n        results: media (type: ANIME, isAdult: $isAdult, search: $search) {\n            id\n            title {\n                userPreferred\n            }\n            coverImage {\n                medium\n            }\n            type\n            format\n            isLicensed\n            startDate {\n                year\n            }\n        }\n    },\n    manga: Page (perPage: 8) {\n        pageInfo {\n            total\n        }\n        results: media (type: MANGA, isAdult: $isAdult, search: $search) {\n            id\n            title {\n                userPreferred\n            }\n            coverImage {\n                medium\n            }\n            type\n            format\n            isLicensed\n            startDate {\n                year\n            }\n        }\n    },\n    characters: Page (perPage: 8) {\n        pageInfo {\n            total\n        }\n        results: characters (search: $search) {\n            id\n            name {\n                first\n                last\n            }\n            image {\n                medium\n            }\n        }\n    },\n    staff: Page (perPage: 8) {\n        pageInfo {\n            total\n        }\n        results: staff (search: $search) {\n            id\n            name {\n                first\n                last\n            }\n            image {\n                medium\n            }\n        }\n    },\n    studios: Page (perPage: 13) {\n        pageInfo {\n            total\n        }\n        results: studios (search: $search) {\n            id\n            name\n        }\n    },\n    users: Page (perPage: 8) {\n        results: users (search: $search) {\n            id\n            name\n            avatar {\n                medium\n            }\n        }\n    },\n}"),Ie={namespaced:!0,state:{visible:!1,search:{}},getters:{search:e=>t=>{return e.search[t]||{}},visible:e=>e.visible},actions:{toggleVisibility(e){let t=e.commit,a=e.state,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!a.visible;t("toggleVisibility",s)},async fetchSearch(e,t){let a=e.commit;const s=await Object(p["a"])(ke,t);a("setSearchResults",{results:s,query:t.search})}},mutations:{setSearchResults(e,t){let a=t.results,s=t.query;i["default"].set(e.search,s,a)},toggleVisibility(e,t){e.visible=t}}},Ae="\nquery ($userId: Int, $userName: String, $type: MediaType) {\n    MediaListCollection(userId: $userId, userName: $userName, type: $type) {\n        lists {\n            name\n            isCustomList\n            isCompletedList: isSplitCompletedList\n            entries {\n                ...mediaListEntry\n            }\n        }\n        user {\n            id\n            name\n            avatar {\n                large\n            }\n            mediaListOptions {\n                scoreFormat\n                rowOrder\n                animeList {\n                    sectionOrder\n                    customLists\n                    splitCompletedSectionByFormat\n                    theme\n                }\n                mangaList {\n                    sectionOrder\n                    customLists\n                    splitCompletedSectionByFormat\n                    theme\n                }\n            }\n        }\n    }\n}\n\nfragment mediaListEntry on MediaList {\n    id\n    mediaId\n    status\n    score\n    progress\n    progressVolumes\n    repeat\n    priority\n    private\n    hiddenFromStatusLists\n    customLists\n    advancedScores\n    notes\n    updatedAt\n    startedAt {\n        year\n        month\n        day\n    }\n    completedAt {\n        year\n        month\n        day\n    }\n    media {\n        id\n        title {\n            userPreferred\n        }\n        coverImage {\n            large\n        }\n        type\n        format\n        status\n        episodes\n        volumes\n        chapters\n        averageScore\n        popularity\n        isAdult\n        countryOfOrigin\n        startDate {\n            year\n            month\n            day\n        }\n    }\n}\n",Ee="\nquery ($mediaId: Int) {\n    Media(id: $mediaId) {\n        id\n        title {\n            userPreferred\n        }\n        coverImage {\n            large\n        }\n        bannerImage\n        type\n        status\n        episodes\n        chapters\n        volumes\n        isFavourite\n        mediaListEntry {\n            id\n            mediaId\n            status\n            score\n            advancedScores\n            progress\n            progressVolumes\n            repeat\n            priority\n            private\n            hiddenFromStatusLists\n            customLists\n            notes\n            updatedAt\n            startedAt {\n                year\n                month\n                day\n            }\n            completedAt {\n                year\n                month\n                day\n            }\n            user {\n                id\n                name\n            }\n        }\n    }\n}\n",xe="\nmutation (\n    $id: Int,\n    $mediaId: Int,\n    $status: MediaListStatus,\n    $score: Float,\n    $progress: Int,\n    $progressVolumes: Int,\n    $repeat: Int,\n    $private: Boolean,\n    $notes: String,\n    $customLists: [String],\n    $hiddenFromStatusLists: Boolean,\n    $advancedScores: [Float],\n    $startedAt: FuzzyDateInput,\n    $completedAt: FuzzyDateInput\n) {\n    SaveMediaListEntry (\n        id: $id,\n        mediaId: $mediaId,\n        status: $status,\n        score: $score,\n        progress: $progress,\n        progressVolumes: $progressVolumes,\n        repeat: $repeat,\n        private: $private,\n        notes: $notes,\n        customLists: $customLists,\n        hiddenFromStatusLists: $hiddenFromStatusLists,\n        advancedScores: $advancedScores,\n        startedAt: $startedAt,\n        completedAt: $completedAt\n    ) {\n        id\n        mediaId\n        status\n        score\n        progress\n        progressVolumes\n        repeat\n        priority\n        private\n        hiddenFromStatusLists\n        customLists\n        notes\n        updatedAt\n        startedAt {\n            year\n            month\n            day\n        }\n        completedAt {\n            year\n            month\n            day\n        }\n        user {\n            id\n            name\n        }\n        media {\n            id\n            title {\n                userPreferred\n            }\n            coverImage {\n                large\n            }\n            type\n            format\n            status\n            episodes\n            volumes\n            chapters\n            averageScore\n            popularity\n            isAdult\n            startDate {\n                year\n            }\n        }\n    }\n}\n",Oe="\nmutation ($id: Int) {\n    DeleteMediaListEntry (id: $id) {\n        deleted\n    }\n}\n",Pe="\nmutation ($animeListOptions: MediaListOptionsInput, $mangaListOptions: MediaListOptionsInput) {\n    UpdateUser (animeListOptions: $animeListOptions, mangaListOptions: $mangaListOptions) {\n        id\n        name\n    }\n}\n",Te={namespaced:!0,state:{lists:{ANIME:{},MANGA:{}},mediaEntries:{},listLimit:30,listEditor:{active:!1}},getters:{find:e=>(t,a)=>{return e.lists[a][t]},entry:e=>t=>e.mediaEntries[t]||{},editor:e=>e.listEditor,limit:e=>e.listLimit},actions:{async fetchMedialist(e,t){let a=e.commit;const s=t.userId||t.userName,i=await Object(p["a"])(Ae,t);a("setList",{id:s,type:t.type,list:i.MediaListCollection}),document.title=`${i.MediaListCollection.user.name}'s ${t.type.toLowerCase()}list  AniList`},async saveListEntry(e,t){let a,s=e.commit;try{a=await Object(p["a"])(xe,t)}catch(i){return Object(h["a"])(i),!1}return t.mutation?s(t.mutation,a.SaveMediaListEntry,{root:!0}):t.returnData?a.SaveMediaListEntry:(s("updateListEntry",a.SaveMediaListEntry),!!a.SaveMediaListEntry)},async deleteListEntry(e,t){let a,s=e.commit,i=t.entry,n=t.id;try{a=await Object(p["a"])(Oe,{id:n})}catch(r){return Object(h["a"])(r),!1}return s("updateListEntry",Object(c["a"])({deleted:!0},i)),s("deleteEditorListEntry",i.mediaId),a.DeleteMediaListEntry.deleted},async fetchListEntry(e,t){let a=e.commit;const s=await Object(p["a"])(Ee,{mediaId:t});a("setListEntry",s.Media)},async updateListSettings(e,t){let a=e.commit;try{return await Object(p["a"])(Pe,t),a("updateListTheme",{id:t.userId||t.userName,type:t.type,theme:t.theme}),!0}catch(s){return!1}},openListEditor(e,t){let a=e.commit;a("setListEditor",{active:!0,id:t})},closeListEditor(e){let t=e.commit;t("setListEditor",{active:!1})},updateListLimit(e,t){let a=e.commit;a("setListLimit",t)},resetListLimit(e){let t=e.commit;t("setListLimit",30)}},mutations:{setList(e,t){let a=t.id,s=t.type,n=t.list;i["default"].set(e.lists[s],a,n)},updateListTheme(e,t){let a=t.id,s=t.type,i=t.theme;e.lists[s][a].user.mediaListOptions[`${s.toLowerCase()}List`].theme.theme=i},updateListEntry(e,t){const a=[],s=e=>e.mediaId===t.mediaId,n=e.lists[t.media.type][t.user.name]||e.lists[t.media.type][t.user.id];n&&(n.lists.forEach((e,t)=>{const i=e.entries.findIndex(s);-1!==i&&a.push({list:t,entry:i})}),a.forEach(e=>{t.deleted?i["default"].delete(n.lists[e.list].entries,e.entry):i["default"].set(n.lists[e.list].entries,e.entry,t)}))},deleteEditorListEntry(e,t){e.mediaEntries[t]&&i["default"].delete(e.mediaEntries,t)},setListEntry(e,t){i["default"].set(e.mediaEntries,t.id,t)},setListEditor(e,t){e.listEditor=t},setListLimit(e,t){e.listLimit=t}}},Le="\nquery ($id: Int) {\n    Activity (id: $id) {\n        ... on ListActivity {\n            id\n            type\n            replyCount\n            status\n            progress\n            createdAt\n            user {\n                id\n                name\n                donatorTier\n                donatorBadge\n                avatar {\n                    large\n                }\n            }\n            media {\n                id\n                type\n                status\n                isAdult\n                title {\n                    userPreferred\n                }\n                coverImage {\n                    large\n                }\n            }\n            likes {\n                id\n                name\n                avatar {\n                    large\n                }\n            }\n            replies {\n                id\n                userId\n                text\n                createdAt\n                activityId\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                likes {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n            }\n        }\n\n        ... on TextActivity {\n            id\n            type\n            text\n            replyCount\n            createdAt\n            user {\n                id\n                name\n                donatorTier\n                donatorBadge\n                avatar {\n                    large\n                }\n            }\n            likes {\n                id\n                name\n                avatar {\n                    large\n                }\n            }\n            replies {\n                id\n                userId\n                text\n                createdAt\n                activityId\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                likes {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n            }\n        }\n\n        ... on MessageActivity {\n            id\n            type\n            message\n            replyCount\n            createdAt\n            messenger {\n                id\n                name\n                donatorTier\n                donatorBadge\n                avatar {\n                    large\n                }\n            }\n            likes {\n                id\n                name\n                avatar {\n                    large\n                }\n            }\n            replies {\n                id\n                userId\n                text\n                createdAt\n                activityId\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                likes {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n            }\n        }\n    }\n}\n",Me="\nquery ($id: Int, $page: Int) {\n    Page(page: $page, perPage: 25) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        activityReplies(activityId: $id) {\n            id\n            userId\n            text\n            createdAt\n            activityId\n            user {\n                id\n                name\n                avatar {\n                    large\n                }\n            }\n            likes {\n                id\n                name\n                avatar {\n                    large\n                }\n            }\n        }\n    }\n}\n";const Ne="\nmutation ($id: Int, $text: String) {\n    SaveTextActivity(id: $id, text: $text) {\n        id\n        type\n        text\n        replyCount\n        createdAt\n        user {\n            name\n            avatar {\n                large\n            }\n        }\n    }\n}\n",De="\nmutation ($id: Int, $recipientId: Int, $text: String) {\n    SaveMessageActivity(id: $id, recipientId: $recipientId, message: $text) {\n        id\n        type\n        message\n        replyCount\n        createdAt\n        messenger {\n            name\n            avatar {\n                large\n            }\n        }\n    }\n}\n",Re="\nmutation ($id: Int, $activityId: Int, $text: String) {\n    SaveActivityReply(id: $id, activityId: $activityId, text: $text) {\n        id\n        activityId\n        text\n        createdAt\n        user {\n            name\n            avatar {\n                large\n            }\n        }\n    }\n}\n",je="\nmutation ($id: Int) {\n    DeleteActivity (id: $id) {\n        deleted\n    }\n}",Fe="\nmutation ($id: Int) {\n    DeleteActivityReply (id: $id) {\n        deleted\n    }\n}\n";var Ue={namespaced:!0,state:{activity:{},replies:{},editor:{}},getters:{find:e=>t=>{return e.activity[t]||{}},replies:e=>(t,a)=>{return Object(h["c"])(e.replies[t],a)},editor:e=>t=>{return e.editor[t]||""}},actions:{async fetchActivity(e,t){let a=e.commit;const s=await Object(p["a"])(Le,t);a("setActivity",{activity:s.Activity,id:t.id})},async fetchReplies(e,t){let a=e.commit;const s=await Object(p["a"])(Me,t);return a("setReplies",{replyPage:s.Page,id:t.id,page:t.page}),s.Page.pageInfo.hasNextPage},async updateEditor(e,t){let a=e.commit;a("setEditor",{activity:t.value,reference:t.reference})},async saveActivity(e,t){const a={status:Ne,message:De,reply:Re};try{return await Object(p["a"])(a[t.type],t),!0}catch(s){return Object(h["a"])(s),!1}},async deleteActivity(e,t){const a=await Object(p["a"])(je,{id:t});return a.DeleteActivity.deleted},async deleteActivityReply(e,t){const a=await Object(p["a"])(Fe,{id:t});return a.DeleteActivityReply.deleted}},mutations:{setActivity(e,t){let a=t.activity,s=t.id;i["default"].set(e.activity,s,a)},setReplies(e,t){let a=t.replyPage,s=t.id,i=t.page;Object(h["f"])(e.replies,a,s,i,"activityReplies")},setEditor(e,t){let a=t.activity,s=t.reference;i["default"].set(e.editor,s,a)}}},ze="\nquery ($page: Int, $types: [NotificationType]) {\n    Page (page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        notifications (type_in: $types, resetNotificationCount: true) {\n            ... on AiringNotification {\n                id\n                type\n                episode\n                contexts\n                media {\n                    id\n                    type\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on RelatedMediaAdditionNotification {\n                id\n                type\n                context\n                media {\n                    id\n                    type\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on FollowingNotification {\n                id\n                type\n                context\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ActivityMessageNotification {\n                id\n                type\n                context\n                activityId\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ActivityMentionNotification {\n                id\n                type\n                context\n                activityId\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ActivityReplyNotification {\n                id\n                type\n                context\n                activityId\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ActivityReplySubscribedNotification {\n                id\n                type\n                context\n                activityId\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ActivityLikeNotification {\n                id\n                type\n                context\n                activityId\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ActivityReplyLikeNotification {\n                id\n                type\n                context\n                activityId\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ThreadCommentMentionNotification {\n                id\n                type\n                context\n                commentId\n                thread {\n                    id\n                    title\n                }\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ThreadCommentReplyNotification {\n                id\n                type\n                context\n                commentId\n                thread {\n                    id\n                    title\n                }\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ThreadCommentSubscribedNotification {\n                id\n                type\n                context\n                commentId\n                thread {\n                    id\n                    title\n                }\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ThreadCommentLikeNotification {\n                id\n                type\n                context\n                commentId\n                thread {\n                    id\n                    title\n                }\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n            ... on ThreadLikeNotification {\n                id\n                type\n                context\n                thread {\n                    id\n                    title\n                }\n                user {\n                    id\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                createdAt\n            }\n        }\n    }\n}\n";const qe={airing:["AIRING"],activity:["ACTIVITY_MESSAGE","ACTIVITY_MENTION","ACTIVITY_REPLY","ACTIVITY_LIKE","ACTIVITY_REPLY_LIKE"],forum:["THREAD_COMMENT_REPLY","THREAD_SUBSCRIBED","THREAD_COMMENT_MENTION","THREAD_LIKE","THREAD_COMMENT_LIKE"],follows:["FOLLOWING"]};var Be={namespaced:!0,state:{notifications:{all:null,airing:null,activity:null,forum:null,follows:null},unread:[]},getters:{notifications:e=>(t,a)=>{return Object(h["c"])(e.notifications[a],t)},isRead:e=>t=>!e.unread.includes(t),unreadCount:e=>e.unread.length},actions:{async fetchNotifications(e,t){let a=e.commit;"all"!==t.feed&&(t.types=qe[t.feed]);const s=await Object(p["a"])(ze,t);return a("setNotifications",{notifications:s.Page,page:t.page,feed:t.feed}),s.Page.pageInfo.hasNextPage},markRead(e,t){let a=e.commit;a("markRead",t)},addUnread(e,t){let a=e.commit;a("addUnread",t)},clearUnread(e){let t=e.commit;t("clearUnread")}},mutations:{setNotifications(e,t){let a=t.notifications,s=t.page,i=t.feed;Object(h["f"])(e.notifications,a,i,s,"notifications")},markRead(e,t){e.unread=e.unread.filter(e=>e!==t)},addUnread(e,t){e.unread.push(t)},clearUnread(e){e.unread=[]}}},Ve="\nquery (\n    $page: Int\n    $subscribed: Boolean,\n    $categoryId: Int,\n    $mediaCategoryId: Int,\n    $search: String,\n    $sort: [ThreadSort],\n) {\n    Page (page: $page, perPage: 25) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        threads (\n            subscribed: $subscribed,\n            categoryId: $categoryId,\n            mediaCategoryId: $mediaCategoryId,\n            search: $search,\n            sort: $sort,\n        )\n        {\n            id\n            title\n            body\n            replyCount\n            viewCount\n            replyCommentId\n            isLocked\n            isSticky\n            isSubscribed\n            repliedAt\n            createdAt\n            categories {\n                id\n                name\n            }\n            mediaCategories {\n                id\n                title {\n                    userPreferred\n                }\n                type\n            }\n            user {\n                name\n                avatar {\n                    large\n                }\n            }\n            replyUser {\n                name\n                avatar {\n                    large\n                }\n            }\n            likes {\n                name\n                avatar {\n                    large\n                }\n            }\n        }\n    }\n}",Ge="\nquery {\n    recent: Page (perPage: 14) {\n        threads(sort: [IS_STICKY, REPLIED_AT_DESC]) {\n            ...thread\n        }\n    }\n    new: Page (perPage: 5) {\n        threads(sort: [ID_DESC]) {\n            ...thread\n        }\n    }\n    release: Page (perPage: 4) {\n        threads(categoryId: 5 sort: [REPLIED_AT_DESC]) {\n            ...thread\n        }\n    }\n}\n\nfragment thread on Thread {\n    id\n    title\n    body\n    replyCount\n    viewCount\n    replyCommentId\n    isLocked\n    isSticky\n    isSubscribed\n    repliedAt\n    createdAt\n    categories {\n        id\n        name\n    }\n    mediaCategories {\n        id\n        title {\n            userPreferred\n        }\n        type\n    }\n    user {\n        name\n        avatar {\n            large\n        }\n    }\n    replyUser {\n        name\n        avatar {\n            large\n        }\n    }\n    likes {\n        name\n        avatar {\n            large\n        }\n    }\n}\n",Ye={namespaced:!0,state:{overview:{},recent:{},new:{},subscribed:{},search:{}},getters:{find:e=>(t,a,s)=>{return Object(h["c"])(e[t][m()(a)],s)},overview:e=>e.overview},actions:{async fetchFeed(e,t){let a=e.commit,s=t.variables,i=t.query;const n=await Object(p["a"])(Ve,s);return a("setFeed",{feed:n.Page,type:s.type,page:s.page,query:m()(i)}),n.Page.pageInfo.hasNextPage},async fetchOverview(e){let t=e.commit;const a=await Object(p["a"])(Ge);t("setOverview",a)}},mutations:{setFeed(e,t){let a=t.feed,s=t.type,i=t.page,n=t.query;Object(h["f"])(e[s],a,n,i,"threads")},setOverview(e,t){const a=(e,t)=>e.categories.find(e=>e.id===t);e.overview={sticky:t.recent.threads.filter(e=>e.isSticky),recent:t.recent.threads.filter(e=>!e.isSticky&&!a(e,5)).slice(0,4),release:t.release.threads,new:t.new.threads}}}},He="\nquery ($id: Int) {\n    Thread (id: $id) {\n        id\n        title\n        body\n        userId\n        replyCount\n        viewCount\n        isLocked\n        isSticky\n        isSubscribed\n        repliedAt\n        createdAt\n        user {\n            id\n            name\n            avatar {\n                large\n            }\n        }\n        likes {\n            id\n            name\n            avatar {\n                large\n            }\n        }\n        categories {\n            id\n            name\n        }\n        mediaCategories {\n            id\n            title {\n                userPreferred\n            }\n            coverImage {\n                large\n            }\n            type\n            format\n        }\n    }\n}\n",Qe="\nmutation (\n    $id: Int,\n    $title: String,\n    $body: String,\n    $categoryIds: [Int],\n    $mediaCategoryIds: [Int],\n    $isSticky: Boolean,\n    $isLocked: Boolean\n) {\n    SaveThread(\n        id: $id,\n        title: $title,\n        body: $body,\n        categories: $categoryIds,\n        mediaCategories: $mediaCategoryIds,\n        sticky: $isSticky,\n        locked: $isLocked\n    ) {\n        id\n    }\n}\n",We="\nmutation ($id: Int) {\n    DeleteThread (id: $id) {\n        deleted\n    }\n}\n",Ke="\nmutation ($id: Int, $subscribe: Boolean) {\n    ToggleThreadSubscription(threadId: $id, subscribe: $subscribe) {\n        id\n        isSubscribed\n    }\n}\n",Je="\nquery ($id: Int) {\n    ThreadComment (id: $id) {\n        id\n        threadId\n        comment\n        createdAt\n        user {\n            id\n            name\n            donatorTier\n            donatorBadge\n            moderatorStatus\n            avatar {\n                large\n            }\n        }\n        likes {\n            id\n            name\n            avatar {\n                large\n            }\n        }\n        childComments\n    }\n}\n",Ze="\nquery ($threadId: Int $page: Int) {\n    Page (page: $page perPage: 15) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        threadComments (threadId: $threadId) {\n            id\n            threadId\n            comment\n            createdAt\n            user {\n                id\n                name\n                donatorTier\n                donatorBadge\n                moderatorStatus\n                avatar {\n                    large\n                }\n            }\n            likes {\n                id\n                name\n                avatar {\n                    large\n                }\n            }\n            childComments\n        }\n    }\n}\n",Xe="\nmutation (\n    $id: Int,\n    $threadId: Int,\n    $parentCommentId: Int,\n    $comment: String\n) {\n    SaveThreadComment(\n        id: $id,\n        threadId: $threadId,\n        parentCommentId: $parentCommentId,\n        comment: $comment\n    ) {\n        id\n    }\n}\n",et="\nmutation ($id: Int) {\n    DeleteThreadComment (id: $id) {\n        deleted\n    }\n}\n",tt={namespaced:!0,state:{thread:{},singleComment:{},comments:{},commentEditor:{active:!1,comment:{}}},getters:{find:e=>t=>{return e.thread[t]||{}},getComment:e=>t=>{return e.singleComment[t]||{}},findComments:e=>(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===a?e.comments[t]||{}:Object(h["c"])(e.comments[t],a)}),commentEditor:e=>e.commentEditor},actions:{async fetchThread(e,t){let a=e.commit;const s=await Object(p["a"])(He,t);a("setThread",s.Thread)},async fetchComment(e,t){let a=e.commit;try{const e=await Object(p["a"])(Je,t);return a("setComment",{comment:e.ThreadComment[0],id:t.id}),!0}catch(s){return!1}},async fetchComments(e,t){let a=e.commit;const s=await Object(p["a"])(Ze,t);return a("setComments",{comments:s.Page,threadId:t.threadId,page:t.page}),null!=s.Page&&s.Page.pageInfo.hasNextPage},async saveThread(e,t){try{const e=await Object(p["a"])(Qe,t);return{success:!0,thread:e.SaveThread}}catch(a){return Object(h["a"])(a),{success:!1}}},async deleteThread(e,t){try{const e=await Object(p["a"])(We,t);return e.DeleteThread.deleted}catch(a){return Object(h["a"])(a),!1}},async toggleSubscription(e,t){let a=e.commit;await Object(p["a"])(Ke,t),a("setThreadSubscription",t)},setCommentEditor(e,t){let a=e.commit;t.reference||t.value?a("updateComment",t.value):a("setCommentEditor",t)},resetCommentEditor(e){let t=e.commit;t("setCommentEditor",{active:!1,comment:{}})},async saveComment(e,t){try{const e=await Object(p["a"])(Xe,t);return{success:!0,comment:e.SaveThreadComment}}catch(a){return Object(h["a"])(a),{success:!1}}},async deleteComment(e,t){try{const e=await Object(p["a"])(et,{id:t});return e.DeleteThreadComment.deleted}catch(a){return Object(h["a"])(a),!1}}},mutations:{setThread(e,t){i["default"].set(e.thread,t.id,t)},setThreadSubscription(e,t){e.thread[t.id]&&(e.thread[t.id].isSubscribed=t.subscribe)},setComment(e,t){let a=t.id,s=t.comment;i["default"].set(e.singleComment,a,s)},setComments(e,t){let a=t.comments,s=t.threadId,i=t.page;null!==a?Object(h["f"])(e.comments,a,s,i,"threadComments"):Object(h["f"])(e.comments,{pageInfo:{total:0,lastPage:1,perPage:50,hasNextPage:!1},threadComments:[]},s,i,"threadComments")},setCommentEditor(e,t){e.commentEditor=t},updateComment(e,t){e.commentEditor.comment.comment=t}}},at="\nmutation ($id: Int, $type: LikeableType) {\n    ToggleLike (id: $id, type: $type) {\n        id\n        name\n        avatar {\n            large\n        }\n    }\n}\n",st={namespaced:!0,state:{likes:{}},getters:{likes:e=>(t,a)=>{return e.likes[`${a.toUpperCase()}-${t}`]||!1}},actions:{async toggleLike(e,t){let a=e.commit;t.type=t.type.toUpperCase();try{const e=await Object(p["a"])(at,t);a("setLikes",{id:t.id,type:t.type,likes:e.ToggleLike})}catch(s){Object(h["a"])(s)}}},mutations:{setLikes(e,t){let a=t.id,s=t.type,n=t.likes;i["default"].set(e.likes,`${s}-${a}`,n)}}},it="\n    query media($id: Int) {\n        Media(id: $id, isAdult: false) {\n            id\n            title {\n                userPreferred\n            }\n            coverImage {\n                large\n            }\n            type\n            format\n            status\n            averageScore\n            popularity\n            genres\n            season\n            startDate {\n                year\n            }\n        }\n    }\n",nt={namespaced:!0,state:{media:{},notFound:{}},getters:{media:e=>t=>{return e.media[t]||!1}},actions:{async fetchMedia(e,t){let a=e.state,s=e.commit;if(!a.notFound[t])try{const e=await Object(p["a"])(it,{id:t},{redirectOn404:!1});s("setMedia",e.Media)}catch(i){s("setNotFound",t)}}},mutations:{setMedia(e,t){i["default"].set(e.media,t.id,t)},setNotFound(e,t){i["default"].set(e.notFound,t,!0)}}},rt="\n{\n    UserAuth\n}\n",ot="\nmutation (\n    $name: String,\n    $email: String,\n    $newPassword: String,\n    $confirmNewPassword: String,\n    $privacy: Int,\n    $password: String\n) {\n    UpdateUserAuth (\n        userName: $name,\n        email: $email,\n        newPassword: $newPassword,\n        confirmNewPassword: $confirmNewPassword,\n        privacy: $privacy,\n        password: $password,\n    )\n}\n",ct=a("ebf6"),lt=`\nmutation (\n        $about: String,\n        $titleLanguage: UserTitleLanguage,\n        $airingNotifications: Boolean,\n        $displayAdultContent: Boolean,\n        $scoreFormat: ScoreFormat,\n        $rowOrder: String,\n        $profileColor: String,\n        $donatorBadge: String,\n        $notificationOptions: [NotificationOptionInput],\n        $animeListOptions: MediaListOptionsInput,\n        $mangaListOptions: MediaListOptionsInput\n    ) {\n    UpdateUser (\n        about: $about,\n        titleLanguage: $titleLanguage,\n        airingNotifications: $airingNotifications,\n        displayAdultContent: $displayAdultContent,\n        scoreFormat: $scoreFormat,\n        rowOrder: $rowOrder,\n        profileColor: $profileColor,\n        donatorBadge: $donatorBadge,\n        notificationOptions: $notificationOptions,\n        animeListOptions: $animeListOptions,\n        mangaListOptions: $mangaListOptions\n    ) {\n        ${ct["a"]}\n    }\n}\n`,dt="\nmutation ($avatar: String) {\n    SaveUserAvatar (avatar: $avatar) {\n        id\n        avatar {\n            large\n            medium\n        }\n    }\n}\n",ut="\nmutation ($banner: String) {\n    SaveUserBanner (banner: $banner) {\n        id\n        bannerImage\n    }\n}\n",mt="\nmutation ($password: String) {\n    DeleteUser (password: $password) {\n        deleted\n    }\n}\n",pt='\nmutation ($xml: String, $type: MediaType, $overwriteExisting: Boolean) {\n    ImportList (\n        xml: $xml,\n        type: $type,\n        overwriteExisting: $overwriteExisting,\n        service: "myanimelist"\n    )\n}\n',ht="\nmutation ($password: String, $type: MediaType) {\n    ResetMediaListScores (password: $password, type: $type) {\n        deleted\n    }\n}\n",vt="\nmutation ($password: String, $type: MediaType) {\n    DeleteMediaList (password: $password, type: $type) {\n        deleted\n    }\n}\n",ft="\nmutation {\n    UpdateUserStats\n}\n",gt="\nmutation ($userId: Int, $bans: [String]) {\n    SaveBans (userId: $userId, bans: $bans)\n}\n",yt="\nmutation ($name: String, $type: MediaType) {\n    DeleteCustomList (customList: $name, type: $type) {\n        deleted\n    }\n}\n";const _t={schema:"internal"};var bt={namespaced:!0,state:{about:null},getters:{about:e=>e.about},actions:{async fetchUserAuth(){const e=await Object(p["a"])(rt,null,_t);return e.UserAuth},async saveUserAuth(e,t){try{const e=await Object(p["a"])(ot,t,_t);return j.a.success("User updated"),e.UpdateUserAuth}catch(a){Object(h["a"])(a)}return!1},async saveUser(e,t){let a=e.commit;try{const e=await Object(p["a"])(lt,t);return a("auth/setViewer",e.UpdateUser,{root:!0}),j.a.success("Settings updated"),e.UpdateUser}catch(s){j.a.error("Failed to update user settings")}return!1},async saveAvatar(e,t){try{await Object(p["a"])(dt,{avatar:t},_t),j.a.success("Avatar updated")}catch(a){j.a.error("Failed to update avatar")}},async saveBanner(e,t){try{await Object(p["a"])(ut,{banner:t},_t),j.a.success("Banner updated")}catch(a){j.a.error("Failed to update banner")}},async deleteUser(e,t){try{return await Object(p["a"])(mt,t,_t),j.a.success("All user account data deleted."),!0}catch(a){Object(h["a"])(a)}return!1},async deleteCustomList(e,t){try{return await Object(p["a"])(yt,t),j.a.success("Custom List Deleted"),!0}catch(a){Object(h["a"])(a)}return!1},async importList(e,t){try{const e=await Object(p["a"])(pt,t,_t);return j.a.success("List successfully imported"),e.ImportList}catch(a){return j.a.error("Failed to import list"),!1}},async resetScores(e,t){try{await Object(p["a"])(ht,t,_t),j.a.success(`${t.type.toLowerCase()} list scores successfully reset`)}catch(a){j.a.error("Failed to reset list scores")}},async deleteList(e,t){try{await Object(p["a"])(vt,t,_t),j.a.success(`${t.type.toLowerCase()} list entries successfully deleted`)}catch(a){j.a.error("Failed to delete list")}},async updateStats(){try{await Object(p["a"])(ft,null,_t),j.a.success("Stats successfully updated")}catch(e){j.a.error("Failed to update stats")}},setAbout(e,t){let a=e.commit,s=t.value;a("setAbout",s)},async saveBans(e,t){try{return await Object(p["a"])(gt,t,_t),!0}catch(a){return!1}}},mutations:{setAbout(e,t){e.about=t}}},wt=a("6cd4"),Ct=a.n(wt),St="\nquery ($withReports: Boolean!) {\n    reports: Page @include(if: $withReports) {\n        pageInfo {\n            total\n        }\n        reports {\n            id\n        }\n    }\n    tags: MediaTagCollection (status: 2) {\n        id\n    }\n    anime: Page {\n        pageInfo {\n            total\n        }\n        mediaSubmissions (type: ANIME, status: PENDING) {\n            id\n        }\n    }\n    manga: Page {\n        pageInfo {\n            total\n        }\n        mediaSubmissions (type: MANGA, status: PENDING) {\n            id\n        }\n    }\n    characters: Page {\n        pageInfo {\n            total\n        }\n        characterSubmissions (status: PENDING) {\n            id\n        }\n    }\n    staff: Page {\n        pageInfo {\n            total\n        }\n        staffSubmissions (status: PENDING) {\n            id\n        }\n    }\n}\n",$t="\nquery ($page: Int) {\n    Page(page: $page) {\n        pageInfo {\n            hasNextPage\n            total\n        }\n        reports {\n            id\n            reason\n            reporter {\n                id\n                name\n                avatar {\n                    large\n                }\n            }\n            reported {\n                id\n                name\n                avatar {\n                    large\n                }\n            }\n        }\n    }\n}\n";const kt="\nsubmitter {\n    id\n    name\n    avatar {\n        large\n    }\n}\n",It=`\nquery ($page: Int, $type: MediaType) {\n    Page(page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        submissions: mediaSubmissions(type: $type, status: PENDING) {\n            id\n            createdAt\n            ${kt}\n            submission {\n                id\n                type\n                title {\n                    userPreferred\n                }\n                coverImage {\n                    large\n                }\n            }\n            media {\n                id\n                type\n                title {\n                    userPreferred\n                }\n                coverImage {\n                    large\n                }\n            }\n        }\n    }\n}\n`,At=`\nquery ($page: Int) {\n    Page(page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        submissions: characterSubmissions(status: PENDING) {\n            createdAt\n            ${kt}\n            character {\n                id\n                name {\n                    first\n                    last\n                }\n                image {\n                    large\n                }\n            }\n        }\n    }\n}\n`,Et=`\nquery ($page: Int) {\n    Page(page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        submissions: staffSubmissions(status: PENDING) {\n            createdAt\n            ${kt}\n            staff {\n                id\n                name {\n                    first\n                    last\n                }\n                image {\n                    large\n                }\n            }\n        }\n    }\n}\n`;var xt={anime:It,manga:It,characters:At,staff:Et},Ot="\nmutation ($id: Int) {\n    DeleteUserReport (id: $id) {\n        deleted\n    }\n}\n",Pt="\nquery {\n    pending: MediaTagCollection (status: 2) {\n        ...tag\n    }\n    approved: MediaTagCollection (status: 0) {\n        ...tag\n    }\n    denied: MediaTagCollection (status: 1) {\n        ...tag\n    }\n}\n\nfragment tag on MediaTag {\n    id\n    name\n    description\n    category\n    isMediaSpoiler\n    isAdult\n}\n",Tt="\nmutation (\n    $tagId: Int,\n    $name: String,\n    $description: String,\n    $isAdult: Boolean,\n    $status: Int,\n    $category: String\n) {\n    UpdateMediaTag (\n        tagId: $tagId,\n        name: $name,\n        status: $status,\n        description: $description,\n        isAdult: $isAdult,\n        category: $category\n    ) {\n        id\n    }\n}\n",Lt="\nquery {\n    MissingImports\n}\n",Mt="\nmutation ($id: Int) {\n    DeleteMissingImport (id: $id) {\n        deleted\n    }\n}\n",Nt={namespaced:!0,state:{counts:{},reports:!1,tags:!1,missingImports:[],submissions:{anime:!1,manga:!1,characters:!1,staff:!1}},getters:{counts:e=>e.counts||{},submissions:e=>t=>{let a=t.type,s=t.page;return Object(h["c"])(e.submissions[a],s)},reports:e=>t=>Object(h["c"])(e.reports,t),tags:e=>e.tags,missingImports:e=>e.missingImports},actions:{async fetchCounts(e,t){let a=e.commit;const s=await Object(p["a"])(St,t,{schema:"internal"});s.tags={pageInfo:{total:s.tags.length}},a("setCounts",s)},async fetchSubmissions(e,t){let a=e.commit,s=t.type,i=t.page;const n=await Object(p["a"])(xt[s],{type:s.toUpperCase(),page:i},{schema:"internal"});return a("setSubmissions",{submissions:n.Page,type:s,page:i}),n.Page.pageInfo.hasNextPage},async fetchReports(e,t){let a=e.commit;const s=await Object(p["a"])($t,{page:t},{schema:"internal"});return a("setReports",{reports:s.Page,page:t}),s.Page.pageInfo.hasNextPage},async deleteReport(e,t){let a=e.dispatch;const s=await Object(p["a"])(Ot,{id:t},{schema:"internal"});return a("fetchCounts",{withReports:!0}),s.DeleteUserReport.deleted},async fetchTags(e){let t=e.commit;const a=await Object(p["a"])(Pt);t("setTags",a)},async saveTag(e,t){let a=e.dispatch;try{await Object(p["a"])(Tt,t,{schema:"internal"}),a("fetchTags")}catch(s){return!1}},async fetchMissingImports(e){let t=e.commit;const a=await Object(p["a"])(Lt,{},{schema:"internal"});t("setMissingImports",a.MissingImports)},async deleteImport(e,t){await Object(p["a"])(Mt,{id:t},{schema:"internal"})}},mutations:{setCounts(e,t){Ct()(t,(t,a)=>{i["default"].set(e.counts,a,t.pageInfo.total)})},setSubmissions(e,t){let a=t.submissions,s=t.type,i=t.page;Object(h["f"])(e.submissions,a,s,i,"submissions")},setReports(e,t){let a=t.reports,s=t.page;Object(h["f"])(e,a,"reports",s,"reports")},setMissingImports(e,t){e.missingImports=t},setTags(e,t){e.tags=t}}},Dt=a("4245"),Rt=a.n(Dt),jt=a("13ea"),Ft=a.n(jt),Ut="\n    query media($id: Int) {\n        Media(id: $id) {\n            id\n            title {\n                romaji\n                english\n                native\n            }\n            coverImage {\n                large\n                color\n            }\n            bannerImage\n            startDate {\n                year\n                month\n                day\n            }\n            endDate {\n                year\n                month\n                day\n            }\n            description\n            season: seasonInt\n            type\n            format\n            status\n            episodes\n            duration\n            chapters\n            volumes\n            genres\n            synonyms\n            source(version: 2)\n            isAdult\n            isLicensed\n            isLocked\n            autoCreateForumThread\n            hashtag\n            countryOfOrigin\n            modNotes\n            idMal\n            trailer {\n                id\n            }\n            relations {\n                edges {\n                    id\n                    relationType(version: 2)\n                    media: node {\n                        id\n                        title {\n                            userPreferred\n                        }\n                        type\n                        format\n                        startDate {\n                            year\n                        }\n                        coverImage {\n                            medium\n                        }\n                    }\n                }\n            }\n            studios {\n                edges {\n                    id\n                    isMain\n                    studio: node {\n                        id\n                        name\n                    }\n                }\n            }\n            externalLinks {\n                site\n                url\n            }\n        }\n    }\n",zt="\nquery ($id: Int) {\n    MediaCharacters(id: $id) {\n        id\n        role\n        character {\n            id\n            name {\n                first\n                last\n            }\n            image {\n                medium\n            }\n        }\n        voiceActor {\n            id\n            name {\n                first\n                last\n            }\n            image {\n                medium\n            }\n            language\n        }\n    }\n}",qt="\nquery ($id: Int, $page: Int) {\n    Page (page: $page) {\n        pageInfo {\n            hasNextPage\n        }\n        airingSchedules(mediaId: $id) {\n            airingAt\n            timeUntilAiring\n            episode\n        }\n    }\n}\n",Bt="\nquery (\n        $airingTime: String,\n        $episodes: Int,\n        $startEpisode: Int,\n        $interval: Int,\n        $year: Int,\n        $month: Int,\n        $day: Int\n    ) {\n    GenerateAiringSchedule (\n        airingTime: $airingTime,\n        episodes: $episodes,\n        startEpisode: $startEpisode,\n        interval: $interval,\n        year: $year,\n        month: $month,\n        day: $day\n    ) {\n        airingAt\n        timeUntilAiring\n        episode\n    }\n}\n",Vt="\n    mutation (\n        $mediaId: Int,\n        $airingSchedule: [AiringScheduleInput]\n    ) {\n        SaveAiringSchedule (\n            mediaId: $mediaId,\n            airingSchedule: $airingSchedule,\n        )\n    }\n",Gt="\n    mutation (\n        $id: Int,\n        $idMal: Int,\n        $submissionId: Int,\n        $title: MediaTitleInput,\n        $type: MediaType,\n        $format: MediaFormat,\n        $status: MediaStatus,\n        $description: String,\n        $startDate: FuzzyDateInput,\n        $endDate: FuzzyDateInput,\n        $season: Int,\n        $episodes: Int,\n        $duration: Int,\n        $chapters: Int,\n        $volumes: Int,\n        $source: MediaSource,\n        $hashtag: String,\n        $trailer: String,\n        $genres: [String],\n        $synonyms: [String],\n        $isAdult: Boolean,\n        $isLocked: Boolean,\n        $countryOfOrigin: CountryCode,\n        $isLicensed: Boolean,\n        $autoCreateForumThread: Boolean,\n        $color: String,\n        $modNotes: String,\n        $submissionSources: String,\n        $coverImage: String,\n        $bannerImage: String\n    ) {\n        SaveMedia (\n            id: $id,\n            idMal: $idMal,\n            submissionId: $submissionId,\n            title: $title,\n            type: $type,\n            format: $format,\n            status: $status,\n            description: $description,\n            startDate: $startDate,\n            endDate: $endDate,\n            season: $season,\n            episodes: $episodes,\n            duration: $duration,\n            chapters: $chapters,\n            volumes: $volumes,\n            source: $source,\n            hashtag: $hashtag,\n            trailer: $trailer,\n            genres: $genres,\n            synonyms: $synonyms,\n            isAdult: $isAdult,\n            isLocked: $isLocked,\n            countryOfOrigin: $countryOfOrigin,\n            isLicensed: $isLicensed,\n            autoCreateForumThread: $autoCreateForumThread,\n            color: $color,\n            modNotes: $modNotes,\n            submissionSources: $submissionSources,\n            coverImage: $coverImage,\n            bannerImage: $bannerImage\n        ) {\n            id\n        }\n    }\n",Yt="\n    mutation (\n        $id: Int,\n        $mediaId: Int,\n        $characterId: Int,\n        $voiceActorId: Int,\n        $role: CharacterRole,\n        $parentId: Int,\n        $submissionId: Int,\n        $mediaSubmissionId: Int\n        $characterSubmissionId: Int,\n        $voiceActorSubmissionId: Int\n    ) {\n        SaveMediaCharacter (\n            id: $id,\n            mediaId: $mediaId,\n            characterId: $characterId,\n            voiceActorId: $voiceActorId,\n            role: $role,\n            parentId: $parentId,\n            submissionId: $submissionId,\n            mediaSubmissionId: $mediaSubmissionId,\n            characterSubmissionId: $characterSubmissionId,\n            voiceActorSubmissionId: $voiceActorSubmissionId\n        )\n    }\n",Ht="\nmutation ($id: Int) {\n    DeleteMediaCharacter (id: $id) {\n        deleted\n    }\n}\n",Qt="\n    mutation (\n        $id: Int\n        $name: CharacterNameInput\n        $image: String\n        $description: String\n        $submissionId: Int\n        $submissionStatus: SubmissionStatus\n        $submissionNotes: String\n    ) {\n        SaveCharacter(\n            id: $id,\n            name: $name,\n            image: $image,\n            description: $description,\n            submissionId: $submissionId,\n            submissionStatus: $submissionStatus,\n            submissionNotes: $submissionNotes\n        ) {\n            id\n            name {\n                first\n                last\n            }\n            image {\n                medium\n            }\n        }\n    }\n",Wt="\nquery media($id: Int, $page: Int) {\n    Media(id: $id) {\n        id\n        staffRoles: staff (page: $page) {\n            pageInfo {\n                total\n                perPage\n                currentPage\n                lastPage\n                hasNextPage\n            }\n            edges {\n                id\n                role\n                staff: node {\n                    id\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        medium\n                    }\n                }\n            }\n        }\n    }\n}\n",Kt="\n    mutation (\n        $id: Int,\n        $mediaId: Int,\n        $staffId: Int,\n        $role: String,\n        $parentId: Int,\n        $submissionId: Int,\n        $mediaSubmissionId: Int\n        $staffSubmissionId: Int\n    ) {\n        SaveMediaStaff (\n            id: $id,\n            mediaId: $mediaId,\n            staffId: $staffId,\n            role: $role,\n            parentId: $parentId,\n            submissionId: $submissionId,\n            mediaSubmissionId: $mediaSubmissionId,\n            staffSubmissionId: $staffSubmissionId\n        )\n    }\n",Jt="\nmutation ($id: Int) {\n    DeleteMediaStaff (id: $id) {\n        deleted\n    }\n}\n",Zt="\n    mutation (\n        $id: Int\n        $name: StaffNameInput\n        $image: String\n        $description: String\n        $language: StaffLanguage\n        $submissionId: Int\n        $submissionStatus: SubmissionStatus\n        $submissionNotes: String\n    ) {\n        SaveStaff(\n            id: $id,\n            name: $name,\n            image: $image,\n            description: $description,\n            language: $language,\n            submissionId: $submissionId,\n            submissionStatus: $submissionStatus,\n            submissionNotes: $submissionNotes\n        ) {\n            id\n            name {\n                first\n                last\n            }\n            image {\n                medium\n            }\n        }\n    }\n",Xt="\n    mutation (\n        $id: Int,\n        $mediaId: Int,\n        $studioId: Int,\n        $isMain: Boolean,\n        $parentId: Int,\n        $submissionId: Int,\n        $mediaSubmissionId: Int\n    ) {\n        SaveMediaStudio (\n            id: $id,\n            mediaId: $mediaId,\n            studioId: $studioId,\n            isMain: $isMain,\n            parentId: $parentId,\n            submissionId: $submissionId,\n            mediaSubmissionId: $mediaSubmissionId\n        )\n    }\n",ea="\nmutation ($id: Int) {\n    DeleteMediaStudio (id: $id) {\n        deleted\n    }\n}\n",ta="\n    mutation (\n        $id: Int\n        $name: String\n        $isAnimationStudio: Boolean\n    ) {\n        SaveStudio (\n            id: $id,\n            name: $name,\n            isAnimationStudio: $isAnimationStudio\n        ) {\n            id\n            name\n            isAnimationStudio\n        }\n    }\n",aa="\n    mutation (\n        $mediaId: Int,\n        $relationId: Int,\n        $relationType: MediaRelation,\n        $parentId: Int,\n        $submissionId: Int,\n        $mediaSubmissionId: Int\n    ) {\n        SaveMediaRelation (\n            mediaId: $mediaId,\n            relationId: $relationId,\n            relationType: $relationType,\n            parentId: $parentId,\n            submissionId: $submissionId,\n            mediaSubmissionId: $mediaSubmissionId\n        )\n    }\n",sa="\nmutation ($id: Int) {\n    DeleteMediaRelation (id: $id) {\n        deleted\n    }\n}\n",ia="\nmutation (\n        $mediaId: Int,\n        $url: String,\n        $parentId: Int,\n        $mediaSubmissionId: Int,\n        $submissionId: Int\n    ) {\n    SaveMediaExternalLink (\n        mediaId: $mediaId,\n        url: $url,\n        parentId: $parentId,\n        mediaSubmissionId: $mediaSubmissionId,\n        submissionId: $submissionId\n    )\n}\n",na="\nmutation ($mediaId: Int, $url: String) {\n    DeleteMediaExternalLink (mediaId: $mediaId, url: $url) {\n        deleted\n    }\n}\n",ra="\nquery ($mediaId: Int, $submissionId: Int) {\n    MediaSubmission (mediaId: $mediaId, submissionId: $submissionId) {\n        id\n        submitter {\n            id\n            name\n            avatar {\n                large\n            }\n        }\n        submitterStats\n        source\n        status\n        changes\n        media {\n            ...media\n        }\n        submission {\n            ...media\n        }\n        characters {\n            submission {\n                id\n                role: characterRole\n                character {\n                    ...character\n                }\n                characterSubmission {\n                    ...character\n                }\n                voiceActor {\n                    ...staff\n                }\n                voiceActorSubmission {\n                    ...staff\n                }\n            }\n            character {\n                id\n                role\n                character {\n                    ...character\n                }\n                voiceActor {\n                    ...staff\n                }\n            }\n        }\n        staff {\n            submission {\n                id\n                role: staffRole\n                staff {\n                    ...staff\n                }\n                staffSubmission {\n                    ...staff\n                }\n            }\n            staff {\n                id\n                role\n                staff: node {\n                    ...staff\n                }\n            }\n        }\n        studios {\n            submission {\n                id\n                isMain\n                studio {\n                    id\n                    name\n                }\n            }\n            studio {\n                id\n                isMain\n                studio: node {\n                    id\n                    name\n                }\n            }\n        }\n        relations {\n            id\n            relationType(version: 2)\n            media: node {\n                id\n                title {\n                    userPreferred\n                }\n                type\n                coverImage {\n                    medium\n                }\n            }\n        }\n        externalLinks {\n            id\n            url\n            site\n        }\n    }\n}\n\nfragment media on Media {\n    id\n    title {\n        romaji\n        english\n        native\n    }\n    coverImage {\n        large\n    }\n    bannerImage\n    startDate {\n        year\n        month\n        day\n    }\n    endDate {\n        year\n        month\n        day\n    }\n    description\n    season: seasonInt\n    type\n    format\n    status\n    episodes\n    duration\n    chapters\n    volumes\n    genres\n    synonyms\n    source(version: 2)\n    isAdult\n    isLicensed\n    hashtag\n    countryOfOrigin\n    idMal\n    trailer {\n        id\n    }\n}\n\nfragment character on Character {\n    id\n    name {\n        first\n        last\n        native\n        alternative\n    }\n    description\n    image {\n        medium\n    }\n}\n\nfragment staff on Staff {\n    id\n    name {\n        first\n        last\n        native\n        alternative\n    }\n    image {\n        medium\n    }\n    language\n}\n",oa='\nquery MediaIntrospectionQuery {\n    MediaTypes: __type (name: "Media") {\n        fields {\n            name\n            type {\n                name\n                kind\n            }\n        }\n    }\n}\n',ca="\n    mutation (\n        $id: Int,\n        $status: SubmissionStatus,\n        $notes: String,\n    ) {\n        UpdateMediaSubmissionStatus (\n            id: $id,\n            status: $status,\n            notes: $notes,\n        )\n    }\n",la="\n    mutation ($id: Int, $mergeId: Int) {\n        MergeMedia (id: $id, mergeId: $mergeId) {\n            id\n        }\n    }\n",da="\nmutation ($id: Int) {\n    DeleteMedia(id: $id) {\n        deleted\n    }\n}\n",ua="\nmutation ($id: Int, $relationIds: [Int]) {\n    CreateMediaAdditionNotification(id: $id, relationIds: $relationIds)\n}\n",ma=a("e5f2"),pa=a.n(ma);const ha={schema:"internal"};var va={state:{airingSchedule:[],generatedAiringSchedule:[],newAiringSchedule:!1},getters:{airingSchedule:e=>e.newAiringSchedule||e.airingSchedule,generatedAiringSchedule:e=>e.generatedAiringSchedule},actions:{async fetchAiringSchedule(e,t){let a=e.commit;const s=await Object(p["a"])(qt,t);return a("updateAiringSchedule",s.Page.airingSchedules),s.Page.pageInfo.hasNextPage},async generateAiringSchedule(e,t){let a=e.commit;t.startEpisode<1&&(t.startEpisode=1);const s=await Object(p["a"])(Bt,t,ha);a("setGeneratedAiringSchedule",s.GenerateAiringSchedule)},async saveAiringSchedule(e){let t=e.state,a=e.commit;t.newAiringSchedule&&(await Object(p["a"])(Vt,{mediaId:t.media.id,airingSchedule:t.newAiringSchedule},ha),pa.a.success({message:"Airing schedule submitted",offset:100}),a("clearAiringSchedule"))},setAiringSchedule(e,t){let a=e.commit;a("setAiringSchedule",t)}},mutations:{setAiringSchedule(e,t){e.airingSchedule=t,e.newAiringSchedule=t},setGeneratedAiringSchedule(e,t){e.generatedAiringSchedule=t},updateAiringSchedule(e,t){e.airingSchedule=e.airingSchedule.concat(t)},clearAiringSchedule(e){e.newAiringSchedule=!1}}},fa=a("795b"),ga=a.n(fa),ya=a("db0c"),_a=a.n(ya),ba=a("9380"),wa=a.n(ba),Ca=a("a8fc"),Sa=a.n(Ca);const $a={schema:"internal"},ka=async e=>{const t=await Object(p["a"])(Qt,e,$a),a=t.SaveCharacter;return a.id},Ia=async e=>{const t=await Object(p["a"])(Zt,e,$a),a=t.SaveStaff;return a.id},Aa=async(e,t)=>{const a={id:t.id||void 0,mediaId:e.media.id,role:t.role,parentId:e.media.submissionId||void 0,mediaSubmissionId:e.media.submissionId||void 0,submissionId:t.submissionId||void 0};let s="characterId",i=t.character.id;if(i||(i=await ka(t.character),s=e.isSubmission?"characterSubmissionId":"characterId"),a[s]=i,t.voiceActor)if(t.voiceActor.id)a.voiceActorId=t.voiceActor.id;else if(t.voiceActor.name.first){const s=await Ia(t.voiceActor);a[e.isSubmission?"voiceActorSubmissionId":"voiceActorId"]=s}return a};var Ea={state:{characters:[],addedCharacters:[],newCharacters:[],updatedCharacters:{},removedCharacters:[]},getters:{characters:e=>e.characters,addedCharacters:e=>e.addedCharacters,newCharacters:e=>e.newCharacters},actions:{async fetchMediaCharacters(e,t){let a=e.commit;const s=await Object(p["a"])(zt,t,$a);a("setMediaCharacters",s.MediaCharacters)},async importMediaCharacters(e,t){let a=e.commit;const s=await Object(p["a"])(zt,t,$a);a("importMediaCharacters",s.MediaCharacters)},async saveCharacters(e){let t=e.state,a=e.commit;const s=_a()(t.updatedCharacters).map(async e=>{const s=await Aa(t,e);await Object(p["a"])(Yt,s,$a);const i=e.character.name,n=i.first,r=i.last;pa.a.success({message:`Character role updated: ${n} ${r}`,offset:100}),a("clearUpdatedMediaCharacter",e.id)});await ga.a.all(s);const i=t.removedCharacters.map(async(e,t)=>{await Object(p["a"])(Ht,{id:e},$a),pa.a.success({message:`Character role ${t+1} removed`,offset:100}),a("clearRemovedMediaCharacter",e)});await ga.a.all(i);const n=t.addedCharacters.map(async e=>{const s=await Aa(t,e);await Object(p["a"])(Yt,s,$a);const i=e.character.name,n=i.first,r=i.last;pa.a.success({message:`Character added: ${n} ${r}`,offset:100}),a("clearAddedMediaCharacter",{first:n,last:r})});await ga.a.all(n);const r=t.newCharacters.map(async e=>{const s=await Aa(t,e);await Object(p["a"])(Yt,s,$a);const i=e.character.name,n=i.first,r=i.last;pa.a.success({message:`Character created: ${n} ${r}`,offset:100}),a("clearNewMediaCharacter",{first:n,last:r})});await ga.a.all(r)},async saveCharacterRoleSubmission(e,t){let a=e.state,s=e.commit,i=t.role,n=t.path;const r=await Aa(a,i);await Object(p["a"])(Yt,r,$a),s("removeCharacterSubmission",n)}},mutations:{setMediaCharacters(e,t){e.characters=t},importMediaCharacters(e,t){const a="ANIME"===e.media.type;a||(t=Sa()(t,e=>e.character.id)),t.forEach(t=>{e.addedCharacters.push(Object(c["a"])({},t,{id:null,voiceActor:a?t.voiceActor:null}))})},addMediaCharacter(e,t){e.addedCharacters.push({character:t,role:"MAIN",voiceActors:[]})},addNewMediaCharacter(e,t){e.newCharacters.push({character:t,role:"MAIN",voiceActors:[]})},updateMediaCharacter(e,t){i["default"].set(e.characters[t.index],t.key,t.value),i["default"].set(e.updatedCharacters,t.id,e.characters[t.index])},updateAddedMediaCharacter(e,t){i["default"].set(e.addedCharacters[t.index],t.key,t.value)},updateNewMediaCharacter(e,t){i["default"].set(e.newCharacters[t.index],t.key,t.value)},removeMediaCharacter(e,t){e.characters=e.characters.filter(e=>e.id!==t),e.removedCharacters.push(t)},removeAddedMediaCharacter(e,t){e.addedCharacters=e.addedCharacters.filter((e,a)=>a!==t)},removeNewMediaCharacter(e,t){e.newCharacters=e.newCharacters.filter((e,a)=>a!==t)},clearUpdatedMediaCharacter(e,t){e.updatedCharacters=wa()(e.updatedCharacters,(e,a)=>a!==t)},clearRemovedMediaCharacter(e,t){e.removedCharacters=e.removedCharacters.filter(e=>e!==t)},clearAddedMediaCharacter(e,t){e.addedCharacters=wa()(e.addedCharacters,e=>{const a=e.character.name,s=a.first,i=a.last;return`${s} ${i}`!==`${t.first} ${t.last}`})},clearNewMediaCharacter(e,t){e.newCharacters=wa()(e.newCharacters,e=>{const a=e.character.name,s=a.first,i=a.last;return`${s} ${i||null}`!==`${t.first} ${t.last||null}`})}}},xa=a("0f5c"),Oa=a.n(xa);const Pa={schema:"internal"};var Ta={state:{links:[],addedLinks:[],removedLinks:[]},getters:{links:e=>e.links,addedLinks:e=>e.addedLinks,newLinks:e=>e.newLinks},actions:{async saveLinks(e){let t=e.state,a=e.commit;const s=t.removedLinks.map(async e=>{await Object(p["a"])(na,{mediaId:t.media.id,url:e},Pa),pa.a.success({message:`Removed link: ${e}`,offset:100}),a("clearRemovedMediaLink",e)});await ga.a.all(s);const i=t.addedLinks.map(async e=>{await Object(p["a"])(ia,{url:e.url,mediaId:t.media.id,mediaSubmissionId:t.media.submissionId||void 0,parentId:t.media.submissionId||void 0,submissionId:e.submissionId||void 0},Pa),pa.a.success({message:`Added link: ${e.url}`,offset:100}),a("clearAddedMediaLink",e.url)});await ga.a.all(i)},async saveLinkSubmission(e,t){let a=e.state,s=e.commit,i=t.link,n=t.path;await Object(p["a"])(ia,{url:i.url,mediaId:a.media.id,mediaSubmissionId:a.media.submissionId||void 0,parentId:a.media.submissionId||void 0,submissionId:i.submissionId||void 0},Pa),s("removeLinkSubmission",n)}},mutations:{addMediaLink(e,t){e.addedLinks.push({url:t})},updateAddedMediaLink(e,t){let a=Object(c["a"])({},e.addedLinks[t.index]);a=Oa()(a,"url",t.url),i["default"].set(e.addedLinks,t.index,a)},removeMediaLink(e,t){e.links=e.links.filter((e,a)=>a!==t.index),e.removedLinks.push(t.url)},removeAddedMediaLink(e,t){e.addedLinks=e.addedLinks.filter((e,a)=>a!==t.index)},clearRemovedMediaLink(e,t){e.removedLinks=e.removedLinks.filter(e=>e!==t)},clearAddedMediaLink(e,t){e.addedLinks=e.addedLinks.filter(e=>e.url!==t)}}},La=a("5176"),Ma=a.n(La);const Na=()=>({title:{},startDate:{},endDate:{},genres:[],synonyms:[],isLicensed:!0,countryOfOrigin:"JP"});var Da={state:{media:{},changes:{}},getters:{media:e=>e.media,changes:e=>e.changes},actions:{async fetchMedia(e,t){let a=e.commit;const s=await Object(p["a"])(Ut,t);a("setMedia",s.Media)},async mergeMedia(e,t){try{return await Object(p["a"])(la,t,{schema:"internal"}),!0}catch(a){Object(h["a"])(a)}return!1},async deleteMedia(e,t){try{return await Object(p["a"])(da,{id:t},{schema:"internal"}),!0}catch(a){Object(h["a"])(a)}return!1},async notifyAddition(e,t){try{const e=await Object(p["a"])(ua,t,{schema:"internal"});return e.CreateMediaAdditionNotification}catch(a){return Object(h["a"])(a),{success:!1}}}},mutations:{setMedia(e,t){i["default"].set(e,"media",t),i["default"].set(e.changes,"id",t.id),e.studios=t.studios.edges,e.relations=t.relations.edges,e.links=t.externalLinks},setNewMedia(e){e.media=Na(),e.changes=Na()},updateMedia(e,t){let a=t.key,s=t.value;const i=Ma()({},e.media),n=Ma()({},e.changes);e.media=Oa()(i,a,s),e.changes=Oa()(n,a,s)},clearMediaChanges(e){e.changes={}}}};const Ra={schema:"internal"},ja=(e,t)=>({mediaId:e.media.id,relationId:t.media.id,relationType:t.relationType,mediaSubmissionId:e.media.submissionId||void 0,parentId:e.media.submissionId||void 0,submissionId:t.submissionId||void 0});var Fa={state:{relations:[],addedRelations:[],removedRelations:[]},getters:{relations:e=>e.relations,addedRelations:e=>e.addedRelations,newRelations:e=>e.newRelations},actions:{async saveRelations(e){let t=e.state,a=e.commit;const s=t.removedRelations.map(async(e,t)=>{await Object(p["a"])(sa,{id:e},Ra),pa.a.success({message:`Removed Relation ${t+1}`,offset:100}),a("clearRemovedMediaRelation",e)});await ga.a.all(s);const i=t.addedRelations.map(async e=>{const s=ja(t,e);await Object(p["a"])(aa,s,Ra),pa.a.success({message:`Relation added: ${e.media.title.userPreferred}`,offset:100}),a("clearAddedMediaRelation",e.media.id)});await ga.a.all(i)},async saveRelationSubmission(e,t){let a=e.state,s=e.commit,i=t.relation,n=t.path;const r=ja(a,i);await Object(p["a"])(aa,r,Ra),s("removeRelationSubmission",n)}},mutations:{addMediaRelation(e,t){e.addedRelations.push({media:t})},updateAddedMediaRelation(e,t){let a=Object(c["a"])({},e.addedRelations[t.index]);a=Oa()(a,t.key,t.value),i["default"].set(e.addedRelations,t.index,a)},removeMediaRelation(e,t){e.relations=e.relations.filter(e=>e.id!==t),e.removedRelations.push(t)},removeAddedMediaRelation(e,t){e.addedRelations=e.addedRelations.filter((e,a)=>a!==t)},clearRemovedMediaRelation(e,t){e.removedRelations=e.removedRelations.filter(e=>e!==t)},clearAddedMediaRelation(e,t){e.addedRelations=e.addedRelations.filter(e=>e.media.id!==t)}}};const Ua={schema:"internal"},za=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s={id:t.id||void 0,mediaId:e.media.id,role:t.role,parentId:e.media.submissionId||void 0,mediaSubmissionId:e.media.submissionId||void 0,submissionId:t.submissionId||void 0};return e.isSubmission&&a?s.staffSubmissionId=a.id:s.staffId=a?a.id:t.staff.id,s};var qa={state:{staff:[],addedStaff:[],newStaff:[],updatedStaff:{},removedStaff:[]},getters:{staff:e=>e.staff,addedStaff:e=>e.addedStaff,newStaff:e=>e.newStaff},actions:{async fetchMediaStaff(e,t){let a=e.commit;const s=await Object(p["a"])(Wt,t);return a("setMediaStaff",s.Media.staffRoles.edges),s.Media.staffRoles.pageInfo.hasNextPage},async saveStaff(e){let t=e.state,a=e.commit;const s=_a()(t.updatedStaff).map(async e=>{const s=za(t,e);await Object(p["a"])(Kt,s,Ua);const i=e.staff.name,n=i.first,r=i.last;pa.a.success({message:`Staff role updated: ${n} ${r}`,offset:100}),a("clearUpdatedMediaStaff",e.id)});await ga.a.all(s);const i=t.removedStaff.map(async(e,t)=>{await Object(p["a"])(Jt,{id:e},Ua),pa.a.success({message:`Staff ${t+1} removed`,offset:100}),a("clearRemovedMediaStaff",e)});await ga.a.all(i);const n=t.addedStaff.map(async e=>{const s=za(t,e);await Object(p["a"])(Kt,s,Ua);const i=e.staff.name,n=i.first,r=i.last;pa.a.success({message:`Staff added: ${n} ${r}`,offset:100}),a("clearAddedMediaStaff",{first:n,last:r})});await ga.a.all(n);const r=t.newStaff.map(async e=>{let s=null;if(!e.staff.id){const t=await Object(p["a"])(Zt,e.staff,Ua);s=t.SaveStaff}const i=za(t,e,s);await Object(p["a"])(Kt,i,Ua);const n=s.name,r=n.first,o=n.last;pa.a.success({message:`Staff created: ${r} ${o}`,offset:100}),a("clearNewMediaStaff",{first:r,last:o})});await ga.a.all(r)},async saveStaffRoleSubmission(e,t){let a=e.state,s=e.commit,i=t.role,n=t.path,r=null;if(!i.staff.id){const e=await Object(p["a"])(Zt,i.staff,Ua);r=e.SaveStaff}const o=await za(a,i,r);await Object(p["a"])(Kt,o,Ua),s("removeStaffSubmission",n)}},mutations:{setMediaStaff(e,t){e.staff=e.staff.concat(t)},addMediaStaff(e,t){e.addedStaff.push({staff:t,role:""})},addNewMediaStaff(e,t){e.newStaff.push({staff:t,role:""})},updateMediaStaff(e,t){let a=e.staff[t.index];a=Oa()(a,t.key,t.value),i["default"].set(e.staff,t.index,a),i["default"].set(e.updatedStaff,a.id,e.staff[t.index])},updateAddedMediaStaff(e,t){let a=e.addedStaff[t.index];a=Oa()(a,t.key,t.value),i["default"].set(e.addedStaff,t.index,a)},updateNewMediaStaff(e,t){let a=e.newStaff[t.index];a=Oa()(a,t.key,t.value),i["default"].set(e.newStaff,t.index,a)},removeMediaStaff(e,t){e.staff=e.staff.filter(e=>e.id!==t),e.removedStaff.push(t)},removeAddedMediaStaff(e,t){e.addedStaff=e.addedStaff.filter((e,a)=>a!==t)},removeNewMediaStaff(e,t){e.newStaff=e.newStaff.filter((e,a)=>a!==t)},clearUpdatedMediaStaff(e,t){e.updatedStaff=wa()(e.updatedStaff,(e,a)=>a!==t)},clearRemovedMediaStaff(e,t){e.removedStaff=e.removedStaff.filter(e=>e!==t)},clearAddedMediaStaff(e,t){e.addedStaff=wa()(e.addedStaff,e=>{const a=e.staff.name,s=a.first,i=a.last;return`${s} ${i}`!==`${t.first} ${t.last}`})},clearNewMediaStaff(e,t){e.newStaff=wa()(e.newStaff,e=>{const a=e.staff.name,s=a.first,i=a.last;return`${s} ${i||null}`!==`${t.first} ${t.last}`})}}};const Ba={schema:"internal"},Va=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{id:t.id||void 0,mediaId:e.media.id,studioId:a?a.id:t.studio.id,isMain:t.isMain,mediaSubmissionId:e.media.submissionId||void 0,parentId:e.media.submissionId||void 0,submissionId:t.submissionId||void 0}};var Ga={state:{studios:[],addedStudios:[],newStudios:[],updatedStudios:{},removedStudios:[]},getters:{studios:e=>e.studios,addedStudios:e=>e.addedStudios,newStudios:e=>e.newStudios},actions:{async saveStudios(e){let t=e.state,a=e.commit;const s=_a()(t.updatedStudios).map(async e=>{const s=Va(t,e);await Object(p["a"])(Xt,s,Ba),pa.a.success({message:`Studio role updated: ${e.studio.name}`,offset:100}),a("clearUpdatedMediaStudio",e.id)});await ga.a.all(s);const i=t.removedStudios.map(async(e,t)=>{await Object(p["a"])(ea,{id:e},Ba),pa.a.success({message:`Studio role ${t+1} removed`,offset:100}),a("clearRemovedMediaStudio",e)});await ga.a.all(i);const n=t.addedStudios.map(async e=>{const s=Va(t,e);await Object(p["a"])(Xt,s,Ba),pa.a.success({message:`Studio added: ${e.studio.name}`,offset:100}),a("clearAddedMediaStudio",e.studio.name)});await ga.a.all(n);const r=t.newStudios.map(async e=>{let s=null;if(!e.studio.id){const t=await Object(p["a"])(ta,e.studio,Ba);s=t.SaveStudio}const i=Va(t,e,s);await Object(p["a"])(Xt,i,Ba),pa.a.success({message:`Studio created: ${s.name}`,offset:100}),a("clearNewMediaStudio",s.name)});await ga.a.all(r)},async saveStudioSubmission(e,t){let a=e.state,s=e.commit,i=t.studio,n=t.path;await Object(p["a"])(Xt,Va(a,i),Ba),s("removeStudioSubmission",n)}},mutations:{addMediaStudio(e,t){e.addedStudios.push({studio:t,isMain:!1})},addNewMediaStudio(e,t){e.newStudios.push({studio:t,isMain:!1})},updateMediaStudio(e,t){let a=e.studios[t.index];a=Oa()(a,t.key,t.value),i["default"].set(e.studios,t.index,a),i["default"].set(e.updatedStudios,a.id,e.studios[t.index])},updateAddedMediaStudio(e,t){let a=e.addedStudios[t.index];a=Oa()(a,t.key,t.value),i["default"].set(e.addedStudios,t.index,a)},updateNewMediaStudio(e,t){let a=e.newStudios[t.index];a=Oa()(a,t.key,t.value),i["default"].set(e.newStudios,t.index,a)},removeMediaStudio(e,t){e.studios=e.studios.filter(e=>e.id!==t),e.removedStudios.push(t)},removeAddedMediaStudio(e,t){e.addedStudios=e.addedStudios.filter((e,a)=>a!==t)},removeNewMediaStudio(e,t){e.newStudios=e.newStudios.filter((e,a)=>a!==t)},clearUpdatedMediaStudio(e,t){e.updatedStudios=wa()(e.updatedStudios,(e,a)=>a!==t)},clearRemovedMediaStudio(e,t){e.removedStudios=e.removedStudios.filter(e=>e!==t)},clearAddedMediaStudio(e,t){e.addedStudios=wa()(e.addedStudios,e=>e.studio.name!==t)},clearNewMediaStudio(e,t){e.newStudios=wa()(e.newStudios,e=>e.studio.name!==t)}}};const Ya={schema:"internal"};var Ha={state:{submissions:[],mediaTypes:!1},getters:{submissions:e=>e.submissions.filter(e=>"PENDING"===e.status),mediaTypes:e=>e.mediaTypes},actions:{async fetchSubmissions(e,t){let a=e.commit;const s=await Object(p["a"])(ra,t,Ya);a("setSubmissions",s.MediaSubmission)},async fetchMediaTypes(e){let t=e.commit;const a=await Object(p["a"])(oa);t("setMediaTypes",a.MediaTypes.fields)},async saveSubmission(e,t){let a=e.commit;try{const e=await Object(p["a"])(Gt,t,Ya);return a("removeSubmissionField",t),e.SaveMedia}catch(s){return Object(h["a"])(s),!1}},async updateSubmissionStatus(e,t){let a=e.commit;try{return await Object(p["a"])(ca,t,Ya),a("updateSubmissionStatus",t),!0}catch(s){return Object(h["a"])(s),!1}},updateMediaSubmission(e,t){let a=e.commit;a("updateMediaSubmission",t)}},mutations:{setSubmissions(e,t){e.submissions=t},setMediaTypes(e,t){const a={};t.forEach(e=>{a[e.name]=e.type.name||e.type.kind}),a.description="String:Text",a.bannerImage="MediaBannerImage",e.mediaTypes=a},updateSubmissionStatus(e,t){let a=t.id,s=t.status;const n=e.submissions.find(e=>e.id===a);i["default"].set(n,"status",s)},updateMediaSubmission(e,t){let a=t.index,s=t.key,n=t.value,r=Object(c["a"])({},e.submissions[a].submission);r=Oa()(e.submissions[a].submission,s,n),i["default"].set(e.submissions[a],"submission",r)},removeSubmissionField(e,t){let a=t.index,s=t.key;const n=e.submissions[a].changes;i["default"].set(e.submissions[a],"changes",n.filter(e=>e!==s))},removeCharacterSubmission(e,t){const a=e.submissions[t.submission].characters;i["default"].set(e.submissions[t.submission],"characters",a.filter((e,a)=>a!==t.character))},removeStaffSubmission(e,t){const a=e.submissions[t.submission].staff;i["default"].set(e.submissions[t.submission],"staff",a.filter((e,a)=>a!==t.staff))},removeLinkSubmission(e,t){const a=e.submissions[t.submission].externalLinks;i["default"].set(e.submissions[t.submission],"externalLinks",a.filter((e,a)=>a!==t.link))},removeStudioSubmission(e,t){const a=e.submissions[t.submission].studios;i["default"].set(e.submissions[t.submission],"studios",a.filter((e,a)=>a!==t.studio))},removeRelationSubmission(e,t){const a=e.submissions[t.submission].relations;i["default"].set(e.submissions[t.submission],"relations",a.filter((e,a)=>a!==t.relation))}}};const Qa={schema:"internal"},Wa={namespaced:!0,state:{isSubmission:!1,refresh:!1},getters:{refresh:e=>e.refresh},actions:{async save(e){let t,a=e.state,s=e.commit,i=e.dispatch;try{if(Ft()(a.changes))t=a.media.id;else{const e=await Object(p["a"])(Gt,a.changes,Qa);t=e.SaveMedia.id,s("updateMedia",{key:a.isSubmission?"submissionId":"id",value:t}),s("clearMediaChanges")}}catch(n){return Object(h["a"])(n),!1}if(!a.isSubmission)try{await i("saveAiringSchedule")}catch(n){return Object(h["a"])(n),!1}try{await i("saveCharacters")}catch(n){return Object(h["a"])(n),!1}try{await i("saveStaff")}catch(n){return Object(h["a"])(n),!1}try{await i("saveStudios")}catch(n){return Object(h["a"])(n),!1}try{await i("saveRelations")}catch(n){return Object(h["a"])(n),!1}try{await i("saveLinks")}catch(n){return Object(h["a"])(n),!1}return t},refresh(e){let t=e.commit,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t("refresh",a)}},mutations:{resetState(e,t){e.isSubmission=t,e.refresh=!1,e.media={},e.changes={},e.airingSchedule=[],e.generatedAiringSchedule=[],e.newAiringSchedule=!1,e.characters=[],e.addedCharacters=[],e.newCharacters=[],e.updatedCharacters={},e.removedCharacters=[],e.staff=[],e.addedStaff=[],e.newStaff=[],e.updatedStaff={},e.removedStaff=[],e.studios=[],e.addedStudios=[],e.newStudios=[],e.updatedStudios={},e.removedStudios=[],e.relations=[],e.addedRelations=[],e.removedRelations=[],e.links=[],e.addedLinks=[],e.removedLinks=[],e.submissions=[]},refresh(e,t){e.refresh=t}}},Ka=Rt()(Wa,va,Ea,Ta,Da,Fa,qa,Ga,Ha);var Ja=Ka,Za=a("0644"),Xa=a.n(Za),es="\n    query ($id: Int) {\n        Character(id: $id) {\n            id\n            name {\n                first\n                last\n                native\n                alternative\n            }\n            image {\n                large\n            }\n            description\n        }\n    }\n",ts="\nquery ($id: Int) {\n    CharacterSubmission(characterId: $id) {\n        createdAt\n        submitter {\n            id\n            name\n            avatar {\n                large\n            }\n        }\n        submission {\n            id\n            name {\n                first\n                last\n                native\n                alternative\n            }\n            image {\n                large\n            }\n            description\n        }\n    }\n}\n",as="\nmutation ($id: Int) {\n    DeleteCharacter(id: $id) {\n        deleted\n    }\n}\n",ss={namespaced:!0,state:{character:{},changes:{},submissions:{}},getters:{character:e=>e.character,changes:e=>e.changes,submissions:e=>t=>e.submissions[t]||[]},actions:{async fetchCharacter(e,t){let a=e.commit;const s=await Object(p["a"])(es,{id:t});a("setCharacter",s.Character)},async fetchSubmissions(e,t){let a=e.commit;const s=await Object(p["a"])(ts,{id:t},{schema:"internal"});a("setSubmissions",{id:t,submissions:s.CharacterSubmission})},async saveCharacter(e){let t=e.state,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=a||Object(c["a"])({},t.changes,{id:t.character.id});try{await Object(p["a"])(Qt,s,{schema:"internal"})}catch(i){return Object(h["a"])(i),!1}return!0},async saveSubmission(e,t){let a=e.commit,s=t.id,i=t.key,n=t.value;const r={id:s};Oa()(r,i,n);try{await Object(p["a"])(Qt,r,{schema:"internal"})}catch(o){return Object(h["a"])(o),!1}return a("setCharacterValue",{key:i,value:n}),!0},async saveSubmissionStatus(e,t){let a=e.commit;try{await Object(p["a"])(Qt,t,{schema:"internal"})}catch(s){return Object(h["a"])(s),!1}return a("clearSubmission",t),!0},async deleteCharacter(e,t){try{return await Object(p["a"])(as,{id:t},{schema:"internal"}),!0}catch(a){Object(h["a"])(a)}return!1}},mutations:{setCharacter(e,t){e.character=t},setSubmissions(e,t){let a=t.id,s=t.submissions;i["default"].set(e.submissions,a,s)},updateCharacter(e,t){const a=Xa()(e.changes);Oa()(a,t.key,t.value);const s=Xa()(e.character);Oa()(s,t.key,t.value),e.character=s,e.changes=a},setCharacterValue(e,t){const a=Xa()(e.character);Oa()(a,t.key,t.value),e.character=a},clearSubmission(e,t){let a=t.id,s=t.index;i["default"].delete(e.submissions[a],s)},reset(e){e.character={},e.changes={}}}},is="\n    query ($id: Int) {\n        Staff(id: $id) {\n            id\n            name {\n                first\n                last\n                native\n                alternative\n            }\n            image {\n                large\n            }\n            language\n            description\n        }\n    }\n",ns="\nquery ($id: Int) {\n    StaffSubmission(staffId: $id) {\n        createdAt\n        submitter {\n            id\n            name\n            avatar {\n                large\n            }\n        }\n        submission {\n            id\n            name {\n                first\n                last\n                native\n                alternative\n            }\n            image {\n                large\n            }\n            language\n            description\n        }\n    }\n}\n",rs="\nmutation ($id: Int) {\n    DeleteStaff(id: $id) {\n        deleted\n    }\n}\n",os={namespaced:!0,state:{staff:{},changes:{},submissions:{}},getters:{staff:e=>e.staff,changes:e=>e.changes,submissions:e=>t=>e.submissions[t]||[]},actions:{async fetchStaff(e,t){let a=e.commit;const s=await Object(p["a"])(is,{id:t});a("setStaff",s.Staff)},async fetchSubmissions(e,t){let a=e.commit;const s=await Object(p["a"])(ns,{id:t},{schema:"internal"});a("setSubmissions",{id:t,submissions:s.StaffSubmission})},async saveStaff(e){let t=e.state,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=a||Object(c["a"])({},t.changes,{id:t.staff.id});try{await Object(p["a"])(Zt,s,{schema:"internal"})}catch(i){return Object(h["a"])(i),!1}return!0},async saveSubmission(e,t){let a=e.commit,s=t.id,i=t.key,n=t.value;const r={id:s};Oa()(r,i,n);try{await Object(p["a"])(Zt,r,{schema:"internal"})}catch(o){return Object(h["a"])(o),!1}return a("setStaffValue",{key:i,value:n}),!0},async saveSubmissionStatus(e,t){let a=e.commit;try{await Object(p["a"])(Zt,t,{schema:"internal"})}catch(s){return Object(h["a"])(s),!1}return a("clearSubmission",t),!0},async deleteStaff(e,t){try{return await Object(p["a"])(rs,{id:t},{schema:"internal"}),!0}catch(a){Object(h["a"])(a)}return!1}},mutations:{setStaff(e,t){e.staff=t},setSubmissions(e,t){let a=t.id,s=t.submissions;i["default"].set(e.submissions,a,s)},updateStaff(e,t){const a=Xa()(e.changes);Oa()(a,t.key,t.value);const s=Xa()(e.staff);Oa()(s,t.key,t.value),e.staff=s,e.changes=a},setStaffValue(e,t){const a=Xa()(e.staff);Oa()(a,t.key,t.value),e.staff=a},clearSubmission(e,t){let a=t.id,s=t.index;i["default"].delete(e.submissions[a],s)},reset(e){e.staff={},e.changes={}}}},cs="\n    query ($id: Int) {\n        Studio(id: $id) {\n            id\n            name\n            isAnimationStudio\n        }\n    }\n",ls={namespaced:!0,state:{studio:{},changes:{}},getters:{studio:e=>e.studio,changes:e=>e.changes},actions:{async fetchStudio(e,t){let a=e.commit;const s=await Object(p["a"])(cs,{id:t});a("setStudio",s.Studio)},async saveStudio(e){let t=e.state;try{await Object(p["a"])(ta,Object(c["a"])({},t.changes,{id:t.studio.id}),{schema:"internal"})}catch(a){return Object(h["a"])(a),!1}return!0}},mutations:{setStudio(e,t){e.studio=t},updateStudio(e,t){e.changes=t,t.name&&(e.studio.name=t.name),"undefined"!==typeof t.isAnimationStudio&&(e.studio.isAnimationStudio=t.isAnimationStudio)}}},ds="\nquery ($search: String, $type: MediaType, $id: Int, $isAdult: Boolean, $page: Int) {\n    Page (page: $page) {\n        results: media (type: $type, search: $search, id: $id, isAdult: $isAdult) {\n            id\n            title {\n                userPreferred\n            }\n            coverImage {\n                medium\n            }\n            type\n            format\n        }\n    },\n}",us="\nquery ($search: String, $id: Int, $page: Int) {\n    Page (page: $page) {\n        results: staff (search: $search, id: $id) {\n            id\n            language\n            name {\n                first\n                last\n            }\n            image {\n                medium\n            }\n        }\n    },\n}",ms="\nquery ($search: String, $id: Int, $page: Int) {\n    Page (page: $page) {\n        results: characters (search: $search, id: $id) {\n            id\n            name {\n                first\n                last\n            }\n            image {\n                medium\n            }\n        }\n    },\n}",ps="\nquery ($search: String, $id: Int, $page: Int) {\n    Page (page: $page) {\n        results: studios (search: $search, id: $id) {\n            id\n            name\n        }\n    },\n}",hs={namespaced:!0,state:{search:{}},getters:{search:e=>e.search},actions:{async fetchMediaSearch(e,t){let a=e.commit;const s=await Object(p["a"])(ds,t);a("setSearchResults",s.Page.results)},async fetchStaffSearch(e,t){let a=e.commit;const s=await Object(p["a"])(us,t);a("setSearchResults",s.Page.results)},async fetchStudioSearch(e,t){let a=e.commit;const s=await Object(p["a"])(ps,t);a("setSearchResults",s.Page.results)},async fetchCharacterSearch(e,t){let a=e.commit;const s=await Object(p["a"])(ms,t);a("setSearchResults",s.Page.results)}},mutations:{setSearchResults(e,t){e.search=t}}},vs="\nquery (\n    $page: Int = 0,\n    $userId: Int,\n    $mediaId: Int,\n    $characterId: Int,\n    $staffId: Int,\n    $studioId: Int,\n) {\n    Page(page: $page) {\n        pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n        }\n        revisionHistory (\n            userId: $userId,\n            mediaId: $mediaId,\n            characterId: $characterId,\n            staffId: $staffId,\n            studioId: $studioId,\n        ) {\n            id\n            action\n            changes\n            createdAt\n            user {\n                id\n                name\n                avatar {\n                    medium\n                }\n            }\n            media {\n                id\n                type\n                title {\n                    userPreferred\n                }\n                coverImage {\n                    medium\n                }\n            }\n            character {\n                id\n                name {\n                    first\n                    last\n                }\n                image {\n                    medium\n                }\n            }\n            staff {\n                id\n                name {\n                    first\n                    last\n                }\n                image {\n                    medium\n                }\n            }\n            studio {\n                id\n                name\n            }\n        }\n    }\n}\n",fs={namespaced:!0,state:{revisionHistory:{}},getters:{revisionHistory:e=>t=>{let a=t.filter,s=t.page;return Object(h["c"])(e.revisionHistory[m()(a)],s)}},actions:{async fetchRevisionHistory(e,t){let a=e.commit,s=t.variables,i=t.page;const n=await Object(p["a"])(vs,Object(c["a"])({},s,{page:i}),{schema:"internal"});return a("setRevisionHistoryPage",{feed:n.Page,page:i,filter:m()(s)}),n.Page.pageInfo.hasNextPage}},mutations:{setRevisionHistoryPage(e,t){let a=t.feed,s=t.filter,i=t.page;Object(h["f"])(e.revisionHistory,a,s,i,"revisionHistory")}}};i["default"].use(n["a"]);const gs=new n["a"].Store({strict:!1,state:{loading:!0,navTransparency:!1,displayAds:!0,markdownEditorActive:!1,screen:{width:window.innerWidth,height:window.innerHeight,isDesktop:window.innerWidth>1040,isMobile:window.innerWidth<760}},getters:r,actions:o,mutations:l,modules:{auth:d["a"],home:w,media:D,user:ie,character:re,staff:ce,review:fe,studio:de,search:$e,quickSearch:Ie,medialist:Te,activity:Ue,notification:Be,forumFeed:Ye,forumThread:tt,like:st,embed:nt,settings:bt,submissionDashboard:Nt,submissionSearchBox:hs,mediaSubmission:Ja,characterSubmission:ss,staffSubmission:os,studioSubmission:ls,revisionHistory:fs}});t["a"]=gs},"437b":function(e,t,a){},4426:function(e,t,a){},4508:function(e,t,a){},"451d":function(e,t,a){},4561:function(e,t,a){},"45eb":function(e,t,a){"use strict";(function(e){a("a481"),a("ac6a");var s=a("e814"),i=a.n(s),n=a("2b0e"),r=a("0e54"),o=a.n(r),c=a("c0c4"),l=a.n(c),d=a("d230");o.a.setOptions({gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1});const u=new o.a.Renderer,m=new o.a.Lexer;u.link=((e,t,a)=>`<a target="_blank" rel="noopener noreferrer" href="${e}" title="${t}">${a}</a>`),m.rules.heading=/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,t["a"]={props:{markdown:{type:String,required:!0}},data(){return{uniqueId:null,domainBlackList:[/(doko\.moe)/gi,/(nyaa\.si)/gi,/(horriblesubs\.info)/gi,/(kissanime)/gi,/(9anime)/gi,/(discord\.gg)/gi]}},beforeMount(){this.uniqueId=Math.random()},mounted(){"undefined"===typeof window.showSpoiler&&(window.showSpoiler=this.showSpoiler,window.hideSpoiler=this.hideSpoiler),this.initializeYoutubeVideos(),this.initializeMediaEmbeds()},updated(){this.initializeYoutubeVideos(),this.initializeMediaEmbeds()},methods:{showSpoiler(e){e.classList.contains("spoiler-closed")||e.classList.add("spoiler-visible"),e.classList.remove("spoiler-closed")},hideSpoiler(e){e.parentElement.classList.add("spoiler-closed"),e.parentElement.classList.remove("spoiler-visible")},initializeYoutubeVideos(){this.$nextTick(()=>{let e=document.getElementById(this.uniqueId).getElementsByClassName("youtube");for(let t of e)this.initializeYoutubeVideo(t)})},initializeYoutubeVideo(e){const t=e.id;e.onclick=this.playYoutubeVideo,e.style.cssText=`\n                background-image: url(https://i.ytimg.com/vi/${t}/hqdefault.jpg);\n                background-position: center center;\n                background-repeat: no-repeat;\n                background-size: cover;\n            `},playYoutubeVideo(e){const t=e.target.parentNode,a=t.id,s=`https://www.youtube.com/embed/${a}?autoplay=1&autohide=1`;let i=document.createElement("iframe");t.replaceChild(i,e.target),i=document.getElementById(a).getElementsByTagName("iframe")[0],i.setAttribute("frameborder","0"),i.setAttribute("src",s)},initializeMediaEmbeds(){this.$nextTick(()=>{let e=document.getElementById(this.uniqueId).getElementsByClassName("media-embed");for(let t of e)this.initializeMediaEmbed(t)})},initializeMediaEmbed(e){n["default"].prototype.$store=this.$store;const t=n["default"].extend(d["a"]);new t({propsData:{id:i()(e.dataset.mediaId),type:e.dataset.mediaType}}).$mount(e)},sanatize(t){const a=l()(window);return a.sanatize||e.browser?a.sanitize(t,{ALLOWED_TAGS:["a","b","blockquote","br","center","del","div","em","font","h1","h2","h3","h4","h5","hr","i","img","li","ol","p","pre","code","span","strike","strong","ul"],ALLOWED_ATTR:["align","height","href","src","target","width","rel"]}):t}},computed:{markdownHtml(){let e=this.markdown;return this.domainBlackList.forEach(t=>{e=e.replace(t,"")}),e=e.replace(/(http)(:([\/|.|\w|\s|-])*\.(?:jpg|.jpeg|gif|png|mp4|webm))/gi,"$1s$2"),e=e.replace(/img\s?(\d+%?)?\s?\((.[\S]+)\)/gi,"<img width='$1' src='$2'>"),e=e.replace(/\B@([A-Za-z0-9]+)/g,"<a target='_blank' href='/user/$1'>@$1</a>"),e=e.replace(/youtube\s?\([^]*?([-_0-9A-Za-z]{10,15})[^]*?\)/gi,"youtube ($1)"),e=e.replace(/webm\s?\(h?([A-Za-z0-9-._~:\/?#\[\]@!$&()*+,;=%]+)\)/gi,"webmv(`$1`)"),e=e.replace(/~{3}([^~]+)~{3}/g,"+++$1+++"),e=e.replace(/~!([^]*?)!~/gm,'<div rel="spoiler">$1</div>'),e=this.sanatize(o()(e,{renderer:u,lexer:m})),e=e.replace(/\+{3}([^\+]+)\+{3}/g,"<center>$1</center>"),e=e.replace(/<div rel="spoiler">([\s\S]*?)<\/div>/gm,"<p><span onclick='showSpoiler(this)' class='markdown-spoiler'><i class='hide-spoiler el-icon-circle-close' onclick='hideSpoiler(this)'></i><span>$1</span></span></p>"),e=e.replace(/youtube\s?\(([-_0-9A-Za-z]{10,15})\)/gi,"<span class='youtube' id='$1' style='width: 100%; height: 200px; max-width: 500px;'><span class='play'></span></span>"),e=e.replace(/webmv\s?\(<code>([A-Za-z0-9-._~:\/?#\[\]@!$&()*+,;=%]+)<\/code>\)/gi,"<video muted loop "+this.videoAutoPlay+" controls><source src='h$1' type='video/webm'>Your browser does not support the video tag.</video>"),e=e.replace(/(?:<a href="https?:\/\/anilist.co\/(anime|manga)\/)([0-9]+).*?>(?:https?:\/\/anilist.co\/(?:anime|manga)\/[0-9]+).*?<\/a>/gm,'<div class="media-embed" data-media-type="$1" data-media-id="$2"></div>'),e},videoAutoPlay(){return this.$store.state.screen.isDesktop?"autoplay":""}}}}).call(this,a("4362"))},"46f4":function(e,t,a){},4754:function(e,t,a){"use strict";var s=a("d9ef"),i=a.n(s);i.a},"47a7":function(e,t,a){"use strict";var s=a("25b2"),i=a.n(s);i.a},"496e":function(e,t,a){"use strict";var s=a("13b6"),i=a.n(s);i.a},4986:function(e,t,a){},"4a1b":function(e,t,a){"use strict";var s=a("9d43"),i=a.n(s);i.a},"4a46":function(e,t,a){"use strict";var s=a("4508"),i=a.n(s);i.a},"4a5c":function(e,t,a){"use strict";var s=a("d493"),i=a.n(s);i.a},"4aef":function(e,t,a){"use strict";var s=a("0018"),i=a.n(s);i.a},"4be4":function(e,t,a){"use strict";var s=a("a489"),i=a.n(s);i.a},"4c86":function(e,t,a){"use strict";var s=a("33f5"),i=a.n(s);i.a},"4e30":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"activity-edit"},[a("markdown-editor",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],attrs:{markdown:e.markdown,input:e.input(),action:"activity/updateEditor",reference:e.reference}}),e._v(" "),a("el-input",{ref:"input",staticClass:"input",attrs:{type:"textarea",autosize:"",placeholder:e.placeholder},on:{focus:function(t){e.active=!0}},model:{value:e.markdown,callback:function(t){e.markdown=t},expression:"markdown"}}),e._v(" "),e.markdown&&""!=e.markdown?[a("h2",{staticClass:"section-header"},[e._v("Preview:")]),e._v(" "),"reply"==e.type?a("activity-reply",{staticClass:"preview",attrs:{reply:e.preview}}):a("activity",{staticClass:"preview",attrs:{activity:e.preview}})]:e._e(),e._v(" "),e.active?a("div",{staticClass:"actions"},[a("div",{staticClass:"button cancel",on:{click:function(t){return e.cancel()}}},[e._v("Cancel")]),e._v(" "),a("div",{staticClass:"button save",on:{click:function(t){return e.save()}}},[e._v("Publish")])]):e._e()],2)},i=[],n=(a("a481"),a("e814")),r=a.n(n),o=a("f3ad"),c=a.n(o),l=a("dc26"),d=a("52d5"),u={props:["type","reference","activity","reply"],components:{MarkdownEditor:d["a"],ActivityReply:l["a"],ElInput:c.a},data(){return{editorActive:!1,saving:!1}},computed:{markdown:{get(){return this.$store.getters["activity/editor"](this.reference)},set(e){this.$store.dispatch("activity/updateEditor",{value:e,reference:this.reference})}},placeholder(){return`Write a ${this.type}...`},preview(){return{text:this.markdown,type:"TEXT",user:this.$store.getters["auth/viewer"]}},active:{get(){return this.editorActive},set(e){return this.$store.commit("setMarkdownEditorState",e),this.editorActive=e}}},methods:{input(){if(this.$refs.input&&this.$refs.input.$el)return this.$refs.input.$el.children[0]},async save(){if(!this.saving){let e;this.saving=!0,e=this.activity||this.reply?await this.$store.dispatch("activity/saveActivity",{text:this.markdown,id:this.activity?this.activity.id:this.reply.id,type:this.type}):await this.$store.dispatch("activity/saveActivity",{text:this.markdown,type:this.type,activityId:r()(this.reference.replace("reply-","")),recipientId:r()(this.reference.replace("message-",""))}),e&&(this.active=!1,this.markdown="",this.saving=!1,this.$emit("refresh"))}},cancel(){this.active=!1,this.markdown="",this.$emit("close")}},beforeCreate(){this.$options.components.Activity=a("d10a").default},created(){this.activity?(this.active=!0,this.markdown=this.activity.text||this.activity.message):this.reply&&(this.active=!0,this.markdown=this.reply.text)}},m=u,p=(a("e022"),a("47a7"),a("2877")),h=Object(p["a"])(m,s,i,!1,null,"361153d0",null);t["default"]=h.exports},"4e65":function(e,t,a){"use strict";var s=a("dbfc"),i=a.n(s);i.a},"4fee":function(e,t,a){},5036:function(e,t,a){"use strict";var s=a("35b3"),i=a.n(s);i.a},"50ae":function(e,t,a){"use strict";var s=a("8cc8"),i=a.n(s);i.a},"519b":function(e,t,a){},5224:function(e,t,a){"use strict";var s=a("ebf6");t["a"]=`\nquery {\n    Viewer {\n        ${s["a"]}\n    }\n}\n`},"52d5":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"markdown-editor"},[a("div",{attrs:{title:"Bold"},on:{click:function(t){return e.add("__","__")}}},[a("font-awesome-icon",{attrs:{icon:"bold"}})],1),e._v(" "),a("div",{attrs:{title:"Italic"},on:{click:function(t){return e.add("_","_")}}},[a("font-awesome-icon",{attrs:{icon:"italic"}})],1),e._v(" "),a("div",{attrs:{title:"Strikethrough"},on:{click:function(t){return e.add("~~","~~")}}},[a("font-awesome-icon",{attrs:{icon:"strikethrough"}})],1),e._v(" "),a("div",{attrs:{title:"Spoiler!"},on:{click:function(t){return e.add("~!","!~")}}},[a("font-awesome-icon",{attrs:{icon:"eye-slash"}})],1),e._v(" "),a("div",{attrs:{title:"Link"},on:{click:function(t){return e.addUrl()}}},[a("font-awesome-icon",{attrs:{icon:"link"}})],1),e._v(" "),a("div",{attrs:{title:"Image"},on:{click:function(t){return e.addImage()}}},[a("font-awesome-icon",{attrs:{icon:"image"}})],1),e._v(" "),a("div",{attrs:{title:"Youtube Video"},on:{click:function(t){return e.addYoutube()}}},[a("font-awesome-icon",{attrs:{icon:["fab","youtube"]}})],1),e._v(" "),a("div",{attrs:{title:"WebM Video"},on:{click:function(t){return e.addWebm()}}},[a("font-awesome-icon",{attrs:{icon:"video"}})],1),e._v(" "),a("div",{attrs:{title:"Ordered List"},on:{click:function(t){return e.add("1. ","")}}},[a("font-awesome-icon",{attrs:{icon:"list-ol"}})],1),e._v(" "),a("div",{attrs:{title:"Unordered List"},on:{click:function(t){return e.add("- ","")}}},[a("font-awesome-icon",{attrs:{icon:"list-ul"}})],1),e._v(" "),a("div",{attrs:{title:"Header"},on:{click:function(t){return e.add("# ","")}}},[a("font-awesome-icon",{attrs:{icon:"heading"}})],1),e._v(" "),a("div",{attrs:{title:"Center"},on:{click:function(t){return e.add("~~~","~~~")}}},[a("font-awesome-icon",{attrs:{icon:"align-center"}})],1),e._v(" "),a("div",{attrs:{title:"Quote"},on:{click:function(t){return e.add(">","")}}},[a("font-awesome-icon",{attrs:{icon:"quote-right"}})],1),e._v(" "),a("div",{attrs:{title:"Code"},on:{click:function(t){return e.add("`","`")}}},[a("font-awesome-icon",{attrs:{icon:"code"}})],1)])},i=[],n=a("7a55"),r=a.n(n),o={props:["markdown","input","action","reference"],components:{FontAwesomeIcon:r.a},methods:{add(e,t){const a=this.input.selectionStart,s=this.input.selectionEnd,i=e+this.markdown.substring(a,s)+t;this.apply(a,s,i)},apply(e,t,a){const s=this.markdown.substring(0,e)+a+this.markdown.substring(t,this.markdown.length);this.action?this.$store.dispatch(this.action,{reference:this.reference,value:s}):this.$emit("update:markdown",s)},addUrl(){this.$prompt("Please input a URL","Add URL",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/,inputErrorMessage:"Invalid URL"}).then(e=>{this.add("[link ",`](${e.value})`)})},addImage(){this.$prompt("Please input an image URL","Add image",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/(https?:\/\/.*\.(?:png|jpg|jpeg|gif))/i,inputErrorMessage:"Invalid image URL"}).then(e=>{this.add("img220(",`${e.value})`)})},addWebm(){this.$prompt("Please input a WebM video URL","Add WebM Video",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/(https?:\/\/.*\.(?:mp4|webm|ogv))/i,inputErrorMessage:"Invalid video URL"}).then(e=>{this.add("webm(",`${e.value})`)})},addYoutube(){this.$prompt("Please input a YouTube video URL","Add YouTube Video",{confirmButtonText:"OK",cancelButtonText:"Cancel"}).then(e=>{this.add("youtube(",`${e.value})`)})}}},c=o,l=(a("0e3a"),a("2877")),d=Object(l["a"])(c,s,i,!1,null,null,null);t["a"]=d.exports},"52f3":function(e,t,a){},5351:function(e,t,a){},5408:function(e,t,a){},"54f5":function(e,t,a){},5710:function(e,t,a){},5714:function(e,t,a){"use strict";var s=a("0f88"),i=a.n(s);i.a},5753:function(e,t,a){"use strict";var s=a("0da9"),i=a.n(s);i.a},"587f":function(e,t,a){"use strict";var s=a("d9ae"),i=a.n(s);i.a},5952:function(e,t,a){"use strict";var s=a("370a"),i=a.n(s);i.a},5962:function(e,t,a){"use strict";var s=a("6f2d"),i=a.n(s);i.a},"59c4":function(e,t,a){},"59fe":function(e,t,a){"use strict";var s=a("a4bb"),i=a.n(s),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"scroll",staticClass:"scroller"},[e.isLoading?a("loading"):e._e(),e._v(" "),e.paused?a("div",{staticClass:"load-more",on:{click:e.loadMore}},[e._v("Load More")]):e._e()],1)},r=[],o=a("b727"),c=a.n(o),l=a("f414"),d=a.n(l),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{slot:"spinner"},slot:"spinner"},[a("div",{staticClass:"emoji-spinner"},[e._v(e._s(e.randomEmoji()))])])},m=[],p={data(){return{emoji:["","()/","","()","( )","()","()","(^^ )","","()","()","","( )","><","(<)","()","(*)","( )","><","()","()","(  )","()","(*)","","(o)","(0)~","(^0^)"]}},methods:{randomEmoji(){return this.emoji[Math.floor(Math.random()*this.emoji.length)]}}},h=p,v=a("2877"),f=Object(v["a"])(h,u,m,!1,null,null,null),g=f.exports;const y=["scroll","resize"];var _={name:"scroll-load",components:{Loading:g},props:{threshold:{type:Number,default:0},handleOnMount:{type:Boolean,default:!0},scrollContainer:{type:String},paused:{type:Boolean,default:!1}},computed:{handler(){return this.$parent.scrollHandler},isLoading(){return this.$parent.loading},shouldHandle(){return!this.isLoading&&!this.$parent.complete}},methods:{checkInView(){if(this.handleOnMount&&this.execute(),this.scrollContainer){let e=this;while((e=e.$parent)&&!this._scrollContainer)this._scrollContainer=e.$refs[this.scrollContainer];this._scrollContainer&&this._scrollContainer.$el&&(this._scrollContainer=this._scrollContainer.$el)}this._scrollContainer=this._scrollContainer||window,this.check=c()(this.execute,200),y.forEach(e=>{this._scrollContainer.addEventListener(e,this.check)})},execute(){let e;this.$refs.scroll&&(e=d()(this.$refs.scroll,{threshold:this.threshold})),this.shouldHandle&&e&&this.handler()},loadMore(){this.$emit("update:paused",!1),this.$nextTick(()=>{this.execute()})}},mounted(){this.checkInView()},beforeDestroy(){y.forEach(e=>{this._scrollContainer.removeEventListener(e,this.check)})}},b=_,w=(a("0998"),Object(v["a"])(b,n,r,!1,null,"20c930b2",null)),C=w.exports;t["a"]={components:{ScrollLoad:C},data(){return{page:0,loading:!1,hasNextPage:!0,complete:!1,paused:!1}},methods:{async scrollHandler(){if(!this.loading&&!this.complete&&!this.paused){if(!this.hasNextPage)return void(this.complete=!0);if(this.loading=!0,this.page+=1,await this.$refs.scroll.$attrs.action(),this.loading=!1,this.$refs.scroll){const e=this.$refs.scroll.$attrs.limit;e&&(this.page+1)%e===0&&(this.paused=!0)}}},resetScrollLoader(e){this[e]=!0,this.page=0,this.loading=!1,this.complete=!1,this.hasNextPage=!0,this.paused=!1,this.$nextTick(()=>{this[e]=!1})},getScrollRefs(){const e={};return i()(this.$refs).map(t=>{t.startsWith("scroll-")&&this.$refs[t][0]&&(e[t]=this.$refs[t])}),e}}}},"5a14":function(e,t,a){"use strict";var s=a("fbe2"),i=a.n(s);i.a},"5a44":function(e,t,a){"use strict";var s=a("3aa5"),i=a.n(s);i.a},"5a78":function(e,t,a){},"5a89":function(e,t,a){"use strict";var s=a("ab23"),i=a.n(s);i.a},"5ad4":function(e,t,a){"use strict";a.r(t),a.d(t,"capitalize",function(){return s}),a.d(t,"capitalizeFormat",function(){return n});a("ac6a"),a("a481"),a("28a5");const s=e=>{if(!e)return null;const t=e.replace(/_/g," ").split(" "),a=[];return t.forEach(e=>{const t=e.charAt(0).toUpperCase(),s=e.slice(1,e.length).toLowerCase();a.push(t+s)}),a.join(" ")},i=["TV","ONA","OVA"],n=e=>{return i.includes(e)?e:"TV_SHORT"===e?"TV Short":"NOVEL"===e?"Light Novel":s(e)}},"5adf":function(e,t,a){"use strict";var s=a("1d0f"),i=a.n(s);i.a},"5b18":function(e,t,a){},"5b9f":function(e,t,a){},"5c0b":function(e,t,a){"use strict";var s=a("5e27"),i=a.n(s);i.a},"5cc1":function(e,t,a){"use strict";var s=a("0892"),i=a.n(s);i.a},"5d62":function(e,t,a){},"5d7e":function(e,t,a){},"5e27":function(e,t,a){},"5ea3":function(e,t,a){"use strict";var s=a("519b"),i=a.n(s);i.a},"5fc8":function(e,t,a){},6107:function(e,t,a){},6173:function(e,t,a){},"619d":function(e,t,a){},"620e":function(e,t,a){},"62c2":function(e,t,a){},"62e9":function(e,t,a){"use strict";var s=a("451d"),i=a.n(s);i.a},6482:function(e,t,a){var s=a("3d67"),i=["save"];e.exports=function(){var e=new Worker(a.p+"ee33e752b21b1b607926.worker.js",{name:"[hash].worker.js"});return s(e,i),e}},"64b6":function(e,t,a){"use strict";var s=a("b178"),i=a.n(s);i.a},6613:function(e,t,a){"use strict";var s=a("bcac"),i=a.n(s);i.a},"66ae":function(e,t,a){"use strict";var s=a("95c9"),i=a.n(s);i.a},"66cf":function(e,t,a){"use strict";var s=a("7974"),i=a.n(s);i.a},"67a2":function(e,t,a){"use strict";var s=a("dfce"),i=a.n(s);i.a},"680c":function(e,t,a){"use strict";var s=a("5d62"),i=a.n(s);i.a},"688a":function(e,t,a){"use strict";var s=a("dae8"),i=a.n(s);i.a},"690e":function(e,t,a){"use strict";var s=a("330f"),i=a.n(s);i.a},"692a":function(e,t,a){"use strict";var s=a("4426"),i=a.n(s);i.a},"6c0b":function(e,t,a){},"6c12":function(e,t,a){"use strict";var s=a("cb48"),i=a.n(s);i.a},"6c32":function(e,t,a){},"6f2d":function(e,t,a){},"6f3c":function(e,t,a){},"6f64":function(e,t,a){"use strict";var s=a("bc58"),i=a.n(s);i.a},"6fc5":function(e,t,a){"use strict";var s=a("ab6b"),i=a.n(s);i.a},7012:function(e,t,a){"use strict";var s=a("0920"),i=a.n(s);i.a},7205:function(e,t,a){"use strict";t["a"]="\nmutation {\n    Logout\n}\n"},7298:function(e,t,a){},"72aa":function(e,t,a){"use strict";var s=a("da29"),i=a.n(s);i.a},"731b":function(e,t,a){"use strict";var s=a("2161"),i=a.n(s);i.a},7482:function(e,t,a){},"74c1":function(e,t,a){"use strict";var s=a("392e"),i=a.n(s);i.a},"763e":function(e,t,a){},7915:function(e,t,a){"use strict";var s=a("8c44"),i=a.n(s);i.a},7974:function(e,t,a){},"7a63":function(e,t,a){"use strict";var s=a("35fb"),i=a.n(s);i.a},"7af3":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"list-editor-wrap",attrs:{"custom-class":"list-editor",visible:!0},on:{close:e.close}},[e.media.id?[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.media.bannerImage,expression:"media.bannerImage",arg:"background-image"}],staticClass:"header",attrs:{div:""}},[a("div",{staticClass:"content"},[a("div",{staticClass:"cover"},[a("img",{attrs:{src:e.media.coverImage.large}})]),e._v(" "),a("div",{staticClass:"title"},[e._v(e._s(e.media.title.userPreferred))]),e._v(" "),a("favourite",{attrs:{id:e.media.id,type:e.media.type,"is-favourite":e.media.isFavourite,mutation:null,theme:"outline"}}),e._v(" "),a("div",{staticClass:"save-btn",on:{click:e.save}},[e._v("Save")])],1)]),e._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"input-wrap",class:e.media.type.toLowerCase()},[a("div",{staticClass:"form status"},[a("div",{staticClass:"input-title"},[e._v("Status")]),e._v(" "),a("el-select",{attrs:{placeholder:"Status"},model:{value:e.entry.status,callback:function(t){e.$set(e.entry,"status",t)},expression:"entry.status"}},e._l(e.statusOptions[e.media.type],function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),e._v(" "),a("div",{staticClass:"form score"},[a("div",{staticClass:"input-title"},[e._v("Score")]),e._v(" "),e.scoreType.max>5?a("el-input-number",{attrs:{min:0,max:e.scoreType.max,step:e.scoreType.step,"controls-position":"right"},model:{value:e.entry.score,callback:function(t){e.$set(e.entry,"score",t)},expression:"entry.score"}}):"POINT_5"==e.scoreType.format?a("div",{staticClass:"star-score-wrap"},[a("el-rate",{attrs:{value:e.entry.score,colors:["#99A9BF","#F7BA2A","#FF9900"]},on:{change:e.setScore}})],1):"POINT_3"==e.scoreType.format?a("div",{staticClass:"smile-score-wrap"},[a("font-awesome-icon",{staticClass:"smile-icon",class:{active:3==e.entry.score},attrs:{icon:"smile"},on:{click:function(t){return e.setScore(3)}}}),e._v(" "),a("font-awesome-icon",{staticClass:"smile-icon",class:{active:2==e.entry.score},attrs:{icon:"meh"},on:{click:function(t){return e.setScore(2)}}}),e._v(" "),a("font-awesome-icon",{staticClass:"smile-icon",class:{active:1==e.entry.score},attrs:{icon:"frown"},on:{click:function(t){return e.setScore(1)}}})],1):e._e()],1),e._v(" "),a("div",{staticClass:"form progress"},[a("div",{staticClass:"input-title"},[e._v(e._s(e.isAnime?"Episode":"Chapter")+" Progress")]),e._v(" "),a("el-input-number",{attrs:{min:0,max:e.maxProgress,"controls-position":"right"},model:{value:e.entry.progress,callback:function(t){e.$set(e.entry,"progress",t)},expression:"entry.progress"}})],1),e._v(" "),e.isAnime?e._e():a("div",{staticClass:"form volumes"},[a("div",{staticClass:"input-title"},[e._v("Volume Progress")]),e._v(" "),a("el-input-number",{attrs:{min:0,max:e.media.volumes||1/0,"controls-position":"right"},model:{value:e.entry.progressVolumes,callback:function(t){e.$set(e.entry,"progressVolumes",t)},expression:"entry.progressVolumes"}})],1),e._v(" "),a("div",{staticClass:"form start"},[a("div",{staticClass:"input-title"},[e._v("Start Date")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd"},model:{value:e.entry.startedAt,callback:function(t){e.$set(e.entry,"startedAt",t)},expression:"entry.startedAt"}})],1),e._v(" "),a("div",{staticClass:"form finish"},[a("div",{staticClass:"input-title"},[e._v("Finish Date")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd"},model:{value:e.entry.completedAt,callback:function(t){e.$set(e.entry,"completedAt",t)},expression:"entry.completedAt"}})],1),e._v(" "),a("div",{staticClass:"form repeat"},[a("div",{staticClass:"input-title"},[e._v("Total "+e._s(e.isAnime?"Rewatches":"Rereads"))]),e._v(" "),a("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.entry.repeat,callback:function(t){e.$set(e.entry,"repeat",t)},expression:"entry.repeat"}})],1),e._v(" "),a("div",{staticClass:"form notes"},[a("div",{staticClass:"input-title"},[e._v("Notes")]),e._v(" "),a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.entry.notes,callback:function(t){e.$set(e.entry,"notes",t)},expression:"entry.notes"}})],1),e._v(" "),e.advancedScoringEnabled?a("div",{staticClass:"form advanced-scores"},[a("div",{staticClass:"input-title"},[e._v("Advanced Scores")]),e._v(" "),e.advancedScoringEnabled?a("div",{staticClass:"advanced-scores-wrap"},e._l(e.entry.advancedScores,function(t,s,i){return a("div",{key:i,staticClass:"advanced-score"},[a("div",{staticClass:"input-title"},[e._v(e._s(s))]),e._v(" "),a("el-input-number",{attrs:{min:0,max:e.scoreType.max,step:e.scoreType.step,"controls-position":"right"},on:{change:e.setAdvancedScoreAverage},model:{value:e.entry.advancedScores[s],callback:function(t){e.$set(e.entry.advancedScores,s,t)},expression:"entry.advancedScores[name]"}})],1)}),0):e._e()]):e._e()]),e._v(" "),a("div",{staticClass:"checkbox-wrap"},[a("div",{staticClass:"custom-lists"},[a("div",{staticClass:"input-title"},[e._v("Custom Lists")]),e._v(" "),e.customLists[0]?e._l(e.customLists,function(t,s){return a("div",{key:s,staticClass:"checkbox"},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t,expression:"customList"}],model:{value:e.entry.customLists[t],callback:function(a){e.$set(e.entry.customLists,t,a)},expression:"entry.customLists[customList]"}},[e._v(e._s(t))])],1)}):[a("span",{staticClass:"no-custom-lists"},[e._v("No custom "+e._s(this.media.type.toLowerCase())+" lists")])]],2),e._v(" "),e.customLists[0]?a("div",{staticClass:"checkbox"},[a("el-checkbox",{model:{value:e.entry.hiddenFromStatusLists,callback:function(t){e.$set(e.entry,"hiddenFromStatusLists",t)},expression:"entry.hiddenFromStatusLists"}},[e._v("Hide from status lists")])],1):e._e(),e._v(" "),a("div",{staticClass:"checkbox"},[a("el-checkbox",{model:{value:e.entry.private,callback:function(t){e.$set(e.entry,"private",t)},expression:"entry.private"}},[e._v("Private")])],1),e._v(" "),e.originalEntry?a("div",{staticClass:"delete-btn",on:{click:e.deleteEntry}},[e._v("\n                    Delete\n                ")]):e._e()])])]:e._e()],2)},i=[],n=a("59ad"),r=a.n(n),o=a("e814"),c=a.n(o),l=(a("28a5"),a("768b")),d=(a("ac6a"),a("cebc")),u=a("db0c"),m=a.n(u),p=a("a4bb"),h=a.n(p),v=a("33ca"),f=a.n(v),g=a("c263"),y=a.n(g),_=a("dcdc"),b=a.n(_),w=a("e772"),C=a.n(w),S=a("4e4b"),$=a.n(S),k=a("e450"),I=a.n(k),A=a("f3ad"),E=a.n(A),x=a("df33"),O=a.n(x),P=a("0644"),T=a.n(P),L=a("a189"),M=a("7a55"),N=a.n(M),D=a("4260"),R=a("3185"),j={components:{FontAwesomeIcon:N.a,ElDialog:O.a,ElInput:E.a,ElInputNumber:I.a,ElSelect:$.a,ElOption:C.a,ElCheckbox:b.a,ElDatePicker:y.a,ElRate:f.a,Favourite:R["a"]},mixins:[L["a"]],data(){return{entry:{score:0,customLists:{},advancedScores:{}},originalEntry:null,statusOptions:{ANIME:{CURRENT:"Watching",PLANNING:"Plan to watch",COMPLETED:"Completed",REPEATING:"Rewatching",PAUSED:"Paused",DROPPED:"Dropped"},MANGA:{CURRENT:"Reading",PLANNING:"Plan to read",COMPLETED:"Completed",REPEATING:"Rereading",PAUSED:"Paused",DROPPED:"Dropped"}},maxValues:{POINT_100:100,POINT_10_DECIMAL:10,POINT_10:10,POINT_5:5,POINT_3:3}}},computed:{media(){return this.$store.getters["medialist/entry"](this.editorState.id)},editorState(){return this.$store.getters["medialist/editor"]},isAnime(){return"ANIME"==this.media.type},maxProgress(){return this.isAnime?this.media.episodes||1/0:this.media.chapters||1/0},customLists(){const e=`${this.media.type.toLowerCase()}List`;return this.auth.mediaListOptions[e].customLists},scoreType(){const e=this.auth.mediaListOptions.scoreFormat;return{format:e,max:this.maxValues[e],step:"POINT_10_DECIMAL"==e?.5:1}},advancedScoringEnabled(){const e=this.auth.mediaListOptions.animeList.advancedScoringEnabled,t=this.scoreType.format;return e&&("POINT_10_DECIMAL"==t||"POINT_100"==t)}},methods:{async fetchListEntry(e){await this.$store.dispatch("medialist/fetchListEntry",e)},async save(){const e=this.originalEntry?Object(D["e"])(this.originalEntry,this.entry):this.entry;e.mediaId=this.media.id,e.startedAt&&(e.startedAt=this.unformatDate(e.startedAt)),e.completedAt&&(e.completedAt=this.unformatDate(e.completedAt)),this.customLists[0]&&(e.customLists=h()(e.customLists).filter(t=>{if(e.customLists[t])return t})),this.advancedScoringEnabled&&"object"===typeof e.advancedScores?e.advancedScores=m()(e.advancedScores):delete e.advancedScores;const t=await this.$store.dispatch("medialist/saveListEntry",e);t&&(this.$notify({type:"success",message:`${this.media.title.userPreferred} list entry updated`}),this.close())},async deleteEntry(){let e=!1;try{await this.$confirm("Are you sure you want to delete this list entry?","Warning"),e=await this.$store.dispatch("medialist/deleteListEntry",{id:this.originalEntry.id,entry:Object(d["a"])({media:this.media},this.originalEntry)})}catch(t){}e&&(this.$notify({type:"success",message:"List entry deleted"}),this.close())},setEntry(){this.media.mediaListEntry?(this.originalEntry=this.media.mediaListEntry,this.entry=T()(this.media.mediaListEntry),this.entry.startedAt=this.formatDate(this.entry.startedAt),this.entry.completedAt=this.formatDate(this.entry.completedAt)):this.advancedScoringEnabled&&this.auth.mediaListOptions.animeList.advancedScoring.forEach(e=>this.entry.advancedScores[e]=0)},close(){this.entry={customLists:{}},this.originalEntry=null,this.$store.dispatch("medialist/closeListEditor")},newDate(){const e=new Date;return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}},formatDate(e){return e&&e.year?`${e.year}-${e.month||"01"}-${e.day||"01"}`:null},unformatDate(e){const t=e.split("-"),a=Object(l["a"])(t,3),s=a[0],i=a[1],n=a[2];return{year:s,month:i,day:n}},setScore(e){e==this.entry.score?this.entry.score=0:this.entry.score=e},setAdvancedScoreAverage(){this.$nextTick(()=>{const e=m()(this.entry.advancedScores).filter(e=>0!=e),t=e.reduce((e,t)=>e+t,0);if(0!==t){const a=t/e.length;this.entry.score="POINT_100"==this.scoreType.format?c()(a):r()(a.toFixed(1))}})}},async created(){this.setEntry(),await this.fetchListEntry(this.editorState.id),this.setEntry()},watch:{"entry.status"(e,t){this.originalEntry&&e===this.originalEntry.status||("CURRENT"!==e||this.entry.startedAt?"COMPLETED"!==e||this.entry.completedAt||(this.entry.completedAt=this.formatDate(this.newDate())):this.entry.startedAt=this.formatDate(this.newDate()))}}},F=j,U=(a("2811"),a("2877")),z=Object(U["a"])(F,s,i,!1,null,null,null);t["a"]=z.exports},"7b2f":function(e,t,a){"use strict";var s=a("35d8"),i=a.n(s);i.a},"7c70":function(e,t,a){"use strict";var s=a("1ffd"),i=a.n(s);i.a},"7cbb":function(e,t,a){},"7e71":function(e,t,a){"use strict";var s=a("f852"),i=a.n(s);i.a},8002:function(e,t,a){},8026:function(e,t,a){},"81fe":function(e,t,a){"use strict";var s=a("4986"),i=a.n(s);i.a},8313:function(e,t,a){"use strict";var s=a("f43d"),i=a.n(s);i.a},8398:function(e,t,a){"use strict";var s=a("8f0d"),i=a.n(s);i.a},"846d":function(e,t,a){},8484:function(e,t,a){},"84e6":function(e,t,a){},"84fd":function(e,t,a){"use strict";var s=a("24f8"),i=a.n(s);i.a},8521:function(e,t,a){"use strict";var s=a("2e44"),i=a.n(s);i.a},8617:function(e,t,a){},"863f":function(e,t,a){},"86cc5":function(e,t,a){"use strict";var s=a("1aa0"),i=a.n(s);i.a},"870f":function(e,t,a){},8773:function(e,t,a){},8791:function(e,t,a){"use strict";var s=a("404f"),i=a.n(s);i.a},8825:function(e,t,a){"use strict";var s=a("6107"),i=a.n(s);i.a},"889e":function(e,t,a){},"8a4c":function(e,t,a){"use strict";var s=a("b1fc"),i=a.n(s);i.a},"8bc1":function(e,t,a){"use strict";var s=a("ebf6");t["a"]=`\nmutation (\n    $name: String,\n    $email: String,\n    $password: String,\n    $confirmPassword: String,\n    $captcha: String\n) {\n    CreateUser (\n        userName: $name,\n        email: $email,\n        password: $password,\n        confirmPassword: $confirmPassword,\n        captcha: $captcha\n    ) {\n        ${s["a"]}\n    }\n}\n`},"8c44":function(e,t,a){},"8cc8":function(e,t,a){},"8d96":function(e,t,a){"use strict";var s=a("fd02"),i=a.n(s);i.a},"8e11":function(e,t,a){},"8f0d":function(e,t,a){},"8fd9":function(e,t,a){},9060:function(e,t,a){"use strict";var s=a("ffed"),i=a.n(s);i.a},"90c3":function(e,t,a){"use strict";var s=a("be77"),i=a.n(s);i.a},9132:function(e,t,a){"use strict";a("a481");t["a"]={methods:{urlSlug(e){return null!==e&&e?encodeURIComponent(e.replace(/[ ]/g,"_").replace(/[\W]/g,"").replace(/[_]/g,"-")):null},formatMediaUrl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={id:e.id,type:e.type.toLowerCase(),slug:this.urlSlug(e.title.userPreferred)||null};return t?`/${a.type}/${a.id}/${a.slug}`:a},formatUserUrl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?`/user/${e.name||e.id}`:{id:e.name||e.id}},formatCharacterUrl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={id:e.id,slug:this.urlSlug(`${e.name.first} ${e.name.last||""}`.trim())};return t?`/character/${a.id}/${a.slug}`:a},formatStaffUrl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={id:e.id,slug:this.urlSlug(`${e.name.first} ${e.name.last||""}`.trim())};return t?`/staff/${a.id}/${a.slug}`:a},formatStudioUrl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={id:e.id,slug:this.urlSlug(e.name)};return t?`/studio/${a.id}/${a.slug}`:a},formatThreadUrl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?`/forum/thread/${e.id}`:{id:e.id}}}}},"91dd":function(e,t,a){},9277:function(e,t,a){"use strict";var s=a("5fc8"),i=a.n(s);i.a},"92e6":function(e,t,a){"use strict";var s=a("1ca3"),i=a.n(s);i.a},9304:function(e,t,a){"use strict";var s=a("763e"),i=a.n(s);i.a},"935e":function(e,t,a){},9391:function(e,t,a){"use strict";var s=a("8484"),i=a.n(s);i.a},"93b7":function(e,t,a){"use strict";var s=a("7cbb"),i=a.n(s);i.a},"93f3":function(e,t,a){},"95c9":function(e,t,a){},"966e":function(e,t,a){},9684:function(e,t,a){},"969e":function(e,t,a){"use strict";var s=a("40ba"),i=a.n(s);i.a},"974a":function(e,t,a){},"97e9":function(e,t,a){"use strict";var s=a("ecb1"),i=a.n(s);i.a},"98b7":function(e,t,a){"use strict";var s=a("3cab"),i=a.n(s);i.a},"98c1":function(e,t,a){},"9a3b":function(e,t,a){},"9af3":function(e,t,a){},"9b0f":function(e,t,a){"use strict";var s=a("8026"),i=a.n(s);i.a},"9b23":function(e,t,a){},"9b5c":function(e,t,a){},"9b84":function(e,t,a){},"9d43":function(e,t,a){},"9e32":function(e,t,a){"use strict";var s=a("9e4d"),i=a.n(s);i.a},"9e4d":function(e,t,a){},"9e8c":function(e,t,a){"use strict";var s=a("46f4"),i=a.n(s);i.a},"9f15":function(e,t,a){},a0fb:function(e,t,a){"use strict";var s=a("e5d9"),i=a.n(s);i.a},a11b:function(e,t,a){},a189:function(e,t,a){"use strict";t["a"]={computed:{auth(){return this.$store.getters["auth/viewer"]},displayAdult(){return!!this.auth&&this.auth.options.displayAdultContent},unreadNotificationCount(){return this.auth?this.auth.unreadNotificationCount:0}},methods:{isMod(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.auth;return e&&"mod"===e.moderatorStatus},isDataMod(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.auth;return e&&("data mod"===e.moderatorStatus||"mod"===e.moderatorStatus)}}}},a18c:function(e,t,a){"use strict";var s=a("8c4f"),i=a("4360"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"landing"},[a("div",{staticClass:"header"},[a("div",{staticClass:"wrap"},[e._m(0),e._v(" "),a("span",{staticClass:"tag-line"},[e._v(e._s(e.tags[e.tagKey])+" Anime & Manga")])]),e._v(" "),a("video",{staticClass:"hero",attrs:{autoplay:"",loop:"",muted:""},domProps:{muted:!0}},[a("source",{attrs:{src:"/video/hero.webm",type:"video/webm"}}),e._v(" "),a("source",{attrs:{src:"/video/hero.mp4",type:"video/mp4"}})])]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"container"},[e.activity[0]?[a("transition",{attrs:{name:"fade",appear:""}},[a("activity",{ref:"activity",staticClass:"feature",attrs:{refInFor:!0,activity:e.activity,animate:e.shouldAnimate.activity}})],1)]:e._e(),e._v(" "),a("scoring",{ref:"scoring",staticClass:"feature",attrs:{animate:e.shouldAnimate.scoring}}),e._v(" "),e.airing[0]?[a("transition",{attrs:{name:"fade",appear:""}},[a("notifications",{ref:"notifications",staticClass:"feature",attrs:{airing:e.airing,animate:e.shouldAnimate.notifications}})],1)]:e._e()],2),e._v(" "),a("transition",{attrs:{name:"fade",appear:""}},[e.trending[0]?a("div",{staticClass:"trending-wrap"},[a("h2",{staticClass:"container"},[e._v("Trending Anime")]),e._v(" "),a("trending",{ref:"trending",attrs:{trending:e.trending,animate:e.shouldAnimate.trending}})],1):e._e()]),e._v(" "),a("div",{staticClass:"signup"},[a("h1",[e._v("Create an AniList account today!")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/signup"}},[e._v("Sign Up")])],1)],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mobile"},[a("img",{attrs:{src:"/img/icons/logo_full.png"}})])}],o=a("0a0d"),c=a.n(o),l=a("a4bb"),d=a.n(l),u=a("365c"),m=a("7a55"),p=a.n(m),h="\nquery ($time: Int) {\n    airing: Page(perPage: 6) {\n        airingSchedules(airingAt_lesser: $time, sort: TIME_DESC) {\n            id\n            airingAt\n            timeUntilAiring\n            episode\n            media {\n                id\n                type\n                status\n                title {\n                    userPreferred\n                }\n                coverImage {\n                    large\n                }\n            }\n        }\n    }\n    trendingAnime: Page(perPage: 10) {\n        media(type: ANIME, sort: POPULARITY_DESC, status: RELEASING, format: TV, isAdult: false) {\n            id\n            title {\n                userPreferred\n            }\n            coverImage {\n                large\n            }\n            startDate {\n                year\n                month\n                day\n            }\n            endDate {\n                year\n                month\n                day\n            }\n            season\n            description\n            type\n            format\n            genres\n            averageScore\n            popularity\n            nextAiringEpisode {\n                airingAt\n                timeUntilAiring\n                episode\n            }\n            studios(isMain: true) {\n                edges {\n                    isMain\n                    node {\n                        id\n                        name\n                    }\n                }\n            }\n        }\n    }\n}\n",v="\nquery {\n    activity: Page(perPage: 10) {\n        activities(sort: ID_DESC, type: MEDIA_LIST) {\n            ... on ListActivity {\n                id\n                type\n                replyCount\n                status\n                progress\n                createdAt\n                user {\n                    name\n                    avatar {\n                        large\n                    }\n                }\n                media {\n                    id\n                    type\n                    title {\n                        userPreferred\n                    }\n                    coverImage {\n                        large\n                    }\n                }\n            }\n        }\n    }\n}\n",f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),e._v(" "),a("div",{staticClass:"notification-wrap"},e._l(e.visible,function(t){return a("div",{key:t.id,staticClass:"notification"},[a("router-link",{staticClass:"cover",style:e.cover(t.media),attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(t.media)}}}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[e._v(e._s(t.media.title.userPreferred))]),e._v(" "),a("div",{staticClass:"aired"},[e._v("Episode "+e._s(t.episode)+" aired "),a("timeago",{attrs:{since:1e3*t.airingAt,"auto-update":60}})],1)])],1)}),0)])},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Airing anime notifications")]),e._v(" "),a("p",[e._v("Never miss an episode of anime again.")])])}],y={props:["airing"],computed:{visible(){return this.airing.slice(0,2).reverse()}},methods:{cover(e){return{"background-image":`url(${e.coverImage.large})`}}}},_=y,b=(a("7012"),a("2877")),w=Object(b["a"])(_,f,g,!1,null,"26b51468",null),C=w.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),e._v(" "),a("div",{staticClass:"activity-wrap"},[a("activity",{attrs:{activity:e.activity[0]}}),e._v(" "),a("activity",{attrs:{activity:e.activity[1]}})],1)])},$=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Keep up with your friends")]),e._v(" "),a("p",[e._v("With a thriving community, make friends and share your thoughts on anime & manga.")])])}],k=a("d10a"),I={components:{Activity:k["default"]},props:["activity","animate"]},A=I,E=(a("b385"),Object(b["a"])(A,S,$,!1,null,"541ad6b0",null)),x=E.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"trending"},e._l(e.trending,function(e){return a("media-card",{key:e.id,attrs:{media:e}})}),1)},P=[],T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"media-card",style:{"--media-color":e.media.coverImage.color+90}},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.media.coverImage.large,expression:"media.coverImage.large",arg:"background-image"}],staticClass:"cover",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.media)}}},[e.auth&&(e.listStatus||e.media.mediaListEntry)?a("div",{staticClass:"list-status",attrs:{status:e._f("capitalize")(e.listStatus)}}):e._e(),e._v(" "),a("div",{staticClass:"overlay"},[a("router-link",{staticClass:"title",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.media)}}},[e._v(e._s(e.media.title.userPreferred))]),e._v(" "),e.media.studios&&e.media.studios.edges[0]?a("div",{staticClass:"studio"},[e._l(e.media.studios.edges,function(t,s){return[a("router-link",{key:t.node.id,attrs:{to:{name:"Studio",params:e.formatStudioUrl(t.node)}}},[e._v(e._s(t.node.name))]),e.media.studios.edges[s+1]?[e._v(", ")]:e._e()]})],2):e._e()],1)]),e._v(" "),a("div",{staticClass:"data"},["ANIME"===e.media.type&&e.media.nextAiringEpisode?a("div",{staticClass:"airing-countdown"},[a("countdown",{attrs:{"airing-schedule":e.media.nextAiringEpisode}})],1):"ANIME"===e.media.type&&e.media.season?a("div",{staticClass:"airing-countdown"},[e._v(e._s(e._f("capitalize")(e.media.season))+" "+e._s(e.media.startDate.year))]):e.media.startDate.year?a("div",{staticClass:"airing-countdown"},[e._v(e._s(e.date))]):e._e(),e._v(" "),a("div",{staticClass:"extra",class:{"full-width":!e.media.averageScore}},[a("span",{staticClass:"format"},[e._v(e._s(e._f("capitalizeFormat")(e.media.format)))]),e._v(" "),e.media.averageScore?a("span",{staticClass:"duration"},[e._v(e._s(e.media.averageScore)+"%")]):e._e()]),e._v(" "),a("div",{staticClass:"description",style:{overflowY:e.scrollDescription?"scroll":"hidden"},domProps:{innerHTML:e._s(e.media.description)},on:{mouseenter:e.showScroll,mouseleave:e.hideScroll}}),e._v(" "),a("div",{staticClass:"genres"},e._l(e.media.genres,function(t,s){return a("span",{key:t},[e._v(e._s(t)),e.media.genres[s+1]?[e._v(", ")]:e._e()],2)}),0),e._v(" "),e.auth?a("div",{staticClass:"list-edit"},["FINISHED"==e.media.status?a("span",{staticClass:"action",on:{click:function(t){return e.editListStatus("COMPLETED")}}},[a("el-tooltip",{attrs:{placement:"top",content:"Add to completed list",enterable:!1}},[a("font-awesome-icon",{attrs:{icon:"check"}})],1)],1):"RELEASING"==e.media.status?a("span",{staticClass:"action",on:{click:function(t){return e.editListStatus("CURRENT")}}},[a("el-tooltip",{attrs:{placement:"top",content:"Add to currently "+("ANIME"==e.media.type?"watching":"reading")+" list",enterable:!1}},[a("font-awesome-icon",{attrs:{icon:"play",size:"sm"}})],1)],1):e._e(),e._v(" "),a("span",{staticClass:"action",on:{click:function(t){return e.editListStatus("PLANNING")}}},[a("el-tooltip",{attrs:{placement:"top",content:"Add to planning list",enterable:!1}},[a("font-awesome-icon",{attrs:{icon:"step-forward"}})],1)],1),e._v(" "),a("span",{staticClass:"action",on:{click:e.openListEditor}},[a("el-tooltip",{attrs:{placement:"top",content:e.media.mediaListEntry?"Edit list entry":"Add to list",enterable:!1}},[a("font-awesome-icon",{attrs:{icon:e.media.mediaListEntry?"ellipsis-h":"plus"}})],1)],1)]):e._e()])],1)},L=[],M=a("a189"),N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.airingSchedule?a("div",{staticClass:"countdown"},[a("countdown",{attrs:{time:1e3*e.airingSchedule.timeUntilAiring,"leading-zero":!1,"emit-event":!1,"auto-start":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            Ep "+e._s(e.airingSchedule.episode)+e._s(e.separator)+"\n            "),t.days>0?a("span",[e._v(e._s(t.days)+"d")]):e._e(),e._v(" "),t.hours>0?a("span",[e._v(e._s(t.hours)+"h")]):e._e(),e._v(" "),t.minutes>0?a("span",[e._v(e._s(t.minutes)+"m")]):e._e()]}}],null,!1,2070220654)})],1):e._e()},D=[],R=a("0cbb"),j=a.n(R),F={props:{airingSchedule:{type:Object,required:!0},separator:{type:String,default:" - "}},components:{countdown:j.a}},U=F,z=Object(b["a"])(U,N,D,!1,null,null,null),q=z.exports,B=a("4260"),V={props:["media"],components:{Countdown:q,FontAwesomeIcon:p.a},mixins:[M["a"]],data(){return{hover:!1,editingEntry:!1,updatedStatus:null,scrollDescription:!1}},computed:{date(){return Object(B["b"])(this.media.startDate)},listStatus(){return this.updatedStatus?this.updatedStatus:this.media.mediaListEntry?this.media.mediaListEntry.status:null}},methods:{doesOverflow(e){return e.clientHeight<e.scrollHeight},showScroll(e){this.doesOverflow(e.target)&&(this.hover=!0,setTimeout(()=>{this.hover&&(this.scrollDescription=!0)},350))},hideScroll(){this.hover=!1,this.scrollDescription=!1},async editListStatus(e){if(this.editingEntry)return;this.editingEntry=!0;const t=await this.$store.dispatch("medialist/saveListEntry",{status:e,mediaId:this.media.id,returnData:!0});t.status&&(this.updatedStatus=t.status,this.$notify({type:"success",message:`${this.media.title.userPreferred} added to ${t.status.toLowerCase()} list`})),this.editingEntry=!1},openListEditor(){this.$store.dispatch("medialist/openListEditor",this.media.id)}}},G=V,Y=(a("c620"),Object(b["a"])(G,T,L,!1,null,"662c4645",null)),H=Y.exports,Q={components:{MediaCard:H},props:["trending"]},W=Q,K=(a("7a63"),Object(b["a"])(W,O,P,!1,null,"778ae3b5",null)),J=K.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"score-wrap"},[a("div",{staticClass:"scores"},[a("span",[a("font-awesome-icon",{attrs:{icon:"smile","fixed-width":""}})],1),e._v(" "),a("span",[e._v("4 "),a("font-awesome-icon",{attrs:{icon:"star","fixed-width":""}})],1),e._v(" "),a("span",[e._v("7.5")]),e._v(" "),a("span",[e._v("8/10")]),e._v(" "),a("span",[e._v("95/100")])]),e._v(" "),a("div",[a("h2",[e._v("Score from "),a("font-awesome-icon",{attrs:{icon:"frown","fixed-width":""}}),e._v(" to 100")],1),e._v(" "),a("p",[e._v("Pick from 5 different scoring systems.")])])])},X=[],ee={props:["animate"],components:{FontAwesomeIcon:p.a}},te=ee,ae=(a("c36a"),Object(b["a"])(te,Z,X,!1,null,"229f4c13",null)),se=ae.exports,ie={components:{Notifications:C,Activity:x,Trending:J,Scoring:se,FontAwesomeIcon:p.a},data(){return{activity:[],airing:[],trending:[],shouldAnimate:{activity:!1,scoring:!1,notifications:!1,trending:!1},tagKey:0,tags:["track","share","discover","experience"]}},methods:{cycleTag(){setTimeout(()=>{this.tagKey==this.tags.length-1?this.tagKey=0:this.tagKey=this.tagKey+1,this.cycleTag()},2e3)},setElementAnimation(e){const t=this.$refs,a=200,s=window.scrollY,i=s+window.innerHeight;d()(t).map(e=>{if(t[e].$el){const n=t[e].$el.getBoundingClientRect().y+s,r=n+t[e].$el.scrollHeight;this.shouldAnimate[e]=s+a<n&&i-a>r}})},async fetchData(){let e=await Object(u["a"])(h,{time:Math.floor(c()()/1e3)});this.airing=e.airing.airingSchedules,this.trending=e.trendingAnime.media,e=await Object(u["a"])(v),this.activity=e.activity.activities}},created(){window.addEventListener("scroll",this.setElementAnimation),this.$store.commit("setAdDisplay",!1),this.$store.commit("setNavTransparency",!0),this.cycleTag(),this.fetchData()},destroyed(){window.removeEventListener("scroll",this.setElementAnimation)},beforeRouteEnter(e,t,a){a(t=>{return"Landing"===e.name&&t.$store.getters["auth/viewer"]?(s$.push({path:"/home"}),!1):(t.$store.commit("setAdDisplay",!1),t.$store.commit("setNavTransparency",!0),!0)})},metaInfo:{title:"AniList: Track, Discover, Share Anime & Manga",meta:[{property:"og:title",content:"AniList: Track, Discover, Share Anime & Manga"},{property:"description",content:"AniList: Track, Discover, Share Anime & Manga - Sign up for free!"},{property:"og:description",content:"AniList: Track, Discover, Share Anime & Manga - Sign up for free!"},{property:"og:image",content:"https://anilist.co/img/icons/android-chrome-512x512.png"},{property:"og:url",content:"https://anilist.co/"}]}},ne=ie,re=(a("abbb"),Object(b["a"])(ne,n,r,!1,null,"4c351f10",null)),oe=re.exports,ce=[{name:"Landing",path:"/",component:oe}],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-form-unscoped"},[a("div",{staticClass:"form container"},[a("div",{staticClass:"title"},[e._v("Login")]),e._v(" "),a("form",{on:{submit:e.login,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],ref:"name",staticClass:"al-input",attrs:{placeholder:"Email"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",staticClass:"al-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),a("vue-recaptcha",{ref:"captcha",attrs:{sitekey:e.captchaKey},on:{verify:e.verifyCaptcha,expired:e.resetCaptcha}}),e._v(" "),a("div",{staticClass:"submit",on:{click:e.login}},[e._v("Login")])],1),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/forgot"}},[e._v("Forgot password?")]),e._v(" "),a("router-link",{staticClass:"link signup",attrs:{to:"/signup"}},[e._v("Not registered? "),a("span",[e._v("Create an account")])])],1)])},de=[],ue=(a("ac6a"),a("a481"),a("dcdc")),me=a.n(ue),pe=a("e096"),he={name:"Login",components:{ElCheckbox:me.a,VueRecaptcha:pe["a"]},data(){return{name:null,password:null,verified:!1,captchaKey:"6LcQduwSAAAAAFdzP7veRfDdnIGHH4RLXk3mJcJJ"}},methods:{getLoginDetails(){this.name&&""!=this.name||(this.name=this.$refs.name.value),this.password&&""!=this.password||(this.password=this.$refs.password.value)},async login(){if(!this.verified)return void this.$notify({type:"error",message:"Please verify you are not a robot by completing the captcha."});this.getLoginDetails();const e=await this.$store.dispatch("auth/login",{name:this.name,password:this.password,captcha:this.verified});if(e.success)this.$route.query.apiVersion?this.oauthRedirect():s$.replace({path:"/home"});else{const t=this.name.includes("@")?e.error:"Please use your email instead of username.";this.$notify({type:"error",message:`Login failed. ${t}`,duration:6e3}),this.resetCaptcha()}},oauthRedirect(){const e=this.$route.query;let t="?";d()(e).forEach(function(a){"undefined"!==typeof e[a]&&"apiVersion"!==a&&(t+=a+"="+e[a]+"&")}),window.location.replace("/api/v2/oauth/authorize"+t)},verifyCaptcha(e){this.verified=e},resetCaptcha(){this.verified=!1,this.$refs.captcha.reset()}},mounted(){this.$store.commit("setAdDisplay",!1)},metaInfo:{title:"Login"}},ve=he,fe=(a("b06f"),Object(b["a"])(ve,le,de,!1,null,null,null)),ge=fe.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-form-unscoped"},[a("div",{staticClass:"form container"},[a("div",{staticClass:"title"},[e._v("Sign up to AniList")]),e._v(" "),a("form",{on:{submit:e.signup,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup(t)},click:function(t){e.showCaptcha=!0}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"al-input",attrs:{placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"al-input",attrs:{placeholder:"Username"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"al-input",attrs:{placeholder:"Password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],staticClass:"al-input",attrs:{placeholder:"Confirm Password",type:"password"},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}}),e._v(" "),a("el-checkbox",{staticClass:"input",model:{value:e.acceptTerms,callback:function(t){e.acceptTerms=t},expression:"acceptTerms"}},[e._v("You agree to our "),a("a",{attrs:{href:"/terms",target:"_blank"}},[e._v("terms of service")])]),e._v(" "),a("vue-recaptcha",{directives:[{name:"show",rawName:"v-show",value:e.showCaptcha,expression:"showCaptcha"}],ref:"captcha",attrs:{sitekey:e.captchaKey},on:{verify:e.verifyCaptcha,expired:e.resetCaptcha}}),e._v(" "),a("div",{staticClass:"submit",on:{click:e.signup}},[e._v("Sign up")])],1),e._v(" "),a("div",{staticClass:"link signup"},[a("router-link",{attrs:{to:"/login"}},[e._v("Login")]),e._v("  \n            "),a("router-link",{attrs:{to:"/reverify"}},[e._v("Resend Verification Email")])],1)])])},_e=[],be=(a("8bc1"),{extends:ge,data(){return{email:null,name:null,password:null,confirmPassword:null,acceptTerms:!1,showCaptcha:!1,verified:!1,captchaKey:"6LcQduwSAAAAAFdzP7veRfDdnIGHH4RLXk3mJcJJ"}},components:{VueRecaptcha:pe["a"]},methods:{async signup(){if(!this.acceptTerms)return void this.$notify({type:"error",message:"Sorry you need to accept our terms of service to sign up."});if(!this.verified)return void this.$notify({type:"error",message:"Please verify you are not a robot. (01110011 01101111 01110010 01110010 01111001)"});const e=await this.$store.dispatch("auth/signup",{email:this.email,name:this.name,password:this.password,confirmPassword:this.confirmPassword,captcha:this.verified}),t=e.success,a=e.email;t?a?this.$alert("We've sent you an email, please check it to confirm your account creation.","Email verification required"):s$.push({name:"SetupLanguage"}):this.resetCaptcha()},verifyCaptcha(e){this.verified=e},resetCaptcha(){this.verified=!1,this.$refs.captcha.reset()}},mounted(){this.$store.commit("setAdDisplay",!1)},metaInfo:{title:"Sign up for free!"}}),we=be,Ce=Object(b["a"])(we,ye,_e,!1,null,null,null),Se=Ce.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-form-unscoped"},[a("div",{staticClass:"form container"},[a("div",{staticClass:"title"},[e._v("Reset Password")]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.resetPassword(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"al-input",attrs:{placeholder:"Email","auto-complete":"on"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),a("div",{staticClass:"submit",on:{click:e.resetPassword}},[e._v("Reset Password")])]),e._v(" "),a("router-link",{staticClass:"link signup",attrs:{to:"/login"}},[e._v("Login")])],1)])},ke=[],Ie={extends:ge,data(){return{email:null}},methods:{async resetPassword(){const e=await this.$store.dispatch("auth/resetPassword",{email:this.email});e?this.$notify({type:"success",message:"We've sent you a password reset email."}):this.$notify({type:"error",message:"Email not found."})}},mounted(){this.$store.commit("setAdDisplay",!1)},metaInfo:{title:"Forgot your password?"}},Ae=Ie,Ee=Object(b["a"])(Ae,$e,ke,!1,null,null,null),xe=Ee.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-form-unscoped"},[a("div",{staticClass:"form container"},[a("div",{staticClass:"title"},[e._v("Resend Verification Email")]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.verifyEmail(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"al-input",attrs:{placeholder:"Email","auto-complete":"on"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),a("div",{staticClass:"submit",on:{click:e.resetPassword}},[e._v("Send")])]),e._v(" "),a("router-link",{staticClass:"link signup",attrs:{to:"/login"}},[e._v("Login")])],1)])},Pe=[],Te={extends:ge,data(){return{email:null}},methods:{async resetPassword(){const e=await this.$store.dispatch("auth/verifyEmail",{email:this.email});e&&this.$alert("We've sent you another verifcation email. Please check your spam folder too.","Email verification resent")}},mounted(){this.$store.commit("setAdDisplay",!1)},metaInfo:{title:"Resend verification email"}},Le=Te,Me=Object(b["a"])(Le,Oe,Pe,!1,null,null,null),Ne=Me.exports,De=[{name:"Login",path:"/login",component:ge},{name:"Signup",path:"/signup",component:Se},{name:"ForgotPassword",path:"/forgot",component:xe},{name:"VerifyEmail",path:"/reverify",component:Ne},{path:"/register",redirect:"/"}],Re=a("cebc"),je={beforeEnter(e,t,a){!1!==i["a"].getters["auth/viewer"]?a():"/"===t.path&&null===t.name?a({name:"Landing"}):a(!1)}},Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.auth&&e.largeListPreview?a("div",{staticClass:"home full-width"},[e.auth?a("list-preview"):e._e()],1):e._e(),e._v(" "),a("div",{staticClass:"home"},[a("activity-feed"),e._v(" "),a("div",[e.auth&&!e.largeListPreview?a("list-preview"):e._e(),e._v(" "),e.isDesktop?[a("forum-preview"),e._v(" "),a("recent-reviews"),e._v(" "),a("media-preview"),e._v(" "),a("ad",{staticClass:"sense",attrs:{type:"home"}})]:e._e()],2)],1)])},Ue=[],ze=a("09ba"),qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{staticClass:"notice-wrap"},[a("router-link",{staticClass:"notice",attrs:{to:"/forum/thread/3654"}},[e._v("\n        Limited time AniList merch now available!\n    ")]),e._v(" "),a("font-awesome-icon",{staticClass:"close",attrs:{icon:"times"},on:{click:e.close}})],1):e._e()},Be=[],Ve={components:{FontAwesomeIcon:p.a},data(){return{id:"notice-shirt-store",hidden:!1}},computed:{show(){return!this.hidden&&!localStorage.getItem(this.id)}},methods:{close(){this.hidden=!0,localStorage.setItem(this.id,!0)}}},Ge=Ve,Ye=(a("4a1b"),Object(b["a"])(Ge,qe,Be,!1,null,"087d2374",null)),He=Ye.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"activity-feed-wrap"},[e.auth?a("h2",{staticClass:"section-header"},[e._v("\n        Activity\n\n        "),a("div",{staticClass:"feed-select"},[a("el-dropdown",{attrs:{trigger:"click",placement:"top",size:"small"},on:{command:function(t){return e.changeFeedType(e.type,t)},"visible-change":function(t){return e.toggleFilterMenu(t)}}},[a("span",{staticClass:"feed-filter el-dropdown-link",class:{active:e.filterMenuOpen}},[a("font-awesome-icon",{attrs:{icon:"filter",size:"sm"}})],1),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{class:{active:"all"==e.filter},attrs:{command:"all"}},[e._v("All")]),e._v(" "),a("el-dropdown-item",{class:{active:"status"==e.filter},attrs:{command:"status"}},[e._v("Text Status")]),e._v(" "),a("el-dropdown-item",{class:{active:"progress"==e.filter},attrs:{command:"progress"}},[e._v("List Progress")])],1)],1),e._v(" "),a("div",{staticClass:"feed-type-toggle"},[a("div",{class:{active:"following"==e.type},on:{click:function(t){return e.changeFeedType("following")}}},[e._v("Following")]),e._v(" "),a("div",{class:{active:"global"==e.type},on:{click:function(t){return e.changeFeedType("global")}}},[e._v("Global")])])],1)]):a("h2",{staticClass:"section-header"},[e._v("Site Activity")]),e._v(" "),e.auth?a("activity-editor",{attrs:{type:"status",reference:"home-status"},on:{refresh:e.refresh}}):e._e(),e._v(" "),e.activityFeed.pageData?a("div",{staticClass:"activity-feed"},[e._l(e.activityFeed.pageData,function(t,s){return[e._l(t,function(t,i){return[a("activity",{key:s+"-"+i,attrs:{activity:t},on:{refresh:e.refresh}})]})]})],2):e._e(),e._v(" "),e.activityChanging?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.fetchActivity,limit:2,paused:e.paused},on:{"update:paused":function(t){e.paused=t}}})],1)},We=[],Ke=a("18ff"),Je=a.n(Ke),Ze=a("defb"),Xe=a.n(Ze),et=a("b370"),tt=a.n(et),at=a("4e30"),st=a("59fe"),it=a("adbc"),nt={components:{Activity:k["default"],ActivityEditor:at["default"],ElDropdown:tt.a,ElDropdownMenu:Xe.a,ElDropdownItem:Je.a,FontAwesomeIcon:p.a},mixins:[M["a"],st["a"],it["a"]],data(){return{activityChanging:!1,refreshInterval:3,refreshMethod:"updateFeed",filterMenuOpen:!1}},computed:{activityFeed(){return this.$store.getters["home/activity"](this.type,this.filter,this.page)},type:{get(){return this.auth?this.$store.getters["home/activityFeedType"].type:"global"},set(e){this.$store.dispatch("home/setActivityFeedType",{type:e,filter:this.filter})}},filter:{get(){return this.auth?this.$store.getters["home/activityFeedType"].filter:"all"},set(e){this.$store.dispatch("home/setActivityFeedType",{filter:e,type:this.type})}}},methods:{async fetchActivity(){const e=await this.$store.dispatch("home/fetchActivity",{page:this.page,type:this.type,filter:this.filter});this.hasNextPage=e.hasNextPage,0===e.total&&"following"===this.type&&this.changeFeedType("global")},changeFeedType(e,t){this.activityChanging=!0,e&&(this.type=e),t&&(this.filter=t),this.resetScrollLoader("activityChanging")},async refresh(){this.resetScrollLoader(),this.page=1,await this.fetchActivity()},updateFeed(){window.scrollY<1e3&&!this.$store.state.markdownEditorActive&&this.refresh()},toggleFilterMenu(e){this.filterMenuOpen=e}},watch:{type:function(e,t){e!==t&&this.changeFeedType(e)},filter:function(e,t){e!==t&&this.changeFeedType(this.type,e)}},beforeMount(){const e=JSON.parse(localStorage.getItem("default-activity"));e&&e.type&&(this.type=e.type,this.filter=e.filter)}},rt=nt,ot=(a("4754"),Object(b["a"])(rt,Qe,We,!1,null,"0375ca51",null)),ct=ot.exports,lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-previews"},e._l(e.listPreviews,function(t,s){return t.entries[0]?a("div",{key:s,staticClass:"list-preview-wrap"},[a("div",{staticClass:"section-header"},["Airing"!==t.title?a("h2",[e._v(e._s(t.title))]):a("router-link",{staticStyle:{cursor:"pointer"},attrs:{tag:"h2",to:"/airing"}},[e._v(e._s(t.title))]),e._v(" "),a("font-awesome-icon",{staticClass:"size-toggle",attrs:{icon:e.largeListPreview?"compress":"expand",size:"sm"},on:{click:function(t){e.largeListPreview=!e.largeListPreview}}})],1),e._v(" "),a("div",{staticClass:"list-preview"},e._l(t.entries,function(t){return a("media-preview-card",{key:t.id,attrs:{media:t.media,"show-info":e.isMobile}},[t.media.nextAiringEpisode?a("div",{class:{isBehind:e.episodesBehind(t)},attrs:{slot:"image-text"},slot:"image-text"},[a("countdown",{attrs:{"airing-schedule":t.media.nextAiringEpisode}})],1):e._e(),e._v(" "),a("div",{attrs:{slot:"image-overlay"},slot:"image-overlay"},[e.episodesBehind(t)?a("div",{staticClass:"behind-accent"}):e._e(),e._v(" "),e.maxProgress(t)?e._e():a("div",{staticClass:"plus-progress",on:{click:function(a){return a.preventDefault(),e.plusProgress(t)}}},[e._v("\n                        "+e._s(t.progress)+" +\n                    ")])]),e._v(" "),e.episodesBehind(t)?a("div",{attrs:{slot:"info-header"},slot:"info-header"},[e._v("\n                    "+e._s(e.episodesBehind(t))+"\n                ")]):e._e(),e._v(" "),a("div",{attrs:{slot:"info-footer"},slot:"info-footer"},[e._v("\n                    Progress: "+e._s(e.progress(t))+"\n                    "),e.maxProgress(t)?e._e():a("div",{staticClass:"plus-progress mobile",on:{click:function(a){return a.preventDefault(),e.plusProgress(t)}}},[e._v("\n                        +\n                    ")])])])}),1)]):e._e()}),0)},dt=[],ut=a("c707"),mt=a.n(ut),pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"media-preview-card",class:{small:!e.showInfo,"info-left":e.positionInfoLeft},on:{"~mouseover":function(t){return e.positionInfo(t)}}},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.media.coverImage.large,expression:"media.coverImage.large",arg:"background-image"}],staticClass:"cover",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.media)}}},[e.slotActive("image-text")?a("div",{staticClass:"image-text"},[e._t("image-text")],2):e._e(),e._v(" "),e.slotActive("image-overlay")?a("div",{staticClass:"image-overlay"},[e._t("image-overlay")],2):e._e()]),e._v(" "),a("div",{ref:"info",staticClass:"content"},[e.slotActive("info-header")?a("div",{staticClass:"info-header"},[e._t("info-header")],2):e._e(),e._v(" "),a("router-link",{staticClass:"title",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.media)}}},[e._v(e._s(e.media.title.userPreferred))]),e._v(" "),e.slotActive("info-footer")?a("div",{staticClass:"info"},[e._t("info-footer")],2):a("div",{staticClass:"info"},[e._v("\n            "+e._s(e._f("capitalizeFormat")(e.media.format))+"  "+e._s(e._f("capitalize")(e.media.status))+"\n        ")])],1)],1)},ht=[],vt={props:["media","showInfo"],data(){return{positionInfoLeft:!1}},methods:{slotActive(e){return!!this.$slots[e]},positionInfo(){if(this.showInfo)return;const e=this.$el.parentNode,t=e.clientWidth+e.offsetLeft,a=this.$refs.info.clientWidth+this.$el.offsetLeft;t<a&&(this.positionInfoLeft=!0)}}},ft=vt,gt=(a("f3fb"),Object(b["a"])(ft,pt,ht,!1,null,"2737c4f7",null)),yt=gt.exports,_t={name:"ListPreview",components:{Countdown:q,FontAwesomeIcon:p.a,MediaPreviewCard:yt},mixins:[it["a"]],data(){return{editingEntry:!1,refreshInterval:10,refreshMethod:"fetchListEntries"}},computed:{listPreviews(){const e=this.$store.getters["home/listPreview"];if(0===e.length)return e;if(e.length<8)return[{title:"In Progress",entries:e}];const t=[],a=e.filter(e=>"ANIME"===e.media.type),s=e.filter(e=>"MANGA"===e.media.type),i=a.filter(e=>"RELEASING"===e.media.status),n=e=>{if(e.media.nextAiringEpisode)return e.media.nextAiringEpisode.timeUntilAiring};return i.length>3?t.push({title:"Airing",entries:mt()(i,n)},{title:"Anime in Progress",entries:a.filter(e=>"RELEASING"!==e.media.status)}):0!==a.length&&t.push({title:"Anime in Progress",entries:mt()(a,n)}),0!==s.length&&t.push({title:"Manga in Progress",entries:s}),t},largeListPreview:{get(){return this.$store.getters["home/largeListPreview"]},set(e){this.$store.dispatch("home/setLargeListPreview",e)}},isMobile(){return!this.$store.state.screen.isDesktop}},methods:{async fetchListEntries(){return await this.$store.dispatch("home/fetchListPreview",{userId:this.$store.getters["auth/viewer"].id})},episodesBehind(e){if(!e.media.nextAiringEpisode)return!1;const t=e.media.nextAiringEpisode.episode-1-e.progress;return!(t<1)&&`${t} ${1===t?"episode":"episodes"} behind`},progress(e){let t=e.progress;const a=e.media.episodes||e.media.chapters;return a&&(t+=`/${a}`),t},maxProgress(e){return e.media.episodes?e.progress>=e.media.episodes:!!e.media.chapters&&e.progress>=e.media.chapters},async plusProgress(e){this.editingEntry||(this.editingEntry=!0,await this.$store.dispatch("medialist/saveListEntry",{progress:e.progress+1,mediaId:e.media.id,mutation:"home/setProgress"}),this.editingEntry=!1)}},created(){this.fetchListEntries()}},bt=_t,wt=(a("8313"),Object(b["a"])(bt,lt,dt,!1,null,"261ee614",null)),Ct=wt.exports,St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.reviews[0]?a("div",{staticClass:"recent-reviews"},[a("router-link",{staticClass:"section-header link",attrs:{tag:"h2",to:{name:"Reviews"}}},[e._v("Recent Reviews")]),e._v(" "),a("div",{staticClass:"review-wrap"},e._l(e.reviews,function(e){return a("review-card",{key:e.id,attrs:{review:e}})}),1)],1):e._e()},$t=[],kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{staticClass:"review-card",class:{"no-banner":!e.review.media.bannerImage},attrs:{to:{name:"Review",params:{id:e.review.id}}}},[e.review.media.bannerImage?a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.review.media.bannerImage,expression:"review.media.bannerImage",arg:"background-image"}],staticClass:"banner"},[a("div",{staticClass:"read-review"},[a("span",[e._v("Read Full Review")])])]):e._e(),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[e._v("Review of "+e._s(e.review.media.title.userPreferred)+" by "+e._s(e.review.user.name))]),e._v(" "),a("div",{staticClass:"summary"},[e._v(e._s(e.review.summary))]),e._v(" "),e.review.rating&&e.review.ratingAmount?a("el-tooltip",{attrs:{content:e.review.rating+" out of "+e.review.ratingAmount+" liked this review",placement:"top"}},[a("div",{staticClass:"votes"},[a("font-awesome-icon",{attrs:{icon:"thumbs-up",size:"sm"}}),e._v(" "+e._s(e.review.rating)+"\n            ")],1)]):e._e()],1)])},It=[],At={props:["review"],components:{FontAwesomeIcon:p.a}},Et=At,xt=(a("3675"),Object(b["a"])(Et,kt,It,!1,null,"48261e04",null)),Ot=xt.exports,Pt={components:{ReviewCard:Ot},mixins:[it["a"]],data(){return{refreshInterval:30,refreshMethod:"fetchRecentReviews"}},computed:{reviews(){return this.$store.getters["home/recentReviews"]}},methods:{async fetchRecentReviews(){return await this.$store.dispatch("home/fetchRecentReviews")}},created(){this.fetchRecentReviews()}},Tt=Pt,Lt=(a("0ca4"),Object(b["a"])(Tt,St,$t,!1,null,"2e4ddfa3",null)),Mt=Lt.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.media?a("div",[a("div",[a("router-link",{staticClass:"section-header link",attrs:{to:{name:"Search",params:{type:"anime"},query:{sort:"TRENDING_DESC"}},tag:"h2"}},[e._v("\n            Trending Anime & Manga\n        ")]),e._v(" "),a("div",{staticClass:"media-preview"},e._l(e.trending,function(t){return a("media-preview-card",{key:t.id,attrs:{media:t}},[t.trending?a("div",{attrs:{slot:"info-header"},slot:"info-header"},[e._v("\n                    "+e._s(t.trending)+" recently "+e._s(e.progressVerb(t))+"\n                ")]):e._e()])}),1)],1),e._v(" "),a("div",[a("router-link",{staticClass:"section-header link",attrs:{to:{name:"Search",params:{type:"anime"},query:{sort:"ID_DESC"}},tag:"h2"}},[e._v("\n            Newly Added Anime\n        ")]),e._v(" "),a("div",{staticClass:"media-preview"},e._l(e.anime,function(e){return a("media-preview-card",{key:e.id,attrs:{media:e}})}),1)],1),e._v(" "),a("div",[a("router-link",{staticClass:"section-header link",attrs:{to:{name:"Search",params:{type:"manga"},query:{sort:"ID_DESC"}},tag:"h2"}},[e._v("\n            Newly Added Manga\n        ")]),e._v(" "),a("div",{staticClass:"media-preview"},e._l(e.manga,function(e){return a("media-preview-card",{key:e.id,attrs:{media:e}})}),1)],1)]):e._e()},Dt=[],Rt={components:{MediaPreviewCard:yt},mixins:[it["a"]],data(){return{refreshInterval:30,refreshMethod:"fetchMedia"}},computed:{media(){return this.$store.getters["home/media"]},trending(){return this.media.Trending.media},anime(){return this.media.NewAnime.media},manga(){return this.media.NewManga.media}},methods:{async fetchMedia(){return await this.$store.dispatch("home/fetchMedia")},progressVerb(e){return"NOT_YET_RELEASED"===e.status?"ANIME"===e.type?"planned to watch":"planned to read":"ANIME"===e.type?"watched":"read"}},created(){this.fetchMedia()}},jt=Rt,Ft=(a("2a55"),Object(b["a"])(jt,Nt,Dt,!1,null,"b300af52",null)),Ut=Ft.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.feed?a("div",{staticClass:"recent-threads"},[a("router-link",{staticClass:"section-header link",attrs:{tag:"h2",to:{name:"ForumFeed",params:{type:"overview"}}}},[e._v("Forum Activity")]),e._v(" "),a("div",{staticClass:"forum-wrap"},e._l(e.feed,function(e){return a("thread-card",{key:e.id,attrs:{thread:e,small:!0}})}),1)],1):e._e()},qt=[],Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.thread.id?a("div",{staticClass:"thread-card",class:{small:e.small,sticky:e.thread.isSticky&&!e.small}},[e.thread.isSticky&&!e.small?a("font-awesome-icon",{staticClass:"pin",attrs:{icon:"thumbtack",size:"sm"}}):e._e(),e._v(" "),a("router-link",{staticClass:"title",attrs:{to:{name:"ForumThread",params:{id:e.thread.id}}}},[e._v(e._s(e.thread.title))]),e._v(" "),e.thread.body?a("div",{staticClass:"body-preview"},[e._v(e._s(e.body))]):e._e(),e._v(" "),a("div",{staticClass:"footer"},[a("router-link",{staticClass:"avatar",style:e.avatarStyle,attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.thread.replyUser||e.thread.user)}}}),e._v(" "),e.thread.replyUser&&e.thread.replyCommentId?a("div",{staticClass:"name"},[a("router-link",{attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.thread.replyUser)}}},[a("span",[e._v(e._s(e.thread.replyUser.name))])]),e._v(" "),a("router-link",{attrs:{to:{name:"ForumThreadComment",params:{id:e.thread.id,commentId:e.thread.replyCommentId}}}},[e._v(" replied "),a("timeago",{attrs:{since:1e3*e.thread.repliedAt,"auto-update":60}})],1)],1):a("div",{staticClass:"name"},[a("router-link",{attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.thread.user)}}},[e._v("By "),a("span",[e._v(e._s(e.thread.user.name))])])],1),e._v(" "),a("div",{staticClass:"categories"},[e._l(e.categories,function(e,t,s){return a("category",{key:s,attrs:{category:e}})}),e._v(" "),e._l(e.mediaCategories,function(e,t,s){return a("category",{key:s,attrs:{category:e}})})],2),e._v(" "),a("div",{staticClass:"info"},[e.thread.viewCount?a("span",[a("font-awesome-icon",{attrs:{icon:"eye",size:"sm"}}),e._v(" "+e._s(e.thread.viewCount))],1):e._e(),e._v(" "),e.thread.replyCount?a("span",[a("font-awesome-icon",{attrs:{icon:"comments",size:"sm"}}),e._v(" "+e._s(e.thread.replyCount))],1):e._e()])],1)],1):e._e()},Vt=[],Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e.category.name?[a("router-link",{staticClass:"category",style:e.background,attrs:{to:{name:"ForumFeed",params:{type:"recent"},query:{category:e.category.id}}}},[e._v(e._s(e.category.name))])]:[a("router-link",{staticClass:"category media",class:e.category.type,attrs:{to:{name:"ForumFeed",params:{type:"recent"},query:{media:e.category.id}}}},[e.withLink?a("router-link",{class:e.category.type,attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.category)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"chevron-circle-up",size:"sm"}})],1):e._e(),e._v("\n\n            "+e._s(e.category.title.userPreferred)+"\n        ")],1)]],2)},Yt=[],Ht={name:"category",components:{FontAwesomeIcon:p.a},props:["category","withLink"],data(){return{colors:{General:"#4ea3e6",Anime:"#0af",Manga:"#4CAF50","Release Discussion":"#673AB7","Site Announcements":"#E91E63",News:"#009688",Music:"#607D8B",Gaming:"#2424a9","Visual Novels":"#4bb3b9","Light Novels":"#4bb3b9","Forum Games":"#FF9800",Recommendations:"#b85ac7","Site Feedback":"#FB471E","Bug Reports":"#ef3051","AniList Apps":"#2b4c69",Misc:"#795548","List Customisation":"#c0c33d"}}},computed:{background(){return{background:this.colors[this.category.name]}}}},Qt=Ht,Wt=(a("233d"),Object(b["a"])(Qt,Gt,Yt,!1,null,"38e0a2c0",null)),Kt=Wt.exports,Jt={name:"threadCard",props:["thread","small"],components:{FontAwesomeIcon:p.a,Category:Kt},computed:{avatarStyle(){return this.thread.replyUser?{"background-image":`url(${this.thread.replyUser.avatar.large})`}:{"background-image":`url(${this.thread.user.avatar.large})`}},categories(){return null==this.thread.categories?null:this.thread.categories.slice(0,3)},mediaCategories(){return null==this.thread.mediaCategories?null:this.thread.mediaCategories.slice(0,2)},body(){if(!this.thread.body)return;let e=this.thread.body;return e.replace(/(~![\s\S]*?!~)/gm,"").replace(/(\([\s\S]*?\)|\<[\s\S]*?\>)/gm,"").replace(/(img|webm|youtube)/gm,"").replace(/[\[\]\(\)_>~\-#!`]/gm,"")}}},Zt=Jt,Xt=(a("ea04"),Object(b["a"])(Zt,Bt,Vt,!1,null,"1b55336e",null)),ea=Xt.exports,ta={components:{ThreadCard:ea},mixins:[it["a"]],data(){return{refreshInterval:15,refreshMethod:"fetchForumFeed"}},computed:{feed(){return this.$store.getters["home/forum"]}},methods:{async fetchForumFeed(){return await this.$store.dispatch("home/fetchForumFeed")}},created(){this.fetchForumFeed()}},aa=ta,sa=(a("2499"),Object(b["a"])(aa,zt,qt,!1,null,"51ff162a",null)),ia=sa.exports,na={name:"Home",components:{Ad:ze["a"],SiteNotice:He,FontAwesomeIcon:p.a,ActivityFeed:ct,ListPreview:Ct,RecentReviews:Mt,MediaPreview:Ut,ForumPreview:ia},mixins:[M["a"]],computed:{isDesktop(){return this.$store.state.screen.isDesktop},largeListPreview:{get(){return this.$store.getters["home/largeListPreview"]&&this.isDesktop},set(e){this.$store.dispatch("home/setLargeListPreview",e)}}},created(){this.largeListPreview="true"===localStorage.getItem("large-list-preview")},metaInfo(){return{title:this.$route.name}}},ra=na,oa=(a("19d1"),Object(b["a"])(ra,Fe,Ue,!1,null,"435e4d9e",null)),ca=oa.exports,la=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",[e._v("Your Airing Anime")]),e._v(" "),a("div",{staticClass:"wrap"},e._l(e.airingEntries,function(e){return a("media-card",{key:e.id,attrs:{media:e.media}})}),1)])},da=[],ua={components:{MediaCard:H},computed:{airingEntries(){const e=this.$store.getters["home/airingAnime"].filter(e=>"RELEASING"===e.media.status);return mt()(e,e=>{if(e.media.nextAiringEpisode)return e.media.nextAiringEpisode.timeUntilAiring})}},methods:{async fetchAiringAnime(){await this.$store.dispatch("home/fetchAiringAnime",{userId:this.$store.getters["auth/viewer"].id})}},mounted(){this.fetchAiringAnime()},metaInfo:{title:"Your Airing Anime"}},ma=ua,pa=(a("67a2"),Object(b["a"])(ma,la,da,!1,null,"6220dfbd",null)),ha=pa.exports,va=[Object(Re["a"])({name:"Home",path:"/home",component:ca},je),Object(Re["a"])({name:"Airing",path:"/airing",component:ha},je),{name:"Social",path:"/social",component:ca}],fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.media.id?a("div",{staticClass:"media media-page-unscoped",class:{"media-anime":"ANIME"===e.media.type,"media-manga":"MANGA"===e.media.type}},[a("media-header",{attrs:{media:e.media}}),e._v(" "),a("div",{staticClass:"content container"},[a("div",{staticClass:"sidebar"},[a("rankings",{attrs:{rankings:e.media.rankings,type:e.media.type,preview:!0}}),e._v(" "),a("media-data",{attrs:{media:e.media}}),e._v(" "),a("tags",{attrs:{media:e.media,tags:e.media.tags}}),e._v(" "),e.auth&&"NOT_YET_RELEASED"!==e.media.status?a("router-link",{staticClass:"review button",attrs:{to:{name:"ReviewEditor",params:{id:e.media.id}}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"edit"}}),e._v(" "),a("span",[e._v("Write Review")])],1):e._e(),e._v(" "),e.auth?a("router-link",{staticClass:"review button edit",attrs:{to:"/edit/"+e.type.toLowerCase()+"/"+e.media.id}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"pencil-alt"}}),e._v(" "),a("span",[e._v("Edit")])],1):e._e(),e._v(" "),a("external-links",{attrs:{links:e.media.externalLinks}})],1),e._v(" "),a("router-view",{attrs:{media:e.media}})],1)],1):e._e()},ga=[],ya=a("f499"),_a=a.n(ya),ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-wrap"},[e.media.bannerImage||e.isMobile?a("div",{staticClass:"banner",style:e.bannerStyle},[a("div",{staticClass:"shadow"})]):e._e(),e._v(" "),a("div",{staticClass:"header"},[e.isDesktop?a("ad",{staticClass:"sense",attrs:{type:"media-aside"}}):e._e(),e._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"cover-wrap",class:{"overlap-banner":e.media.bannerImage}},[a("div",{staticClass:"cover-wrap-inner"},[a("img",{staticClass:"cover",attrs:{src:e.media.coverImage.extraLarge,onload:e.positionCover()}}),e._v(" "),e.media.isLocked?e._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"list"},[a("div",{staticClass:"add",on:{click:e.openListEditor}},[e._v("\n                                "+e._s(e._f("capitalize")(e.status))+"\n                            ")]),e._v(" "),a("el-dropdown",{staticClass:"dropdown",attrs:{size:"medium",trigger:"click"},on:{command:e.editListStatus}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},["FINISHED"==e.media.status?a("el-dropdown-item",{attrs:{command:"COMPLETED"}},[e._v("Set as Complete")]):e._e(),e._v(" "),"NOT_YET_RELEASED"!=e.media.status?a("el-dropdown-item",{attrs:{command:"CURRENT"}},[e._v("Set as "+e._s("ANIME"==e.media.type?"Watching":"Reading"))]):e._e(),e._v(" "),a("el-dropdown-item",{attrs:{command:"PLANNING"}},[e._v("Set as Planning")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"open",divided:""}},[e._v("Open List Editor")])],1)],1)],1),e._v(" "),a("favourite",{attrs:{id:e.media.id,type:e.media.type,"is-favourite":e.media.isFavourite,mutation:"media/toggleFavourite"}})],1)])]),e._v(" "),a("div",{staticClass:"content"},[a("h1",[e._v("\n                    "+e._s(e.media.title.userPreferred)+"\n                    "),e.media.isLocked?[e._v("\n                        (Locked)\n                    ")]:e._e()],2),e._v(" "),a("p",{staticClass:"description",domProps:{innerHTML:e._s(e.description)}}),e._v(" "),!e.showFullDescription&&null!==e.media.description&&e.media.description.length>e.descriptionLimit?a("span",{staticClass:"description-length-toggle",on:{click:function(t){e.showFullDescription=!0}}},[e._v("Read More")]):e._e(),e._v(" "),a("div",{staticClass:"nav",on:{click:e.updateNavTransparency}},[a("router-link",{staticClass:"link",attrs:{to:{name:"MediaOverview",params:e.mediaParams},exact:""}},[e._v("Overview")]),e._v(" "),e.media.streamingEpisodes[0]?a("router-link",{staticClass:"link",attrs:{to:{name:"MediaWatch",params:e.mediaParams}}},[e._v("Watch")]):e._e(),e._v(" "),e.media.characters.edges[0]?a("router-link",{staticClass:"link",attrs:{to:{name:"MediaCharacters",params:e.mediaParams}}},[e._v("Characters")]):e._e(),e._v(" "),e.media.staff.edges[0]?a("router-link",{staticClass:"link",attrs:{to:{name:"MediaStaff",params:e.mediaParams}}},[e._v("Staff")]):e._e(),e._v(" "),e.media.reviews.nodes[0]?a("router-link",{staticClass:"link",attrs:{to:{name:"MediaReviews",params:e.mediaParams}}},[e._v("Reviews")]):e._e(),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaStats",params:e.mediaParams}}},[e._v("Stats")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaSocial",params:e.mediaParams}}},[e._v("Social")])],1)])])],1)])},wa=[],Ca=a("309d"),Sa=Ca["a"],$a=(a("c146"),Object(b["a"])(Sa,ba,wa,!1,null,"b475b770",null)),ka=$a.exports,Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data"},["ANIME"===e.media.type&&e.media.nextAiringEpisode?a("div",{staticClass:"data-set airing-countdown"},[a("div",{staticClass:"type"},[e._v("Airing")]),e._v(" "),a("countdown",{staticClass:"value",attrs:{"airing-schedule":e.media.nextAiringEpisode,separator:": "}})],1):e._e(),e._v(" "),e.media.format?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Format")]),e._v(" "),a("div",{staticClass:"value"},[e._v("\n            "+e._s(e._f("capitalizeFormat")(e.media.format))+"\n            "),e.media.isLicensed?e.countryOfOrigin?[e._v(" ("+e._s(e.countryOfOrigin)+")")]:e._e():[e._v(" (Doujin)")]],2)]):e._e(),e._v(" "),e.media.episodes?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Episodes")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.media.episodes))])]):e._e(),e._v(" "),e.media.duration?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},["MOVIE"!==e.media.format?a("span",[e._v("Episode")]):e._e(),e._v("\n            Duration\n        ")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.duration))])]):e._e(),e._v(" "),e.media.chapters?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Chapters")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.media.chapters))])]):e._e(),e._v(" "),e.media.volumes?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Volumes")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.media.volumes))])]):e._e(),e._v(" "),e.media.status?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Status")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e._f("capitalize")(e.media.status)))])]):e._e(),e._v(" "),e.startDate&&e.startDate!==e.endDate?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Start Date")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.startDate))])]):e._e(),e._v(" "),e.endDate&&e.startDate!==e.endDate?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("End Date")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.endDate))])]):e._e(),e._v(" "),e.startDate&&e.startDate===e.endDate?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Release Date")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.startDate))])]):e._e(),e._v(" "),e.media.season&&e.media.startDate.year?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Season")]),e._v(" "),a("router-link",{staticClass:"value",attrs:{to:{name:"Search",params:{type:"anime"},query:{year:e.media.startDate.year+"%",season:e.media.season}}}},[e._v("\n            "+e._s(e._f("capitalize")(e.media.season))+" "+e._s(e.media.startDate.year)+"\n        ")])],1):e._e(),e._v(" "),e.media.averageScore?a("el-tooltip",{attrs:{content:"Weighted",placement:"top-start"}},[a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Average Score")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.media.averageScore)+"%")])])]):e._e(),e._v(" "),e.media.meanScore?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Mean Score")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.media.meanScore)+"%")])]):e._e(),e._v(" "),e.media.popularity?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Popularity")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.media.popularity))])]):e._e(),e._v(" "),e.media.favourites?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Favorites")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.media.favourites))])]):e._e(),e._v(" "),e.studios[0]?a("div",{staticClass:"data-set data-list"},[a("div",{staticClass:"type"},[e._v("Studios")]),e._v(" "),a("div",{staticClass:"value"},e._l(e.studios,function(t,s){return a("span",{key:t.node.id},[a("router-link",{attrs:{to:{name:"Studio",params:e.formatStudioUrl(t.node)}}},[e._v(e._s(t.node.name))]),e.studios[s+1]?a("br"):e._e()],1)}),0)]):e._e(),e._v(" "),e.producers[0]?a("div",{staticClass:"data-set data-list"},[a("div",{staticClass:"type"},[e._v("Producers")]),e._v(" "),a("div",{staticClass:"value"},e._l(e.producers,function(t,s){return a("span",{key:t.node.id},[a("router-link",{attrs:{to:{name:"Studio",params:e.formatStudioUrl(t.node)}}},[e._v(e._s(t.node.name))]),e.producers[s+1]?a("br"):e._e()],1)}),0)]):e._e(),e._v(" "),e.media.source?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Source")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e._f("capitalize")(e.media.source)))])]):e._e(),e._v(" "),e.media.hashtag?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Hashtag")]),e._v(" "),a("div",{staticClass:"value"},[a("a",{attrs:{href:e.hashTagUrl,target:"_blank"}},[e._v(e._s(e.media.hashtag))])])]):e._e(),e._v(" "),0!=e.media.genres.length?a("div",{staticClass:"data-set data-list"},[a("div",{staticClass:"type"},[e._v("Genres")]),e._v(" "),a("div",{staticClass:"value"},e._l(e.media.genres,function(t,s){return a("span",{key:t},[a("router-link",{attrs:{to:{name:"Search",params:{type:"anime"},query:{includedGenres:t}}}},[e._v("\n                    "+e._s(t)),e.media.genres[s+1]?a("span",[e._v(", ")]):e._e()])],1)}),0)]):e._e(),e._v(" "),e.media.title.romaji?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Romaji")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.media.title.romaji))])]):e._e(),e._v(" "),e.media.title.english?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("English")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.media.title.english))])]):e._e(),e._v(" "),e.media.title.native?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[e._v("Native")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.media.title.native))])]):e._e(),e._v(" "),0!==e.media.synonyms.length?a("div",{staticClass:"data-set data-list"},[a("div",{staticClass:"type"},[e._v("Synonyms")]),e._v(" "),a("div",{staticClass:"value"},e._l(e.media.synonyms,function(t,s){return a("span",{key:t},[e._v("\n                "+e._s(t)),e.media.synonyms[s+1]?a("br"):e._e()])}),0)]):e._e()],1)},Aa=[];const Ea=e=>{return e.studios.edges.filter(e=>e.isMain)},xa=e=>{return e.studios.edges.filter(e=>!e.isMain)};var Oa={props:["media"],components:{Countdown:q},data(){return{startDate:null,endDate:null}},computed:{duration(){let e="";const t=Math.floor(this.media.duration/60),a=this.media.duration%60;return 0!==t&&(e+=t,e+=` hour${t>1?"s":""}`),0!==a&&(0!==t&&(e+=", "),e+=`${a} mins`),e},studios(){return Ea(this.media)},producers(){return xa(this.media)},hashTagUrl(){const e=encodeURIComponent(this.media.hashtag).replace(/%20/g,"+OR ");return`https://twitter.com/search?q=${e}&src=typd`},countryOfOrigin(){if("JP"==this.media.countryOfOrigin)return!1;const e={CN:"Chinese",KR:"Korean",TW:"Taiwanese"};return e[this.media.countryOfOrigin]}},mounted(){this.startDate=Object(B["b"])(this.media.startDate),this.endDate=Object(B["b"])(this.media.endDate)},updated(){this.startDate=Object(B["b"])(this.media.startDate),this.endDate=Object(B["b"])(this.media.endDate)}},Pa=Oa,Ta=(a("aba5"),Object(b["a"])(Pa,Ia,Aa,!1,null,"ead17872",null)),La=Ta.exports,Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rankings"},e._l(e.preview?e.rankingsPreview:e.rankings,function(t){return a("ranking",{key:t.id,attrs:{rank:t,type:e.type}})}),1)},Na=[],Da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{staticClass:"ranking",class:e.rank.type.toLowerCase(),attrs:{to:e.url}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"RATED"==e.rank.type?"star":"heart",size:"xs"}}),e._v(" "),a("span",{staticClass:"rank-text"},[e._v(e._s(e.rankString))])],1)},Ra=[],ja={components:{FontAwesomeIcon:p.a},props:["rank","type"],computed:{rankString(){let e=`#${this.rank.rank} ${this.rank.context}`;return this.rank.allTime?e:(this.rank.season&&(e+=` ${this.rank.season.toLowerCase()}`),e+=` ${this.rank.year}`,e)},url(){const e={name:"Search",params:{type:this.type.toLowerCase()},query:{sort:"RATED"==this.rank.type?"SCORE_DESC":"POPULARITY_DESC",format:this.rank.format}};return this.rank.year&&(e.query.year=this.rank.year+"%"),this.rank.season&&(e.query.season=this.rank.season),e}}},Fa=ja,Ua=(a("5adf"),Object(b["a"])(Fa,Da,Ra,!1,null,"b4e7edd2",null)),za=Ua.exports,qa={components:{Ranking:za},props:["rankings","preview","type"],computed:{rankingsPreview(){return this.rankings.slice(0,2)}}},Ba=qa,Va=(a("fd10"),Object(b["a"])(Ba,Ma,Na,!1,null,"06f71035",null)),Ga=Va.exports,Ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tags"},[a("h2",[e._v("Tags "),e.auth?a("font-awesome-icon",{staticClass:"add-icon",attrs:{icon:"plus",size:"sm"},on:{click:e.openTagEditor}}):e._e()],1),e._v(" "),e._l(e.sortedTags,function(t){return a("tag",{key:t.id,attrs:{tag:t,type:e.media.type,"show-spoiler":e.showSpoilers,"media-id":e.media.id}})}),e._v(" "),e.spoilerCount>0?a("div",{staticClass:"spoiler-toggle",on:{click:e.toggleSpoilers}},[e._v("Show "+e._s(e.spoilerCount)+" spoiler tags")]):e._e(),e._v(" "),e.tags[0]?e._e():a("div",{staticClass:"add",on:{click:e.openTagEditor}},[e._v("No tags yet, add one?")]),e._v(" "),a("el-dialog",{attrs:{title:"Add Tag","custom-class":"media-tag-editor",visible:e.tagEditorActive&&!!e.allTags},on:{close:e.closeTagEditor}},[a("div",{staticClass:"label"},[e._v("Select a tag from the drop-down or type to create a new tag.")]),e._v(" "),a("el-select",{attrs:{placeholder:"Tags",filterable:"","allow-create":""},model:{value:e.editingTag.name,callback:function(t){e.$set(e.editingTag,"name",t)},expression:"editingTag.name"}},e._l(e.allTags,function(t){return t.isAdult?e._e():a("el-option",{key:t.name,attrs:{value:t.name}})}),1),e._v(" "),a("div",[a("el-checkbox",{model:{value:e.editingTag.isMediaSpoiler,callback:function(t){e.$set(e.editingTag,"isMediaSpoiler",t)},expression:"editingTag.isMediaSpoiler"}},[e._v("Is this tag a spoiler for the series?")])],1),e._v(" "),e.isNewTag?a("div",[a("div",{staticClass:"label"},[e._v("Tag Description")]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"Description"},model:{value:e.editingTag.description,callback:function(t){e.$set(e.editingTag,"description",t)},expression:"editingTag.description"}})],1):e._e(),e._v(" "),a("div",{staticClass:"btn",on:{click:e.addTag}},[e._v("Submit")])],1)],2)},Ha=[],Qa=a("e772"),Wa=a.n(Qa),Ka=a("4e4b"),Ja=a.n(Ka),Za=a("f3ad"),Xa=a.n(Za),es=a("df33"),ts=a.n(es),as=a("93c6"),ss=a.n(as),is=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.hide||e.deleted?e._e():a("div",{staticClass:"tag",class:{spoiler:e.isSpoiler}},[a("el-tooltip",{attrs:{content:e.tag.description,enterable:!1,placement:"top"}},[a("router-link",{staticClass:"name",attrs:{to:{name:"Search",params:{type:e.type.toLowerCase()},query:{includedTags:e.tag.name}}}},[e._v("\n            "+e._s(e.tag.name)+"\n        ")])],1),e._v(" "),e.isDataMod()?a("span",{staticClass:"mod-options"},[a("font-awesome-icon",{staticClass:"icon delete",attrs:{icon:"trash"},on:{click:e.deleteTag}}),e._v(" "),a("font-awesome-icon",{staticClass:"icon toggle-spoiler",attrs:{icon:"exclamation"},on:{click:e.toggleSpoilerTag}})],1):e._e(),e._v(" "),a("div",{staticClass:"rank"},[e._v(e._s(e.newRank||e.tag.rank)+"%")]),e._v(" "),e.auth?a("el-dropdown",{staticClass:"vote-dropdown",attrs:{size:"medium",trigger:"click"},on:{command:e.vote}},[a("span",{staticClass:"el-dropdown-link"},[a("font-awesome-icon",{attrs:{icon:"sort",size:"sm"}})],1),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:5}},[e._v("Main Theme")]),e._v(" "),a("el-dropdown-item",{attrs:{command:4}},[e._v("Major Element")]),e._v(" "),a("el-dropdown-item",{attrs:{command:3}},[e._v("Moderate Element")]),e._v(" "),a("el-dropdown-item",{attrs:{command:2}},[e._v("Lesser Element")]),e._v(" "),a("el-dropdown-item",{attrs:{command:1}},[e._v("Minor Element")]),e._v(" "),a("el-dropdown-item",{attrs:{command:0}},[e._v("Not Relevant")])],1)],1):e._e()],1)},ns=[],rs={props:{tag:{type:Object,required:!0},type:{type:String,required:!0},showSpoiler:{type:Boolean,default:!1},mediaId:{type:Number,default:!1}},components:{FontAwesomeIcon:p.a,ElDropdown:tt.a,ElDropdownMenu:Xe.a,ElDropdownItem:Je.a},mixins:[M["a"]],data(){return{newRank:null,deleted:!1,nowSpoiler:null}},computed:{hide(){return this.isSpoiler&&!this.showSpoiler},isSpoiler(){return this.tag.isMediaSpoiler||this.nowSpoiler}},methods:{async vote(e){const t=await this.$store.dispatch("media/tagVote",{vote:e,mediaId:this.mediaId,tagId:this.tag.id});t&&(this.newRank=t)},async toggleSpoilerTag(){const e=null===this.nowSpoiler?this.tag.isMediaSpoiler:this.nowSpoiler,t=await this.$store.dispatch("media/toggleSpoilerTag",{mediaId:this.mediaId,tagId:this.tag.id,isMediaSpoiler:!e});t&&(this.nowSpoiler=!e,this.$notify(`Tag spoiler set to ${this.nowSpoiler}`))},async deleteTag(){const e=await this.$store.dispatch("media/deleteTag",{mediaId:this.mediaId,tagId:this.tag.id});this.deleted=e,this.$notify("Tag removed from media")}}},os=rs,cs=(a("74c1"),Object(b["a"])(os,is,ns,!1,null,"4e418c9e",null)),ls=cs.exports,ds={props:["media","tags"],components:{Tag:ls,FontAwesomeIcon:p.a,ElDialog:ts.a,ElInput:Xa.a,ElSelect:Ja.a,ElOption:Wa.a,ElCheckbox:me.a},mixins:[M["a"]],data(){return{showSpoilers:!1,tagEditorActive:!1,editingTag:{isMediaSpoiler:!1,description:""}}},computed:{sortedTags(){return ss()(this.tags,["rank"],["desc"])},spoilerCount(){return this.tags.filter(e=>e.isMediaSpoiler).length},allTags(){return this.$store.getters["media/allTags"]},isNewTag(){return!!this.editingTag.name&&!this.allTags.find(e=>e.name===this.editingTag.name)}},methods:{toggleSpoilers(){this.showSpoilers=!this.showSpoilers},async openTagEditor(){this.auth&&(this.allTags||await this.$store.dispatch("media/fetchAllTags"),this.tagEditorActive=!0)},closeTagEditor(){this.tagEditorActive=!1,this.resetTagEditor()},resetTagEditor(){this.editingTag={isMediaSpoiler:!1,description:""}},async addTag(){const e=this.isNewTag?"media/createTag":"media/addTag",t=await this.$store.dispatch(e,Object(Re["a"])({},this.editingTag,{mediaId:this.media.id}));t.error?this.$notify({type:"error",message:`Tag already denied or awaiting approval, reason: ${t.error.message}`}):(this.$notify({type:"success",message:"Your tag has been submitted and will be reviewed by a moderator shortly."}),this.closeTagEditor())}}},us=ds,ms=(a("b9f1"),a("c091"),Object(b["a"])(us,Ya,Ha,!1,null,"23941e59",null)),ps=ms.exports,hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 0!=e.links.length?a("div",{staticClass:"external-links"},[a("h2",[e._v("External & Streaming links")]),e._v(" "),e._l(e.links,function(t,s){return a("a",{key:s,staticClass:"external-link",class:t.site,attrs:{href:t.url,target:"_blank"}},[e._v("\n        "+e._s(t.site)+"\n    ")])})],2):e._e()},vs=[],fs={props:["links"]},gs=fs,ys=(a("7c70"),Object(b["a"])(gs,hs,vs,!1,null,"7a651e4d",null)),_s=ys.exports,bs=a("a745"),ws=a.n(bs),Cs=a("db0c"),Ss=a.n(Cs),$s=a("4245"),ks=a.n($s),Is=a("5ad4"),As=a("9132");const Es=As["a"].methods,xs=e=>{switch(e){case"TV":case"TV_SHORT":case"OVA":case"ONA":case"SPECIAL":return"TVSeries";case"MOVIE":return"Movie";case"MANGA":case"NOVEL":case"ONE_SHOT":return"BookSeries";default:return"Product"}},Os=e=>{if(Ss()(e).filter(Boolean).length<3)return null;const t=String(e.day).padStart(2,"0"),a=String(e.month).padStart(2,"0");return`${e.year}-${a}-${t}`},Ps=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stats.scoreDistribution;return t?t.reduce((e,t)=>e+t.amount,0):0},Ts=e=>{if(!e)return null;const t=e.replace(/<(?:.|\n)*?>/gm,""),a=t.replace(/\(Source: .*\)/i,"");return a.trim()},Ls=e=>{if(!e)return null;const t=e.name,a=e.image,s=Es.formatStaffUrl(e,!0);return{"@type":"Person","@id":`https://anilist.co${s}`,url:`https://anilist.co${s}`,name:`${t.first} ${t.last}`,givenName:t.first,familyName:t.last,image:a.large}},Ms=e=>{const t=e.name,a=Es.formatStudioUrl(e,!0);return{"@type":"Organization","@id":`https://anilist.co${a}`,url:`https://anilist.co${a}`,name:t}},Ns=(e,t)=>{return!t||t.length<1?null:t.map(t=>e(t))},Ds=Ns.bind(null,Ls),Rs=Ns.bind(null,Ms),js=(e,t)=>{const a=ws()(e)?e:[e],s=t.staff.edges.filter(e=>a.includes(e.role));return s.length?s.map(e=>e.node):null},Fs=e=>{const t=e.synonyms,a=Ss()(e.title),s=a.filter(t=>t!==e.title.romaji);return[...t,...s].filter(Boolean)},Us=e=>{const t=e%60,a=(e-t)/60;return 0===a?`PT${t}M`:a&&0===t?`PT${a}H`:`PT${a}H${t}M`},zs=e=>e.tags.filter(e=>e.rank>50).map(e=>e.name),qs=e=>{let t;const a=Es.formatMediaUrl(e,!0),s={"@type":xs(e.format),name:e.title.romaji,alternateName:Fs(e),image:e.coverImage.large,description:Ts(e.description),startDate:Os(e.startDate),endDate:Os(e.endDate),genre:e.genres,keywords:zs(e),countryOfOrigin:e.countryOfOrigin,aggregateRating:e.meanScore?{"@type":"AggregateRating",ratingValue:e.meanScore,ratingCount:Ps(e),reviewCount:e.reviews.pageInfo.total||null,bestRating:100,worstRating:1}:null};if(t={"@context":"http://schema.org","@type":"WebPage",breadcrumb:{"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":`https://anilist.co/search/${e.type.toLowerCase()}`,url:`https://anilist.co/search/${e.type.toLowerCase()}`,name:Object(Is["capitalize"])(e.type)}},{"@type":"ListItem",position:2,item:{"@id":`https://anilist.co${a}`,url:`https://anilist.co${a}`,name:e.title.romaji,image:e.coverImage.large}}]},mainEntity:Object(Re["a"])({},s)},"ANIME"===e.type){const a={mainEntity:{numberOfEpisodes:e.episodes,productionCompany:Rs(Ea(e).map(e=>e.node)),producer:Rs(xa(e).map(e=>e.node)),creator:Rs(e.studios.edges.map(e=>e.node)),actor:Ds(e.characters.edges.filter(e=>"MAIN"===e.role).map(e=>e.voiceActors[0])),director:Ds(js("Director",e)),musicBy:Ds(js("Music",e)),timeRequired:Us(e.duration)}};t=ks()({},t,a)}if("MOVIE"===e.format){const a={mainEntity:{dateCreated:Os(e.startDate),duration:Us(e.duration)}};t=ks()({},t,a)}return t};var Bs,Vs,Gs={name:"media",components:{MediaHeader:ka,MediaData:La,Rankings:Ga,Tags:ps,ExternalLinks:_s,FontAwesomeIcon:p.a},mixins:[M["a"]],props:{id:{type:[Number,String],required:!0},type:{type:String,required:!0}},computed:{media(){const e=this.$store.getters["media/find"](this.id);return e.id&&(this.$store.commit("setAdDisplay",!e.isAdult),this.addMissingUrlSlug(e.title.userPreferred)),e},structuredData(){return qs(this.media)}},methods:{fetchMediaOverview(e){return this.displayAdult||(e.isAdult=!1),this.$store.dispatch("media/fetchMediaOverview",e)},addMissingUrlSlug(e){const t=this.$route;if(!t.params.slug){const a=As["a"].methods.urlSlug(e);if(!a)return;s$.replace({name:t.name,params:Object(Re["a"])({},t.params,{slug:a})})}}},created(){this.fetchMediaOverview({id:this.id,type:this.type.toUpperCase()})},beforeRouteUpdate(e,t,a){this.fetchMediaOverview({id:e.params.id,type:e.params.type.toUpperCase()}),a()},serverPrefetch(){return this.fetchMediaOverview({id:this.id,type:this.type.toUpperCase()})},metaInfo(){if(!this.media.id||this.media.isAdult)return{};const e=this.media.title,t=e.romaji,a=e.english,s=a&&a!==t;let i=t;return s&&(i+=` (${a})`),{title:i,meta:[{property:"og:title",content:s?a:t},{property:"og:description",content:`${i} - ${this.media.description}`},{property:"og:image",content:this.media.coverImage.large},{property:"og:url",content:`https://anilist.co${this.$route.path}`},{property:"description",content:`${i} - ${this.media.description}`}],script:[{type:"application/ld+json",innerHTML:_a()(this.structuredData)}],link:[{rel:"canonical",href:`https://anilist.co${this.formatMediaUrl(this.media,!0)}`}],__dangerouslyDisableSanitizers:["script"]}}},Ys=Gs,Hs=(a("1875"),a("2c49"),Object(b["a"])(Ys,fa,ga,!1,null,"18fe98fa",null)),Qs=Hs.exports,Ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overview"},[a("div",{staticClass:"description-wrap"},[a("h2",[e._v("Description")]),e._v(" "),a("p",{staticClass:"description content-wrap",domProps:{innerHTML:e._s(e.media.description)}})]),e._v(" "),a("relations",{attrs:{relations:e.media.relations}}),e._v(" "),a("characters",{attrs:{characters:e.media.characters}}),e._v(" "),a("ad",{staticClass:"sense-wrap desktop above-fold",attrs:{type:"media"}}),e._v(" "),a("staff",{attrs:{staff:e.media.staff}}),e._v(" "),a("div",{staticClass:"grid-section-wrap"},[a("status-distribution",{staticClass:"status-distribution",attrs:{statuses:e.media.stats.statusDistribution}}),e._v(" "),e.media.stats.scoreDistribution&&e.media.stats.scoreDistribution[4]?a("score-distribution-graph",{attrs:{"score-data":e.media.stats.scoreDistribution}}):e._e()],1),e._v(" "),0!=e.media.streamingEpisodes.length?a("watch",{attrs:{episodes:e.media.streamingEpisodes}}):e._e(),e._v(" "),a("div",{staticClass:"grid-section-wrap"},[e.media.trailer?a("trailer",{attrs:{trailer:e.media.trailer}}):e._e(),e._v(" "),a("following",{attrs:{id:e.media.id,pagnate:!1,"per-page":4}}),e._v(" "),a("threads",{attrs:{id:e.media.id,pagnate:!1,"per-page":2}}),e._v(" "),a("reviews",{attrs:{reviews:e.media.reviews.nodes}})],1),e._v(" "),a("ad",{staticClass:"sense-wrap footer",attrs:{type:"media-footer"}})],1)},Ks=[],Js=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 0!=e.relations.edges.length?a("div",{staticClass:"relations",class:{small:!e.smallRelationView}},[a("h2",[e._v("Relations")]),e._v(" "),a("div",{class:{"grid-wrap":e.smallRelationView}},e._l(e.sortedRelations.edges,function(t){return a("media-preview-card",{key:t.id,attrs:{media:t.node,showInfo:e.smallRelationView}},[a("div",{attrs:{slot:"image-text"},slot:"image-text"},[e._v(e._s(e._f("capitalize")(t.relationType)))]),e._v(" "),a("div",{attrs:{slot:"info-header"},slot:"info-header"},[e._v(e._s(e._f("capitalize")(t.relationType)))])])}),1)]):e._e()},Zs=[],Xs={components:{MediaPreviewCard:yt},props:["relations"],computed:{sortedRelations(){const e=this.relations.edges.slice(),t=["ADAPTATION","PREQUEL","SEQUEL","PARENT","ALTERNATIVE","SIDE_STORY","SPIN_OFF","SUMMARY","CHARACTER","OTHER"];return e.sort((e,a)=>{return t.indexOf(e.relationType)-t.indexOf(a.relationType)}),{edges:e}},smallRelationView(){return this.relations.edges.length<4||!this.isDesktop},textRelationView(){return this.relations.edges.length>9},isDesktop(){return this.$store.state.screen.isDesktop}}},ei=Xs,ti=(a("1e71"),Object(b["a"])(ei,Js,Zs,!1,null,"4fd869dd",null)),ai=ti.exports,si=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 0!=e.characters.edges.length?a("div",{staticClass:"characters"},[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:"characters"}},[e._v("Characters")]),e._v(" "),a("div",{staticClass:"grid-wrap",class:{"grid-wrap-half":e.excludeStaff}},e._l(e.characters.edges,function(e){return a("role-card",{key:e.id,attrs:{character:e.node,staff:e.voiceActors[0],edge:{role:e.role}}})}),1)],1):e._e()},ii=[],ni=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"role-card",class:[e.roleType,e.cardSize]},[e.character?a("div",{staticClass:"character"},[a("router-link",{staticClass:"cover",style:e.coverImage(e.character.image.large),attrs:{to:{name:"Character",params:e.formatCharacterUrl(e.character)}}}),e._v(" "),a("router-link",{staticClass:"content",attrs:{to:{name:"Character",params:e.formatCharacterUrl(e.character)}}},[a("div",{staticClass:"name"},[e._v("\n                "+e._s(e.character.name.first)+" "+e._s(e.character.name.last)+"\n            ")]),e._v(" "),e.edge.role&&!e.media?a("div",{staticClass:"role"},[e._v("\n                "+e._s(e._f("capitalize")(e.edge.role))+"\n            ")]):e._e()])],1):e._e(),e._v(" "),e.staff?a("div",{staticClass:"staff"},[a("router-link",{staticClass:"cover",style:e.coverImage(e.staff.image.large),attrs:{to:{name:"Staff",params:e.formatStaffUrl(e.staff)}}}),e._v(" "),a("router-link",{staticClass:"content",attrs:{to:{name:"Staff",params:e.formatStaffUrl(e.staff)}}},[a("div",{staticClass:"name"},[e._v("\n                "+e._s(e.staff.name.first)+" "+e._s(e.staff.name.last)+"\n            ")]),e._v(" "),!e.edge.role||e.character||e.media?e._e():a("div",{staticClass:"role"},[e._v("\n                "+e._s(e.edge.role)+"\n            ")]),e._v(" "),e.staff.language?a("div",{staticClass:"role"},[e._v("\n                "+e._s(e._f("capitalize")(e.staff.language))+"\n            ")]):e._e()])],1):e._e(),e._v(" "),e.media?a("div",{staticClass:"media"},[a("router-link",{staticClass:"cover",style:e.coverImage(e.media.coverImage.large),attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.media)}}}),e._v(" "),a("router-link",{staticClass:"content",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.media)}}},[a("div",{staticClass:"name"},[e._v("\n                "+e._s(e.media.title.userPreferred)+"\n            ")]),e._v(" "),e.edge.role?a("div",{staticClass:"role"},[e._v("\n                "+e._s(e._f("capitalize")(e.edge.role))+"\n            ")]):e._e()])],1):e._e()])},ri=[],oi={props:["character","staff","media","edge","cardSize"],methods:{coverImage(e){return{"background-image":`url(${e})`}}},computed:{roleType(){return this.character&&!this.media?this.staff?"view-character-staff":"view-character":this.media?this.character?"view-media-character":this.staff?"view-media-staff":"view-media":this.staff?"view-staff":"hide"}}},ci=oi,li=(a("fee0"),Object(b["a"])(ci,ni,ri,!1,null,"2bb4b515",null)),di=li.exports,ui={components:{RoleCard:di},props:["characters","excludeStaff"]},mi=ui,pi=Object(b["a"])(mi,si,ii,!1,null,null,null),hi=pi.exports,vi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 0!=e.staff.edges.length?a("div",{staticClass:"staff"},[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:"staff"}},[e._v("Staff")]),e._v(" "),a("div",{staticClass:"grid-wrap"},e._l(e.staff.edges,function(e){return a("role-card",{key:e.id,attrs:{staff:e.node,edge:{role:e.role},"card-size":"small"}})}),1)],1):e._e()},fi=[],gi={components:{RoleCard:di},props:["staff"]},yi=gi,_i=Object(b["a"])(yi,vi,fi,!1,null,null,null),bi=_i.exports,wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.statuses&&!e.empty?a("div",[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:"stats"}},[e._v("Status Distribution")]),e._v(" "),a("div",{staticClass:"status-distribution content-wrap"},[a("div",{staticClass:"statuses"},e._l(e.statusStats(5),function(t,s){return a("div",{key:t.status,staticClass:"status"},[a("div",{staticClass:"name",style:{background:e.statusColors[s]}},[e._v(e._s(e._f("capitalize")(t.status)))]),e._v(" "),a("div",{staticClass:"amount",style:{color:e.statusColors[s]}},[e._v("\n                    "+e._s(t.amount)+"\n                    "),a("span",{staticClass:"label"},[e._v("Users")])])])}),0),e._v(" "),a("div",{staticClass:"percentage-bar"},e._l(e.statusStats(6),function(t,s){return a("el-tooltip",{key:t.status,attrs:{content:e._f("capitalize")(t.status),placement:"top-start"}},[a("div",{staticClass:"percentage",class:t.status,style:{"min-width":t.percent,background:e.statusColors[s]}})])}),1)])],1):e._e()},Ci=[],Si={props:["statuses"],data(){return{empty:!1,statusColors:["#68d639","#02A9FF","#9256f3","#f779a4","#E85D75","#F79A63"]}},methods:{getPercent(e,t,a){return(e-t)/(a-t)*100+"%"},statusStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=ss()(this.statuses,["amount"],["desc"]);null!==e&&(t=t.slice(0,e));let a=0;return t.map(e=>{a+=e.amount}),t.map(e=>{e.percent=this.getPercent(e.amount,0,a)}),t}},created(){this.empty=this.statuses.every(e=>0==e.amount)}},$i=Si,ki=(a("6c12"),Object(b["a"])($i,wi,Ci,!1,null,"045f5202",null)),Ii=ki.exports,Ai=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null==e.scoreData||e.empty?e._e():a("div",[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:"stats"}},[e._v("Score Distribution")]),e._v(" "),a("div",{ref:"chart",staticClass:"chart media-score-distribution"})],1)},Ei=[],xi=a("f898"),Oi={props:["scoreData"],data(){return{chart:null,empty:!1,labels:[],dataSet:[],options:{width:"100%",height:"103px",showGrid:!1,seriesBarDistance:0,chartPadding:{top:20,right:10,bottom:5,left:10},axisX:{offset:20,showGrid:!1,scaleMinSpace:1,labelOffset:{x:0,y:5}},axisY:{showLabel:!1,offset:0,showGrid:!1}}}},methods:{createDataSet(){this.scoreData.map(e=>{this.labels.push(e.score),this.dataSet.push(e.amount)})},renderChart(){this.chart=new xi["a"].Bar(this.$refs.chart,{labels:this.labels,series:[this.dataSet]},this.options),this.chart.on("draw",e=>{"bar"===e.type&&e.element.attr({style:`stroke: hsl(${e.axisX.ticks[e.index]}, 65%, 50%)`,"stroke-linecap":"round"})}),Object(xi["b"])(this.chart)}},mounted(){null!=this.scoreData&&(this.empty=!this.scoreData.some(e=>0!==e.score),this.empty||(this.createDataSet(),this.renderChart()))}},Pi=Oi,Ti=(a("84fd"),Object(b["a"])(Pi,Ai,Ei,!1,null,null,null)),Li=Ti.exports,Mi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 0!=e.reviews.length?a("div",{staticClass:"reviews"},[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:"reviews"}},[e._v("Reviews")]),e._v(" "),a("div",{staticClass:"review-wrap"},e._l(e.reviews,function(e){return a("review-card",{key:e.id,staticClass:"review",attrs:{review:e}})}),1)],1):e._e()},Ni=[],Di=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"review-card"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.review.user.avatar.large,expression:"review.user.avatar.large",arg:"background-image"}],staticClass:"user",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.review.user)}}}),e._v(" "),a("router-link",{staticClass:"content",attrs:{to:{name:"Review",params:{id:e.review.id}}}},[a("div",{staticClass:"summary"},[e._v(e._s(e.review.summary))]),e._v(" "),e.review.rating&&e.review.ratingAmount?a("el-tooltip",{attrs:{content:e.review.rating+" out of "+e.review.ratingAmount+" liked this review",placement:"top"}},[a("div",{staticClass:"votes"},[a("font-awesome-icon",{attrs:{icon:"thumbs-up",size:"sm"}}),e._v(" "+e._s(e.review.rating)+"\n            ")],1)]):e._e()],1)],1)},Ri=[],ji={props:["review"],components:{FontAwesomeIcon:p.a}},Fi=ji,Ui=(a("006f"),Object(b["a"])(Fi,Di,Ri,!1,null,"21c50cbf",null)),zi=Ui.exports,qi={components:{ReviewCard:zi},props:["reviews"]},Bi=qi,Vi=(a("50ae"),Object(b["a"])(Bi,Mi,Ni,!1,null,"1d730742",null)),Gi=Vi.exports,Yi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 0!=e.episodesPreview.length?a("div",{staticClass:"episodes"},[a("h2",[e._v("Watch")]),e._v(" "),a("div",{staticClass:"wrap"},e._l(e.episodesPreview,function(e,t){return a("episode",{key:t,attrs:{episode:e}})}),1)]):e._e()},Hi=[],Qi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"episode",style:e.image,attrs:{href:e.episode.url,target:"_blank"}},[a("div",{staticClass:"title"},[e._v(e._s(e.episode.title))])])},Wi=[],Ki={props:["episode"],computed:{image(){return{"background-image":`url(${this.episode.thumbnail.replace("http://","https://")})`}}}},Ji=Ki,Zi=(a("0708"),Object(b["a"])(Ji,Qi,Wi,!1,null,"703dd9f4",null)),Xi=Zi.exports,en={props:["episodes"],components:{Episode:Xi},computed:{episodesFiltered(){return this.episodes.filter(e=>!e.title.includes("PV")&&!e.title.includes("Trailer"))},episodesPreview(){return this.episodesFiltered.slice(0,4)}}},tn=en,an=(a("90c3"),Object(b["a"])(tn,Yi,Hi,!1,null,"6a863d46",null)),sn=an.exports,nn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.trailer.id?a("div",{staticClass:"trailer"},[a("h2",[e._v("Trailer")]),e._v(" "),a("iframe",{staticClass:"video",attrs:{src:e.url,frameborder:"0",allowfullscreen:""}})]):e._e()},rn=[],on={props:{trailer:{type:Object,required:!0}},computed:{url(){return"youtube"==this.trailer.site?`https://www.youtube.com/embed/${this.trailer.id}`:`https://www.dailymotion.com/embed/video/${this.trailer.id}`}}},cn=on,ln=(a("b765"),Object(b["a"])(cn,nn,rn,!1,null,"3e900f18",null)),dn=ln.exports,un=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.auth?a("div",[e.show?a("router-link",{staticClass:"link",attrs:{tag:"h2",to:"social"}},[e._v("Following")]):e._e(),e._v(" "),a("div",{staticClass:"following"},[e.show?a("div",{class:{limit:!e.pagnate}},[e._l(e.following.pageData,function(t){return e._l(t,function(t){return a("router-link",{key:t.id,staticClass:"follow",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(t.user)}}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.user.avatar.large,expression:"entry.user.avatar.large",arg:"background-image"}],staticClass:"avatar"}),e._v(" "),a("div",{staticClass:"name"},[e._v(e._s(t.user.name))]),e._v(" "),a("div",{staticClass:"status"},[e._v(e._s(e._f("capitalize")(t.status)))]),e._v(" "),"POINT_3"===t.user.mediaListOptions.scoreFormat?[t.score?a("font-awesome-icon",{attrs:{icon:["far",e.faces[t.score]],size:"lg"}}):e._e()]:t.score?a("span",[e._v("\n                        "+e._s(t.score)),"POINT_100"===t.user.mediaListOptions.scoreFormat?a("span",[e._v("/100")]):["POINT_10","POINT_10_DECIMAL"].includes(t.user.mediaListOptions.scoreFormat)?a("span",[e._v("/10")]):"POINT_5"===t.user.mediaListOptions.scoreFormat?a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"star"}}):e._e()],1):e._e()],2)})})],2):e._e(),e._v(" "),e.hasNextPage?a("scroll-load",{ref:"scroll",attrs:{action:e.fetchFollowing}}):e._e()],1)],1):e._e()},mn=[],pn={props:{id:{type:Number,required:!0},pagnate:{type:Boolean,default:!0},perPage:{type:Number,default:40}},components:{FontAwesomeIcon:p.a},mixins:[M["a"],st["a"]],data(){return{faces:{1:"frown",2:"meh",3:"smile"}}},computed:{following(){return this.$store.getters["media/child"](this.id,"following",this.page)},show(){const e=this.following.pageData;return!!e&&(0!==d()(e).length&&(e[1]&&0!==d()(e[1]).length))}},methods:{async fetchFollowing(){const e=await this.$store.dispatch("media/fetchFollowing",{id:this.id,page:this.page,perPage:this.perPage});this.hasNextPage=!!this.pagnate&&e}}},hn=pn,vn=(a("f0db"),Object(b["a"])(hn,un,mn,!1,null,"8fa8bec6",null)),fn=vn.exports,gn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticClass:"link"},[a("router-link",{attrs:{to:"social"}},[e._v("Threads")]),e._v(" "),e.show&&!e.loading?a("router-link",{staticClass:"create",attrs:{to:"/forum/thread/editor/new?mediaId="+e.id}},[e._v("Create New Thread")]):e._e()],1),e._v(" "),a("div",{staticClass:"threads"},[e.show?a("div",{staticClass:"thread-wrap",class:{limit:!e.pagnate}},[e._l(e.threads.pageData,function(t){return e._l(t,function(e){return a("thread-card",{key:e.id,attrs:{thread:e,small:!0}})})})],2):e.loading?e._e():a("div",{staticClass:"thread-wrap"},[a("router-link",{staticClass:"no-threads",attrs:{to:"/forum/thread/editor/new?mediaId="+e.id}},[e._v("No forum threads yet, create one?")])],1),e._v(" "),e.hasNextPage?a("scroll-load",{ref:"scroll",attrs:{action:e.fetchThreads}}):e._e()],1)])},yn=[],_n={props:{id:{type:Number,required:!0},pagnate:{type:Boolean,default:!0},perPage:{type:Number,default:40}},components:{ThreadCard:ea,FontAwesomeIcon:p.a},mixins:[st["a"]],computed:{threads(){return this.$store.getters["media/child"](this.id,"threads",this.page)},show(){const e=this.threads.pageData;return!!e&&(0!==d()(e).length&&(e[1]&&0!==d()(e[1]).length))}},methods:{async fetchThreads(){const e=await this.$store.dispatch("media/fetchThreads",{id:this.id,page:this.page,perPage:this.perPage});this.hasNextPage=!!this.pagnate&&e}}},bn=_n,wn=(a("afdf"),Object(b["a"])(bn,gn,yn,!1,null,"75f222e0",null)),Cn=wn.exports,Sn={props:["media"],components:{Relations:ai,Characters:hi,Staff:bi,StatusDistribution:Ii,ScoreDistributionGraph:Li,Reviews:Gi,Watch:sn,Trailer:dn,Following:fn,Threads:Cn,Ad:ze["a"]},computed:{isDesktop(){return this.$store.state.screen.isDesktop}}},$n=Sn,kn=(a("cbb0"),Object(b["a"])($n,Ws,Ks,!1,null,"6b4b3b7d",null)),In=kn.exports,An=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.media.streamingEpisodes[0]?a("div",{staticClass:"watch"},e._l(e.media.streamingEpisodes,function(e,t){return a("episode",{key:t,attrs:{episode:e}})}),1):e._e()},En=[],xn={props:["media"],components:{Episode:Xi}},On=xn,Pn=(a("0733"),Object(b["a"])(On,An,En,!1,null,"0fb31625",null)),Tn=Pn.exports,Ln=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"media-characters"},[a("div",{staticClass:"language-select"},[e.languages[1]?a("el-select",{attrs:{placeholder:"Language"},model:{value:e.selectedLanguage,callback:function(t){e.selectedLanguage=t},expression:"selectedLanguage"}},e._l(e.languages,function(t){return a("el-option",{key:t,attrs:{label:e._f("capitalize")(t),value:e._f("capitalize")(t)}})}),1):e._e()],1),e._v(" "),e.characters.pageData?a("div",{staticClass:"grid-wrap",class:{"grid-wrap-half":"manga"===e.$parent.type}},[e._l(e.characters.pageData,function(t){return e._l(t,function(t){return a("role-card",{key:t.id,attrs:{character:t.node,staff:e.getVoiceActor(t.voiceActors),edge:{role:t.role}}})})})],2):e._e(),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchMediaCharacters}})],1)},Mn=[],Nn={name:"mediaCharacters",props:["media"],components:{RoleCard:di,ElSelect:Ja.a,ElOption:Wa.a},mixins:[st["a"]],data(){return{availableLanguages:{},selectedLanguage:"Japanese"}},computed:{characters(){return this.$store.getters["media/child"](this.media.id,"characters",this.page)},languages(){return d()(this.availableLanguages)}},methods:{async fetchMediaCharacters(e){this.hasNextPage=await this.$store.dispatch("media/fetchMediaChild",{variables:{id:this.media.id,type:this.media.type.toUpperCase(),page:this.page},type:"characters"})},getVoiceActor(e){return e.filter(e=>{if(this.$set(this.availableLanguages,e.language,!0),e.language.toLowerCase()===this.selectedLanguage.toLowerCase())return e})[0]}}},Dn=Nn,Rn=(a("eec9"),Object(b["a"])(Dn,Ln,Mn,!1,null,"0045751e",null)),jn=Rn.exports,Fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"media-staff"},[e.staff.pageData?a("div",{staticClass:"grid-wrap"},[e._l(e.staff.pageData,function(t){return e._l(t,function(e){return a("role-card",{key:e.id,attrs:{staff:e.node,edge:{role:e.role}}})})})],2):e._e(),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchStaff}})],1)},Un=[],zn={name:"mediaCharacters",props:["media"],components:{RoleCard:di},mixins:[st["a"]],computed:{staff(){return this.$store.getters["media/child"](this.media.id,"staff",this.page)}},methods:{async fetchStaff(){this.hasNextPage=await this.$store.dispatch("media/fetchMediaChild",{variables:{id:this.media.id,type:this.media.type.toUpperCase(),page:this.page},type:"staff"})}}},qn=zn,Bn=(a("98b7"),Object(b["a"])(qn,Fn,Un,!1,null,"de21f6e0",null)),Vn=Bn.exports,Gn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"media-reviews"},[e.reviews.pageData?a("div",{staticClass:"review-wrap"},[e._l(e.reviews.pageData,function(t){return e._l(t,function(e){return a("review-card",{key:e.node.id,attrs:{review:e.node}})})})],2):e._e(),e._v(" "),e.hasNextPage?a("scroll-load",{ref:"scroll",attrs:{action:e.fetchReviews,limit:2,paused:e.paused},on:{"update:paused":function(t){e.paused=t}}}):e._e(),e._v(" "),!e.loading&&e.reviews.pageInfo&&0==e.reviews.pageInfo.total?a("div",{staticClass:"no-reviews"},[e._v("\n        No reviews yet ()\n    ")]):e._e()],1)},Yn=[],Hn={props:["id"],components:{ReviewCard:zi},mixins:[st["a"]],computed:{reviews(){return this.$store.getters["media/child"](this.id,"reviews",this.page)}},methods:{async fetchReviews(){this.hasNextPage=await this.$store.dispatch("media/fetchMediaChild",{variables:{id:this.id,page:this.page},type:"reviews"})}}},Qn=Hn,Wn=(a("1022"),Object(b["a"])(Qn,Gn,Yn,!1,null,"4f080bb6",null)),Kn=Wn.exports,Jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.stats.id?a("div",{staticClass:"media-stats"},[e.stats.rankings[0]?[a("h2",[e._v("Rankings")]),e._v(" "),a("div",{staticClass:"rankings-wrap"},[a("rankings",{staticClass:"graph",attrs:{rankings:e.stats.rankings,type:e.stats.type,preview:!1}})],1)]:e._e(),e._v(" "),e.recentActivity[2]?[a("h2",[e._v("Recent Activity Per Day")]),e._v(" "),a("stats-graph",{staticClass:"graph",attrs:{stats:e.recentActivity,label:"date",value:"trending",limit:24}})]:e._e(),e._v(" "),e.stats.airing.nodes[2]&&"ANIME"===e.media.type?[a("h2",[e._v("Airing Score Progression")]),e._v(" "),a("stats-graph",{staticClass:"graph",attrs:{stats:e.stats.airing.nodes,label:"episode",value:"averageScore",limit:24}})]:e._e(),e._v(" "),e.stats.airing.nodes[2]&&"ANIME"===e.media.type?[a("h2",[e._v("Airing Watchers Progression")]),e._v(" "),a("stats-graph",{staticClass:"graph",attrs:{stats:e.stats.airing.nodes,label:"episode",value:"inProgress",limit:24}})]:e._e(),e._v(" "),e.stats.distribution.status?a("status-distribution",{staticClass:"graph status-distribution",attrs:{statuses:e.stats.distribution.status}}):e._e(),e._v(" "),e.stats.distribution.score&&e.stats.distribution.score[2]?a("score-distribution-graph",{staticClass:"graph",attrs:{"score-data":e.stats.distribution.score}}):e._e()],2):e._e()},Zn=[],Xn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.stats&&e.stats[2]&&!e.empty?a("div",{ref:"chart",staticClass:"chart stats-graph"}):e._e()},er=[],tr={props:["stats","label","value","limit"],data(){return{chart:null,empty:!1,labels:[],dataSet:[],options:{width:"100%",showArea:!0,lineSmooth:xi["a"].Interpolation.cardinal({tension:3}),chartPadding:{top:20,right:25,bottom:0,left:15}}}},methods:{createDataSet(){this.stats.slice(0).reverse().map(e=>{e[this.value]&&null!=e[this.label]&&(this.labels.push(e[this.label]),this.dataSet.push(e[this.value]))})},limittedData(){let e=this.dataSet,t=this.labels;return this.limit&&this.limit<e.length&&(e=e.slice(e.length-this.limit,e.length),t=t.slice(t.length-this.limit,t.length)),{dataSet:e,labels:t}},renderChart(){let e=this.limittedData(),t=e.dataSet,a=e.labels,s=this.options;s.high=Math.max.apply(Math,t)+5,this.chart=new xi["a"].Line(this.$refs.chart,{labels:a,series:[t]},this.options),Object(xi["b"])(this.chart)}},mounted(){null!=this.stats&&(this.createDataSet(),this.renderChart())}},ar=tr,sr=(a("8825"),Object(b["a"])(ar,Xn,er,!1,null,null,null)),ir=sr.exports,nr={props:["media","id"],components:{Rankings:Ga,StatusDistribution:Ii,ScoreDistributionGraph:Li,StatsGraph:ir},computed:{stats(){return this.$store.getters["media/find"](this.id,"stats")},recentActivity(){return this.stats.trends.nodes.map(e=>{let t=new Date(1e3*e.date).getUTCDate();return Object(Re["a"])({},e,{date:`${t}${this.daySuffix(t)}`})})}},methods:{async fetchStats(){await this.$store.dispatch("media/fetchStats",{id:this.id})},daySuffix(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}},created(){this.fetchStats()}},rr=nr,or=(a("28d6"),Object(b["a"])(rr,Jn,Zn,!1,null,"73de988c",null)),cr=or.exports,lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"social"},[a("div",{staticClass:"activity-feed"},[a("h2",[e._v("Recent Activity")]),e._v(" "),e.activity.pageData?[e._l(e.activity.pageData,function(t,s){return e._l(t,function(e,t){return a("activity",{key:s+"-"+t,attrs:{activity:e}})})})]:e._e(),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchActivity,limit:2,paused:e.paused},on:{"update:paused":function(t){e.paused=t}}})],2),e._v(" "),a("div",[a("threads",{attrs:{id:e.media.id}}),e._v(" "),a("following",{attrs:{id:e.media.id}})],1)])},dr=[],ur={props:["media"],components:{Activity:k["default"],Following:fn,Threads:Cn},mixins:[st["a"]],computed:{activity(){return this.$store.getters["media/child"](this.media.id,"activity",this.page)}},methods:{async fetchActivity(){this.hasNextPage=await this.$store.dispatch("media/fetchActivity",{id:this.media.id,page:this.page,type:this.type})}}},mr=ur,pr=(a("1c1c"),Object(b["a"])(mr,lr,dr,!1,null,"b3c39dee",null)),hr=pr.exports,vr=[{path:"/:type(anime|manga)/:id(\\d+)/:slug?",component:Qs,props:!0,children:[{name:"MediaOverview",path:"",component:In},{name:"MediaWatch",path:"watch",component:Tn,meta:{scrollToAnchor:!0}},{name:"MediaCharacters",path:"characters",component:jn,meta:{scrollToAnchor:!0}},{name:"MediaStaff",path:"staff",component:Vn,meta:{scrollToAnchor:!0}},{name:"MediaReviews",path:"reviews",component:Kn,props:!0,meta:{scrollToAnchor:!0}},{name:"MediaStats",path:"stats",component:cr,props:!0,meta:{scrollToAnchor:!0}},{name:"MediaSocial",path:"social",component:hr,meta:{scrollToAnchor:!0}}]}],fr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.user.id?a("div",{staticClass:"user user-page-unscoped",class:[e.user.options.profileColor,{"custom-color":e.user.options.profileColor.startsWith("#")}],style:e.customProfileColor},[e.isMod()&&e.user&&e.showBans?a("manage-bans",{attrs:{user:e.user,visible:e.showBans},on:{"update:visible":function(t){e.showBans=t}}}):e._e(),e._v(" "),a("user-header",{attrs:{user:e.user},on:{manageBans:e.openBanManager}}),e._v(" "),a("div",{staticClass:"content container"},[a("router-view",{attrs:{user:e.user}})],1)],1):e._e()},gr=[],yr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-wrap"},[a("div",{staticClass:"banner",style:e.bannerStyle},[a("div",{staticClass:"shadow"}),e._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"banner-content"},[a("img",{staticClass:"avatar",attrs:{src:e.user.avatar.large}}),e._v(" "),a("h1",{staticClass:"name"},[e._v(e._s(e.user.name))]),e._v(" "),e.user.moderatorStatus?a("div",{staticClass:"mod-badge"},[e._v("\n                    "+e._s(e.user.moderatorStatus)+"\n                ")]):e._e(),e._v(" "),a("div",{staticClass:"actions"},[e.auth&&e.auth.id!==e.user.id?a("div",{staticClass:"nav-btn",on:{click:e.toggleFollow}},e._l(e.followingVerbs,function(t,s){return a("span",{key:s},[e._v(e._s(t))])}),0):e._e(),e._v(" "),0!=e.user.donatorTier?a("div",{staticClass:"nav-btn donator-badge"},[e._v(e._s(e.user.donatorBadge))]):e._e(),e._v(" "),e.auth&&e.auth.id!==e.user.id?a("el-dropdown",{staticClass:"dropdown",attrs:{placement:"bottom",size:"small",trigger:"click"},on:{command:e.dropdownAction}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-arrow-down"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"block"}},[e._v(e._s(e.user.isBlocked?"Unblock":"Block"))]),e._v(" "),a("el-dropdown-item",{attrs:{command:"report"}},[e._v("Report")]),e._v(" "),e.isMod()?a("el-dropdown-item",{attrs:{command:"ban"}},[e._v("Ban")]):e._e()],1)],1):e._e()],1)])])]),e._v(" "),a("div",{staticClass:"nav-wrap"},[a("div",{staticClass:"nav container"},[a("router-link",{staticClass:"link",attrs:{id:"anchor",to:{name:"UserOverview",params:e.userParams},exact:""}},[e._v("Overview")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaList",params:{user:e.user.name,type:"anime"}}}},[e._v("Anime List")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaList",params:{user:e.user.name,type:"manga"}}}},[e._v("Manga List")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"UserFavourites",params:{user:e.user.name}}}},[e._v("Favorites")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"UserStats",params:e.userParams}}},[e._v("Stats")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"UserSocial",params:e.userParams}}},[e._v("Social")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"UserReviews"}}},[e._v("Reviews")]),e._v(" "),e.auth.id===e.user.id||e.isDataMod()?a("router-link",{staticClass:"link",attrs:{to:{name:"UserSubmissions"}}},[e._v("Submissions")]):e._e()],1)])])},_r=[],br={props:["user"],components:{ElDropdown:tt.a,ElDropdownMenu:Xe.a,ElDropdownItem:Je.a},mixins:[M["a"]],data(){return{loadingFollow:!1}},computed:{bannerStyle(){return{"background-image":`url( ${this.user.bannerImage} )`}},followingVerbs(){return this.user.isFollowing?["Following","Unfollow"]:["Follow","Follow"]},userParams(){return this.formatUserUrl(this.user)}},methods:{async toggleFollow(){this.auth?this.loadingFollow||(this.loadingFollow=!0,await this.$store.dispatch("user/toggleFollow",this.user.id),this.$notify({type:"success",message:`${this.user.name} ${this.user.isFollowing?"followed":"unfollowed"}`}),this.loadingFollow=!1):this.$notify({type:"error",message:"You need to be logged in to follow a user"})},dropdownAction(e){"block"==e?this.toggleBlock():"report"==e?this.reportUser():"ban"==e&&this.$emit("manageBans")},async toggleBlock(){await this.$store.dispatch("user/toggleBlock",this.user.id)},reportUser(){this.$prompt("Reason for report","Report User",{confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then(e=>{this.$store.dispatch("user/createReport",{userId:this.user.id,reason:e.value})})}}},wr=br,Cr=(a("e6b7"),Object(b["a"])(wr,yr,_r,!1,null,"259ebbb1",null)),Sr=Cr.exports,$r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"Bans",visible:e.visible,top:"5vh",width:"400px"},on:{close:e.close}},[a("span",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[a("h1",[e._v("Bans")])]),e._v(" "),e._l(e.banOptions,function(t,s){return a("div",{key:s,staticClass:"checkbox"},[a("el-checkbox",{attrs:{checked:t,border:""},on:{change:function(t){return e.checkBan(t,s)}}},[e._v(e._s(e._f("capitalize")(s)))])],1)}),e._v(" "),a("div",{staticClass:"btn",on:{click:e.save}},[e._v("Save")])],2)],1)},kr=[],Ir={props:["user","visible"],components:{ElDialog:ts.a,ElCheckbox:me.a},data(){return{banOptions:{activity:!1,"activity reply":!1,message:!1,thread:!1,"thread comment":!1,review:!1,like:!1}}},methods:{checkBan(e,t){this.banOptions[t]=e},close(){this.$emit("update:visible",!1)},async save(){const e=[];d()(this.banOptions).forEach(t=>{this.banOptions[t]&&e.push(t)});const t=await this.$store.dispatch("settings/saveBans",{userId:this.user.id,bans:e});t&&this.close()}},created(){this.user.bans.forEach(e=>{this.banOptions[e]=!0})}},Ar=Ir,Er=(a("64b6"),Object(b["a"])(Ar,$r,kr,!1,null,"19984290",null)),xr=Er.exports,Or=a("aca2"),Pr={name:"User",props:{id:{type:[Number,String],required:!0}},components:{UserHeader:Sr,ManageBans:xr},mixins:[M["a"]],data(){return{showBans:!1}},computed:{user(){return this.$store.getters["user/find"](this.id)},customProfileColor(){const e=this.user.options.profileColor;if(this.user.donatorTier>1&&"#"===e[0]){const t=Object(Or["convert"])(e).rgb,a=Object(Or["contrast"])(.7,e).rgb;return`--color-blue: ${t.r}, ${t.g}, ${t.b};\n                        --color-blue-dim: ${a.r}, ${a.g}, ${a.b};`}}},methods:{getUserOverview(e){return this.$store.dispatch("user/fetchOverview",e)},getUserIdObject(e){return isNaN(e)?{name:e}:{id:e}},openBanManager(){this.showBans=!0}},created(){this.getUserOverview(this.getUserIdObject(this.id))},beforeRouteUpdate(e,t,a){this.getUserOverview(this.getUserIdObject(e.params.id)),a()},serverPrefetch(){return this.getUserOverview(this.getUserIdObject(this.id))},metaInfo(){return this.user.id?{title:`${this.user.name}'s profile`,meta:[{property:"og:title",content:this.user.name},{property:"og:description",content:`${this.user.name}'s AniList user profile`},{property:"og:image",content:this.user.avatar.large},{property:"og:url",content:`https://anilist.co${this.$route.path}`}],link:[{rel:"canonical",href:`https://anilist.co${this.formatUserUrl(this.user,!0)}`}]}:{}}},Tr=Pr,Lr=(a("97e9"),Object(b["a"])(Tr,fr,gr,!1,null,null,null)),Mr=Lr.exports,Nr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overview"},[a("div",{staticClass:"section"},[e.user.about?a("div",{staticClass:"about"},[a("div",{staticClass:"content-wrap"},[a("markdown",{attrs:{markdown:e.user.about}})],1)]):e._e(),e._v(" "),e.user.stats.activityHistory?a("activity-history",{staticClass:"desktop",attrs:{"activity-history":e.user.stats.activityHistory}}):e._e(),e._v(" "),e.user.stats.favouredGenresOverview&&0!=e.user.stats.favouredGenresOverview.length?a("genre-overview",{staticClass:"desktop",attrs:{genres:e.user.stats.favouredGenresOverview}}):e._e(),e._v(" "),a("favourites-preview",{staticClass:"desktop",attrs:{favourites:e.user.favourites,user:e.user}})],1),e._v(" "),a("div",{staticClass:"section"},[a("div",{staticClass:"stats-wrap",class:{"full-width":0==e.user.stats.watchedTime||0==e.user.stats.chaptersRead}},[0!=e.user.stats.watchedTime?a("stats-preview",{attrs:{"user-stats":e.user.stats,type:"anime"}}):e._e(),e._v(" "),0!=e.user.stats.chaptersRead?a("stats-preview",{attrs:{"user-stats":e.user.stats,type:"manga"}}):e._e()],1),e._v(" "),a("activity-feed",{attrs:{user:e.user}})],1)])},Dr=[],Rr=a("e6e0"),jr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"activity-feed-wrap"},[a("h2",{staticClass:"section-header"},[e._v("\n        Activity\n\n        "),a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.changeFeedType}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                Filter"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:void 0}},[e._v("All")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"TEXT"}},[e._v("Status")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"MESSAGE"}},[e._v("Messages")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"MEDIA_LIST"}},[e._v("List")])],1)],1)],1),e._v(" "),e.auth?a("activity-editor",{attrs:{type:e.editorType,reference:e.editorType+"-"+e.user.id},on:{refresh:e.refresh}}):e._e(),e._v(" "),a("div",{staticClass:"activity-feed"},[e._l(e.activityFeed.pageData,function(t){return e._l(t,function(t){return a("activity",{key:t.id,attrs:{activity:t,small:!0},on:{refresh:e.refresh}})})})],2),e._v(" "),e.activityChanging?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.fetchActivity,limit:2,paused:e.paused},on:{"update:paused":function(t){e.paused=t}}})],1)},Fr=[],Ur={props:["user"],components:{Activity:k["default"],ActivityEditor:at["default"],ElDropdown:tt.a,ElDropdownMenu:Xe.a,ElDropdownItem:Je.a},mixins:[st["a"],M["a"]],data(){return{type:void 0,activityChanging:!1}},computed:{activityFeed(){return this.$store.getters["user/activity"](this.user.id,this.page,this.type)},editorType(){return this.auth.id==this.user.id?"status":"message"}},methods:{async fetchActivity(){this.hasNextPage=await this.$store.dispatch("user/fetchActivity",{id:this.user.id,page:this.page,type:this.type})},async changeFeedType(e){this.activityChanging=!0,this.type=e,this.resetScrollLoader("activityChanging")},async refresh(){this.changeFeedType(),await this.fetchActivity()}}},zr=Ur,qr=(a("688a"),Object(b["a"])(zr,jr,Fr,!1,null,"af0b6522",null)),Br=qr.exports,Vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.stats?a("div",{staticClass:"list-stats content-wrap"},[a("div",{staticClass:"stats-wrap"},e._l(e.stats,function(t,s){return 0!=t.value?a("div",{key:s,staticClass:"stat"},[a("div",{staticClass:"value"},[e._v(e._s(t.value))]),e._v(" "),a("div",{staticClass:"label"},[e._v(e._s(t.label))])]):e._e()}),0),e._v(" "),a("div",{staticClass:"footer"},[a("div",{staticClass:"milestones"},e._l(e.progress.boundaries,function(t){return a("div",{key:t,staticClass:"milestone"},[e._v(e._s(t))])}),0),e._v(" "),a("div",{staticClass:"progress"},[a("div",{staticClass:"bar",style:{width:e.progress.percentage}})])])]):e._e()},Gr=[],Yr={props:["userStats","type"],data(){return{stats:{},progress:{}}},mounted(){this.initialize()},watch:{userStats:"initialize"},methods:{initialize(){"anime"==this.type?(this.stats=this.animeStats(),this.progress=this.animeProgress()):(this.stats=this.mangaStats(),this.progress=this.mangaProgress())},animeStats(){return[{label:"Days Watched",value:this.minutesToDays(this.userStats.watchedTime)},{label:"Total Anime",value:this.listCount("anime")},{label:"Mean Score",value:this.userStats.animeListScores?this.userStats.animeListScores.meanScore/10:0}]},mangaStats(){return[{label:"Chapters Read",value:this.userStats.chaptersRead},{label:"Total Manga",value:this.listCount("manga")},{label:"Mean Score",value:this.userStats.mangaListScores?this.userStats.mangaListScores.meanScore/10:0}]},listCount(e){let t=0;return this.userStats[`${e}StatusDistribution`].map(e=>{"PLANNING"!==e.status&&(t+=e.amount)}),t},minutesToDays:e=>{return(e/1440).toFixed(1)},progressPercent(e,t,a){return((e-t)/(a-t)*100).toFixed(1)+"%"},animeProgress(){const e=this.minutesToDays(this.userStats.watchedTime),t={},a=[[0,12,1],[1,5,10],[10,30,50],[50,75,100]];if(t.boundaries=a.find(t=>{return e<t[2]}),t.boundaries)return t.percentage=this.progressPercent(e,t.boundaries[0],t.boundaries[2]),t;const s=100*Math.floor(e/100);return{boundaries:[s,s+50,s+100],percentage:this.progressPercent(e,s,s+100)}},mangaProgress(){const e=this.userStats.chaptersRead,t={},a=[[0,50,100],[100,500,1e3],[1e3,3e3,5e3],[5e3,7500,1e4]];if(t.boundaries=a.find(t=>{return e<t[2]}),t.boundaries)return t.percentage=this.progressPercent(e,t.boundaries[0],t.boundaries[2]),t;const s=1e3*Math.floor(e/1e3);return{boundaries:[s,s+500,s+1e3],percentage:this.progressPercent(e,s,s+1e3)}}}},Hr=Yr,Qr=(a("aaa4"),a("6613"),Object(b["a"])(Hr,Vr,Gr,!1,null,"b5304564",null)),Wr=Qr.exports,Kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.activityAmount,expression:"activityAmount != 0"}]},[a("h2",{staticClass:"section-header"},[e._v("Activity History")]),e._v(" "),a("div",{staticClass:"activity-history content-wrap"},e._l(e.completeActivityHistory,function(t,s){return a("div",{key:s,staticClass:"history-day",class:"lv-"+t.level},[0!==t.amount?a("div",{staticClass:"day-stats"},[e._v("\n                "+e._s(t.dateString)+"\n                Amount: "+e._s(t.amount)+"\n            ")]):e._e()])}),0)])},Jr=[],Zr={props:["activityHistory"],data(){return{activityAmount:0}},computed:{completeActivityHistory(){const e=this.userActivityHistory(),t={level:0,amount:0};let a=+new Date,s=864e5,i=182+(new Date).getUTCDay(),n=[],r=null,o=a-i*s;for(let c=0;c<i;c++)r=new Date(o).toDateString(),"undefined"!==typeof e[r]?(n.push(e[r]),this.activityAmount++):n.push(t),o+=s;return n}},methods:{userActivityHistory(){let e={},t=null;return this.activityHistory.map(a=>{t=new Date(1e3*a.date).toDateString(),e[t]=Object(Re["a"])({},a,{dateString:t})}),e}}},Xr=Zr,eo=(a("5ea3"),Object(b["a"])(Xr,Kr,Jr,!1,null,"3b963d1b",null)),to=eo.exports,ao=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticClass:"section-header"},[e._v("Genre Overview")]),e._v(" "),a("div",{staticClass:"genre-overview content-wrap"},[a("div",{staticClass:"genres"},e._l(e.genreStats(5),function(t,s){return a("div",{key:t.genre,staticClass:"genre"},[a("div",{staticClass:"name",style:{background:e.genreColors[s]}},[e._v(e._s(t.genre))]),e._v(" "),a("div",{staticClass:"amount",style:{color:e.genreColors[s]}},[e._v("\n                    "+e._s(t.amount)+"\n                    "),a("span",{staticClass:"label"},[e._v("Entries")])])])}),0),e._v(" "),a("div",{staticClass:"percentage-bar"},e._l(e.genreStats(6),function(t,s){return a("el-tooltip",{key:t.genre,attrs:{content:t.genre,placement:"top-start"}},[a("div",{staticClass:"percentage",class:t.genre,style:{"min-width":e.getPercent(t.amount,e.total),background:e.genreColors[s]}})])}),1)])])},so=[],io={props:["genres"],data(){return{total:0,genreColors:["#68d639","#02A9FF","#9256f3","#f779a4","#E85D75","#F79A63"]}},methods:{getPercent(e,t){const a=0;return(e-a)/(t-a)*100+"%"},genreStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=ss()(this.genres,["amount"],["desc"]);return t.slice(0,e)}},mounted(){this.total=0,this.genres.slice(0,6).forEach(e=>{this.total+=e.amount})}},no=io,ro=(a("9060"),Object(b["a"])(no,ao,so,!1,null,"40cf6d0a",null)),oo=ro.exports,co=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"favourites"},[e.hasFavourites?[e.auth&&e.auth.id==e.user.id?a("router-link",{staticClass:"reorder-btn",attrs:{to:{name:"UserFavourites",params:{user:e.user.name},query:{reorder:1}}}},[e._v("Reorder")]):e._e(),e._v(" "),e._l(e.sortedFavourites,function(t,s,i){return 0!=t.length?a("div",{key:i},[a("h2",{staticClass:"section-header"},[e._v("Favorite "+e._s(s))]),e._v(" "),a("div",{staticClass:"wrap"},[e._l(t,function(t,i,n){return["anime"==s||"manga"==s?a("media-preview-card",{key:n,attrs:{media:t.node,showInfo:!1}}):"studios"==s?a("router-link",{key:n,staticClass:"favourite studio",attrs:{to:{name:"Studio",params:e.formatStudioUrl(t.node)}}},[e._v(e._s(t.node.name))]):a("el-tooltip",{key:n,attrs:{content:t.node.name.first+" "+(t.node.name.last||""),placement:"top"}},["characters"==s?a("router-link",{staticClass:"favourite",style:e.staffImage(t.node),attrs:{to:{name:"Character",params:e.formatCharacterUrl(t.node)}}}):"staff"==s?a("router-link",{staticClass:"favourite",style:e.staffImage(t.node),attrs:{to:{name:"Staff",params:e.formatStaffUrl(t.node)}}}):e._e()],1)]})],2)]):e._e()})]:e.auth&&e.auth.id==e.user.id?[a("h2",{staticClass:"section-header"},[e._v("Favorites")]),e._v(" "),a("div",{staticClass:"wrap add-favourites-tip"},[e._v("\n            You don't have any favorites yet (;**;)\n            "),a("span",[e._v("Click the "),a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"heart"}}),e._v(" on anime, manga, character, staff or studio pages to add some!")],1)])]:e._e()],2)},lo=[],uo={props:["favourites","user"],components:{MediaPreviewCard:yt,FontAwesomeIcon:p.a},mixins:[M["a"]],computed:{sortedFavourites(){const e={};for(let t in this.favourites)null!==this.favourites[t]&&(e[t]=mt()(this.favourites[t].edges,e=>e.favouriteOrder));return e},hasFavourites(){const e=this.sortedFavourites;for(let t in this.favourites)if(0!==e[t].length)return!0;return!1}},methods:{staffImage(e){return{"background-image":`url(${e.image.large})`}}}},mo=uo,po=(a("5962"),Object(b["a"])(mo,co,lo,!1,null,"5c6664fe",null)),ho=po.exports,vo={props:["user"],components:{Markdown:Rr["a"],ActivityFeed:Br,StatsPreview:Wr,ActivityHistory:to,GenreOverview:oo,FavouritesPreview:ho},mixins:[M["a"]],metaInfo(){return this.user.id?{title:`${this.user.name}'s profile`,meta:[{property:"og:title",content:this.user.name},{property:"og:description",content:`${this.user.name}'s AniList user profile`},{property:"og:image",content:this.user.avatar.large},{property:"og:url",content:`https://anilist.co${this.$route.path}`}],link:[{rel:"canonical",href:`https://anilist.co${this.formatUserUrl(this.user,!0)}`}]}:{}}},fo=vo,go=(a("587f"),a("a825"),Object(b["a"])(fo,Nr,Dr,!1,null,"4e3524f6",null)),yo=go.exports,_o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.mediaList?a("div",{staticClass:"medialist",class:[e.theme,e.options.scoreFormat]},[a("list-filters",{attrs:{"section-filter":e.sectionFilter,"entry-filters":e.entryFilters,"entry-sort":e.entrySort,"section-names":e.sectionNames[e.type],options:e.options[e.type.toLowerCase()+"List"],"is-auth-users-list":e.isAuthUsersList,type:e.type},on:{"update:sectionFilter":function(t){e.sectionFilter=t},"update:section-filter":function(t){e.sectionFilter=t},"update:entryFilters":function(t){e.entryFilters=t},"update:entry-filters":function(t){e.entryFilters=t},"update:entrySort":function(t){e.entrySort=t},"update:entry-sort":function(t){e.entrySort=t},reorder:e.reorder,random:e.openRandomEntry}}),e._v(" "),a("div",{staticClass:"lists",class:{"no-auth":!e.isAuthUsersList}},[a("div",{staticClass:"actions"},[a("div",{staticClass:"theme-switch"},[a("span",{class:{active:"table"==e.theme[0]},on:{click:function(t){return e.setTheme("list")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"th-list"}})],1),e._v(" "),a("span",{class:{active:"compact"==e.theme[0]},on:{click:function(t){return e.setTheme("list-compact")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"list-ul"}})],1),e._v(" "),a("span",{class:{active:"cards"==e.theme[0]},on:{click:function(t){return e.setTheme("cards")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"th-large"}})],1)])]),e._v(" "),e._l(e.mediaList,function(t,s,i){return t.entries[0]?a("div",{key:i,staticClass:"list-wrap"},[a("h3",{staticClass:"section-name"},[e._v(e._s(t.name))]),e._v(" "),a("list-section",{attrs:{list:t,type:e.type,sort:e.entrySort,format:e.options.scoreFormat,theme:e.theme[0]}})],1):e._e()})],2)],1):e._e()},bo=[],wo=(a("386d"),a("7d3a")),Co=a.n(wo),So=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-section",class:{"completed-list":e.list.isCompletedList,"custom-list":e.list.isCustomList}},[a("list-header",{attrs:{type:e.type}}),e._v(" "),a("div",{ref:"list",staticClass:"list-entries"},["compact"===e.theme?e._l(e.visibleList,function(t){return a("list-entry-compact",{key:t.id,attrs:{entry:t,type:e.type,format:e.format}})}):"cards"===e.theme?e._l(e.visibleList,function(t){return a("list-entry-cards",{key:t.id,attrs:{entry:t,type:e.type,format:e.format}})}):e._l(e.visibleList,function(t){return a("list-entry",{key:t.id,attrs:{entry:t,type:e.type,format:e.format}})})],2)],1)},$o=[],ko=a("e814"),Io=a.n(ko),Ao=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-head row"},[a("div",{staticClass:"cover"}),e._v(" "),a("div",{staticClass:"title"},[e._v("Title")]),e._v(" "),a("div",{staticClass:"score"},[e._v("Score")]),e._v(" "),"MANGA"!==e.type?a("div",{staticClass:"progress"},[e._v("Progress")]):e._e(),e._v(" "),"MANGA"===e.type?a("div",{staticClass:"progress"},[e._v("Chapters")]):e._e(),e._v(" "),"MANGA"===e.type?a("div",{staticClass:"progress"},[e._v("Volumes")]):e._e(),e._v(" "),a("div",{staticClass:"status"},[e._v("Status")]),e._v(" "),a("div",{staticClass:"format"},[e._v("Type")])])},Eo=[],xo={props:["type"]},Oo=xo,Po=(a("1cf7"),Object(b["a"])(Oo,Ao,Eo,!1,null,null,null)),To=Po.exports,Lo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.entry.id?a("div",{staticClass:"entry row"},[a("div",{staticClass:"cover"},[a("div",{staticClass:"edit",on:{click:e.openListEditor}},[a("font-awesome-icon",{attrs:{icon:"ellipsis-h",size:"lg"}})],1),e._v(" "),a("div",{staticClass:"image",style:e.cover})]),e._v(" "),a("div",{staticClass:"title"},[a("router-link",{attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.entry.media)}}},[e._v("\n            "+e._s(e.entry.media.title.userPreferred)+"\n        ")]),e._v(" "),0!==e.entry.repeat?a("span",{staticClass:"repeat",attrs:{label:e.entry.repeat}},[a("font-awesome-icon",{attrs:{icon:"redo-alt"}})],1):e._e(),e._v(" "),null!==e.entry.notes?a("span",{staticClass:"notes",attrs:{label:e.entry.notes}},[a("font-awesome-icon",{attrs:{icon:"comment"}})],1):e._e()],1),e._v(" "),a("div",{staticClass:"score",attrs:{score:e.entry.score,label:"Score"}},["POINT_3"===e.format?[0!==e.entry.score?a("font-awesome-icon",{attrs:{icon:["far",e.faces[e.entry.score]],size:"lg"}}):e._e()]:[e._v("\n            "+e._s(e.entry.score)+"\n            "),"POINT_5"===e.format?[a("font-awesome-icon",{attrs:{icon:"star"}})]:e._e()]],2),e._v(" "),a("div",{staticClass:"progress",attrs:{label:"Progress"}},[e._v("\n        "+e._s(e.entry.progress)),e.maxProgress?e._e():[e._v("/"+e._s("ANIME"===e.entry.media.type?e.entry.media.episodes:e.entry.media.chapters))],e._v(" "),e.maxProgress?e._e():a("span",{staticClass:"plus-progress",on:{click:function(t){return e.plusProgress("progress")}}},[e._v("+")])],2),e._v(" "),"MANGA"===e.type?a("div",{staticClass:"progress progress-volumes",attrs:{label:"Volumes"}},[e._v("\n        "+e._s(e.entry.progressVolumes)),e.maxVolumesProgress?e._e():[e._v("/"+e._s(e.entry.media.volumes))],e._v(" "),e.maxProgress?e._e():a("span",{staticClass:"plus-progress",on:{click:function(t){return e.plusProgress("progressVolumes")}}},[e._v("+")])],2):e._e(),e._v(" "),a("div",{staticClass:"status",attrs:{label:"Status"}},[e._v("\n        "+e._s(e._f("capitalize")(e.entry.status))+"\n    ")]),e._v(" "),a("div",{staticClass:"format",attrs:{label:"Format"}},[e._v("\n        "+e._s(e._f("capitalizeFormat")(e.entry.media.format))+"\n    ")]),e._v(" "),a("span",{staticClass:"release-status",class:e.entry.media.status})]):e._e()},Mo=[],No={props:["entry","type","format"],components:{FontAwesomeIcon:p.a},data(){return{editingEntry:!1,faces:{1:"frown",2:"meh",3:"smile"}}},computed:{cover(){return{"background-image":`url(${this.entry.media.coverImage.large})`}},maxProgress(){return this.entry.media.episodes?this.entry.progress>=this.entry.media.episodes:!!this.entry.media.chapters&&this.entry.progress>=this.entry.media.chapters},maxVolumesProgress(){return!!this.entry.media.volumes&&this.entry.progressVolumes>=this.entry.media.volumes}},methods:{openListEditor(){this.$store.dispatch("medialist/openListEditor",this.entry.media.id)},async plusProgress(e){if(this.editingEntry)return;this.editingEntry=!0;const t={mediaId:this.entry.media.id};t[e]=this.entry[e]+1,await this.$store.dispatch("medialist/saveListEntry",t),this.editingEntry=!1}}},Do=No,Ro=(a("f0ee"),Object(b["a"])(Do,Lo,Mo,!1,null,null,null)),jo=Ro.exports,Fo={extends:jo},Uo=Fo,zo=(a("e0a6"),Object(b["a"])(Uo,Bs,Vs,!1,null,null,null)),qo=zo.exports,Bo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.entry.id?a("div",{staticClass:"entry-card row"},[a("div",{staticClass:"cover"},[a("div",{staticClass:"edit",on:{click:e.openListEditor}},[a("font-awesome-icon",{attrs:{icon:"ellipsis-h",size:"lg"}})],1),e._v(" "),a("div",{staticClass:"image",style:e.cover})]),e._v(" "),a("div",{staticClass:"title"},[a("router-link",{attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.entry.media)}}},[e._v("\n            "+e._s(e.entry.media.title.userPreferred)+"\n        ")])],1),e._v(" "),a("div",{staticClass:"score",attrs:{score:e.entry.score,label:"Score"}},["POINT_3"===e.format?[0!==e.entry.score?a("font-awesome-icon",{attrs:{icon:["far",e.faces[e.entry.score]],size:"lg"}}):e._e()]:[e._v("\n            "+e._s(e.entry.score)+"\n            "),"POINT_5"===e.format?[a("font-awesome-icon",{attrs:{icon:"star"}})]:e._e()]],2),e._v(" "),a("div",{staticClass:"progress",attrs:{label:"Progress"}},[e._v("\n        "+e._s(e.entry.progress)),e.maxProgress?e._e():[e._v("/"+e._s("ANIME"===e.entry.media.type?e.entry.media.episodes:e.entry.media.chapters))],e._v(" "),e.maxProgress?e._e():a("span",{staticClass:"plus-progress",on:{click:function(t){return e.plusProgress("progress")}}},[e._v("+")])],2),e._v(" "),a("span",{staticClass:"release-status",class:e.entry.media.status}),e._v(" "),0!==e.entry.repeat?a("span",{staticClass:"repeat",attrs:{label:e.entry.repeat}},[a("font-awesome-icon",{attrs:{icon:"redo-alt"}})],1):e._e(),e._v(" "),null!==e.entry.notes?a("span",{staticClass:"notes",attrs:{label:e.entry.notes}},[a("font-awesome-icon",{attrs:{icon:"comment"}})],1):e._e()]):e._e()},Vo=[],Go={extends:jo},Yo=Go,Ho=(a("5714"),Object(b["a"])(Yo,Bo,Vo,!1,null,null,null)),Qo=Ho.exports,Wo={props:["list","type","format","sort","theme"],components:{ListHeader:To,ListEntry:jo,ListEntryCompact:qo,ListEntryCards:Qo},computed:{sortedList(){let e=this.sort,t="desc";const a=e=>e.media.title.userPreferred.toLowerCase();return"title"===e?(t="asc",e=a):e.includes(":date")&&(e=this.dateSort(e)),ss()(this.list.entries,[e,a],[t,"asc"])},visibleList(){return this.sortedList.slice(0,this.limit)},limit:{get(){return this.$store.getters["medialist/limit"]},set(e){this.$store.dispatch("medialist/updateListLimit",e)}}},methods:{renderListEntries(){const e=this.$refs.list;if(!e||this.sortedList.length<this.limit)return;const t=600,a=e.scrollHeight+e.offsetTop,s=window.innerHeight+window.scrollY+t;s>a&&(this.limit+=30)},dateSort(e){return t=>{const a=e.includes("media.")?t.media[e.replace("media.","").replace(":date","")]:t[e.replace(":date","")];let s=a.month||0,i=a.day||0;return s<10&&(s=`0${s}`),i<10&&(i=`0${i}`),Io()(`${a.year||0}${s}${i}`)}}},watch:{limit(e){30==e&&this.renderListEntries()}},mounted(){this.renderListEntries()},created(){window.addEventListener("scroll",this.renderListEntries)},destroyed(){window.removeEventListener("scroll",this.renderListEntries)}},Ko=Wo,Jo=(a("5a89"),Object(b["a"])(Ko,So,$o,!1,null,null,null)),Zo=Jo.exports,Xo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filters-wrap"},[a("div",{staticClass:"filter-mobile-wrap"},[a("el-input",{staticClass:"entry-filter",attrs:{placeholder:"Filter","prefix-icon":"el-icon-search"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[e.title?a("i",{staticClass:"el-icon-circle-close",attrs:{slot:"suffix"},on:{click:function(t){e.title=null}},slot:"suffix"}):e._e()]),e._v(" "),a("div",{staticClass:"filter-toggle",class:{active:e.showMobileNav},on:{click:function(t){e.showMobileNav=!e.showMobileNav}}},[a("font-awesome-icon",{attrs:{icon:"ellipsis-h"}})],1)],1),e._v(" "),a("div",{staticClass:"filters",class:{"mobile-nav-hidden":!e.showMobileNav}},[e.sortingLists?a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("\n                Lists\n\n                "),a("el-tooltip",{attrs:{content:"Cancel",placement:"top"}},[a("span",{staticClass:"action cancel",on:{click:function(t){e.sortingLists=!1}}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1)]),e._v(" "),a("el-tooltip",{attrs:{content:"Save Order",placement:"top"}},[a("span",{staticClass:"action",on:{click:e.saveSectionOrder}},[a("font-awesome-icon",{attrs:{icon:"save"}})],1)])],1),e._v(" "),a("draggable",{staticClass:"draggable",model:{value:e.sectionOrder,callback:function(t){e.sectionOrder=t},expression:"sectionOrder"}},e._l(e.sectionOrder,function(t,s){return a("span",{key:s},[e._v("\n                    "+e._s(t)+"\n                ")])}),0)],1):a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("\n                Lists\n\n                "),e.isAuthUsersList?a("el-tooltip",{attrs:{content:"Reorder List Sections",placement:"top"}},[a("span",{staticClass:"action",on:{click:function(t){e.sortingLists=!0}}},[a("font-awesome-icon",{attrs:{icon:"sort"}})],1)]):e._e()],1),e._v(" "),e._l(e.sectionNames,function(t,s){return a("span",{key:s,class:{active:e.sectionFilter==t.name},on:{click:function(a){return e.setSectionFilter(t.name)}}},[e._v("\n                "+e._s(t.name)+"\n                "),a("span",{staticClass:"count"},[e._v(e._s(t.count))])])})],2),e._v(" "),a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("Filters")]),e._v(" "),a("el-select",{staticClass:"format",attrs:{placeholder:"Format",size:"small",clearable:""},model:{value:e.format,callback:function(t){e.format=t},expression:"format"}},e._l(e.formatOptions[e.type],function(t){return a("el-option",{key:t,attrs:{label:e._f("capitalizeFormat")(t),value:t}})}),1),e._v(" "),a("el-select",{staticClass:"format",attrs:{placeholder:"Status",size:"small",clearable:""},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.statusOptions,function(t){return a("el-option",{key:t,attrs:{label:e._f("capitalize")(t),value:t}})}),1),e._v(" "),a("el-select",{staticClass:"status",attrs:{placeholder:"Country",size:"small",clearable:""},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},e._l(e.countryOptions,function(t,s){return a("el-option",{key:s,attrs:{label:e._f("capitalize")(t),value:s}})}),1)],1),e._v(" "),a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("\n                Year\n                "),1950!==e.year?a("span",{staticClass:"value"},[a("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.year=1950}}}),e._v("\n                    "+e._s(e.year)+"\n                ")]):e._e()]),e._v(" "),a("el-slider",{attrs:{min:1950,max:2020},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}})],1),e._v(" "),a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("Sort")]),e._v(" "),a("el-select",{attrs:{placeholder:"Sort",size:"small"},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}},e._l(e.sortOptions,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),e._v(" "),a("el-tooltip",{attrs:{content:"Open Random List Entry (Filter Compatible)",placement:"top-start"}},[e.isAuthUsersList?a("div",{staticClass:"random-btn",on:{click:e.getRandom}},[a("font-awesome-icon",{attrs:{icon:"random","fixed-width":""}})],1):e._e()]),e._v(" "),e.auth&&!e.isAuthUsersList?a("router-link",{staticClass:"filter-group compare-btn",attrs:{to:{name:"MediaListCompare",params:{type:e.type.toLowerCase()}}}},[e._v("\n            Compare with your list\n        ")]):e._e()],1)])},ec=[],tc=a("20cf"),ac=a.n(tc),sc=a("ceac"),ic=a.n(sc),nc=a("1516"),rc=a.n(nc),oc={all:["Watching","Reading","Rewatching","Rereading","Completed","Completed TV","Completed Movie","Completed OVA","Completed ONA","Completed TV Short","Completed Special","Completed Music","Completed Manga","Completed Novel","Completed One Shot","Paused","Dropped","Planning"],mixed:{anime:["Watching","Rewatching","Completed","Completed TV","Completed Movie","Completed OVA","Completed ONA","Completed TV Short","Completed Special","Completed Music","Paused","Dropped","Planning"],manga:["Reading","Rereading","Completed","Completed Manga","Completed Novel","Completed One Shot","Paused","Dropped","Planning"]},nonSplit:{anime:["Watching","Rewatching","Completed","Paused","Dropped","Planning"],manga:["Reading","Rereading","Completed","Paused","Dropped","Planning"]},split:{anime:["Watching","Rewatching","Completed TV","Completed Movie","Completed OVA","Completed ONA","Completed TV Short","Completed Special","Completed Music","Paused","Dropped","Planning"],manga:["Reading","Rereading","Completed Manga","Completed Novel","Completed One Shot","Paused","Dropped","Planning"]}},cc={props:["entrySort","entryFilters","sectionFilter","sectionNames","type","options","isAuthUsersList"],components:{FontAwesomeIcon:p.a,ElInput:Xa.a,ElSelect:Ja.a,ElOption:Wa.a,ElSlider:ac.a,Draggable:rc.a},mixins:[M["a"]],data(){return{filter:null,sortingLists:!1,sectionOrder:[],sortOptions:{Title:"title",Score:"score",Progress:"progress","Last Updated":"updatedAt","Last Added":"id","Start Date":"startedAt:date","Completed Date":"completedAt:date","Release Date":"media.startDate:date","Average Score":"media.averageScore",Popularity:"media.popularity"},formatOptions:{ANIME:["TV","TV_SHORT","MOVIE","SPECIAL","OVA","ONA","MUSIC"],MANGA:["MANGA","NOVEL","ONE_SHOT"]},statusOptions:["FINISHED","RELEASING","NOT_YET_RELEASED","CANCELLED"],countryOptions:{JP:"Japan",KR:"Korea",CN:"China"},showMobileNav:!1}},computed:{sort:{get(){return this.entrySort},set(e){this.$store.dispatch("medialist/resetListLimit"),this.$emit("update:entrySort",e)}},title:{get(){return this.entryFilters.title},set(e){this.$store.dispatch("medialist/resetListLimit"),this.$emit("update:entryFilters",Object(Re["a"])({},this.entryFilters,{title:e}))}},format:{get(){return this.entryFilters.format},set(e){this.$store.dispatch("medialist/resetListLimit"),this.$emit("update:entryFilters",Object(Re["a"])({},this.entryFilters,{format:""==e?null:e}))}},status:{get(){return this.entryFilters.status},set(e){this.$store.dispatch("medialist/resetListLimit"),this.$emit("update:entryFilters",Object(Re["a"])({},this.entryFilters,{status:""==e?null:e}))}},country:{get(){return this.entryFilters.country},set(e){this.$store.dispatch("medialist/resetListLimit"),this.$emit("update:entryFilters",Object(Re["a"])({},this.entryFilters,{country:""==e?null:e}))}},year:{get(){return this.entryFilters.year},set(e){this.$store.dispatch("medialist/resetListLimit"),this.$emit("update:entryFilters",Object(Re["a"])({},this.entryFilters,{year:e}))}},mobileNavVisibility(){return this.$store.state.screen.isDesktop||this.showMobileNav}},methods:{setSectionFilter(e){this.$store.dispatch("medialist/resetListLimit"),this.$emit("update:sectionFilter",e);const t=this.$route.params,a=t.id,s=t.type,i="all"==e?"":e;window.history.replaceState({},null,`/user/${a}/${s}list/${i}`)},setSectionOrder(){let e=this.options.sectionOrder.slice(0);const t=this.type.toLowerCase(),a=this.options.customLists,s=this.options.splitCompletedSectionByFormat,i=oc[s?"split":"nonSplit"][t];if(0==e.length)e=i;else{const t=ic()(i,e);e=e.concat(t)}e=s?e.filter(e=>"Completed"!=e):e.filter(e=>!e.startsWith("Completed ")),e=e.filter(e=>oc.mixed[t].includes(e)||a.includes(e)),a.forEach(t=>{e.includes(t)||e.push(t)}),this.sectionOrder=e},async saveSectionOrder(){const e={};e[`${this.type.toLowerCase()}ListOptions`]={sectionOrder:this.sectionOrder},await this.$store.dispatch("medialist/updateListSettings",e),this.sortingLists=!1,this.$emit("reorder",this.sectionOrder)},getRandom(){this.$emit("random")}},created(){this.setSectionOrder()}},lc=cc,dc=(a("062e"),Object(b["a"])(lc,Xo,ec,!1,null,"c8b42876",null)),uc=dc.exports,mc={name:"MediaList",props:["id","type","section","user"],components:{ListFilters:uc,ListSection:Zo,FontAwesomeIcon:p.a},mixins:[M["a"]],data(){return{sectionFilter:"all",entryFilters:{title:null,format:null,status:null,year:null},entrySort:"score",sectionNames:{ANIME:null,MANGA:null},theme:null,newSectionOrder:null}},computed:{mediaList(){let e=this.$store.getters["medialist/find"](this.id,this.type);return!!e&&(this.entrySort=e.user.mediaListOptions.rowOrder,e=e.lists,e=this.sortListSections(e),this.sectionNames[this.type]||(this.setSectionNames(e),this.setTheme()),e=this.filterListSections(e),d()(this.entryFilters).map(t=>{e=this.filterListEntries(e,t)}),e)},options(){const e=this.$store.getters["medialist/find"](this.id,this.type);return e.user.mediaListOptions},isAuthUsersList(){return!!this.auth&&(this.id==this.auth.id||this.id==this.auth.name)}},methods:{fetchMediaList(e){return this.$store.dispatch("medialist/fetchMedialist",e)},getUserIdObject(e){return isNaN(e)?{userName:e}:{userId:e}},filterListEntries(e,t){if(null===this.entryFilters[t]||1950===this.entryFilters[t])return e;const a=[],s=this.entryFilters[t],i={title:this.search(s),format:e=>e.media.format==s,status:e=>e.media.status==s,year:e=>e.media.startDate.year==s,country:e=>e.media.countryOfOrigin==s};return e.map(e=>{a.push({name:e.name,isCustomList:e.isCustomList,isCompletedList:e.isCompletedList,entries:e.entries.filter(i[t])})}),a},search:e=>t=>{const a=e.toLowerCase(),s=t.notes?t.notes.toLowerCase():"";return s.includes(a)||t.media.title.userPreferred.toLowerCase().includes(a)},filterListSections(e){return"all"===this.sectionFilter?e:e.filter(e=>e.name.includes(this.sectionFilter))},sortListSections(e){let t=this.newSectionOrder||this.options[`${this.type.toLowerCase()}List`].sectionOrder;return t[0]||(t=oc.all),mt()(e,e=>{const a=t.findIndex(t=>e.name.toLowerCase()===t.toLowerCase());return-1===a?99:a})},setSectionNames(e){let t=null;const a=[{name:"all",count:0}];e.map(e=>{e.isCompletedList?(null===t&&(t=a.length,a.push({name:"Completed",count:0})),a[t].count+=e.entries.length):a.push({name:e.name,count:e.entries.length}),a[0].count+=e.entries.length}),this.sectionNames[this.type]=a},setTheme(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t={list:["table"],"list-compact":["compact","table"],cards:["cards"],covers:["cards"],cardstock:["cards"],"multi-column":["table"]};if(null===e?e=this.options[`${this.type.toLowerCase()}List`].theme.theme:this.$store.dispatch("medialist/resetListLimit"),this.theme=t[e],null!==e&&this.isAuthUsersList){const t=Object(Re["a"])({},this.getUserIdObject(this.id),{type:this.type,theme:e});t[`${this.type.toLowerCase()}ListOptions`]={theme:e},this.$store.dispatch("medialist/updateListSettings",t)}},reorder(e){this.sectionNames[this.type]=null,this.newSectionOrder=e},openRandomEntry(){const e=Co()(this.mediaList),t=Co()(e.entries);window.open(`https://anilist.co${this.formatMediaUrl(t.media,!0)}`,"_blank")}},created(){this.$store.dispatch("medialist/resetListLimit"),this.fetchMediaList(Object(Re["a"])({},this.getUserIdObject(this.id),{type:this.type.toUpperCase()})),this.section&&(this.sectionFilter=this.section)},beforeRouteUpdate(e,t,a){this.fetchMediaList(Object(Re["a"])({},this.getUserIdObject(e.params.id),{type:e.params.type.toUpperCase()})),this.$store.dispatch("medialist/resetListLimit"),this.theme=null,this.newSectionOrder=null,this.sectionFilter="all",this.sectionNames={ANIME:null,MANGA:null},this.entryFilters={title:null,format:null,status:null,year:null},a()},serverPrefetch(){return this.fetchMediaList(Object(Re["a"])({},this.getUserIdObject(this.id),{type:this.type.toUpperCase()}))},metaInfo(){if(!this.user.id)return{};const e=this.type.toLowerCase();return{title:`${this.user.name}'s ${e} list`,meta:[{property:"og:title",content:`${this.user.name}'s ${e} list`},{property:"og:description",content:`${this.user.name}'s AniList ${e} list`},{property:"og:image",content:this.user.avatar.large},{property:"og:url",content:`https://anilist.co${this.$route.path}`}],link:[{rel:"canonical",href:`https://anilist.co${this.formatUserUrl(this.user,!0)}/${e}list`}]}}},pc=mc,hc=(a("86cc5"),Object(b["a"])(pc,_o,bo,!1,null,"75db4796",null)),vc=hc.exports,fc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-stats user-stats-unscoped"},[e.stats?[a("div",{staticClass:"filters"},[a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("Stats")]),e._v(" "),a("span",{class:{active:"overview"==e.currentPage},on:{click:function(t){return e.setPage("overview")}}},[e._v("Overview")]),e._v(" "),e.stats.favouredGenres[0]?a("span",{class:{active:"genres"==e.currentPage},on:{click:function(t){return e.setPage("genres")}}},[e._v("Genres & Tags")]):e._e(),e._v(" "),e.stats.favouredActors[0]?a("span",{class:{active:"actors"==e.currentPage},on:{click:function(t){return e.setPage("actors")}}},[e._v("Voice Actors")]):e._e(),e._v(" "),e.stats.favouredStaff[0]?a("span",{class:{active:"staff"==e.currentPage},on:{click:function(t){return e.setPage("staff")}}},[e._v("Staff")]):e._e(),e._v(" "),e.stats.favouredStudios[0]?a("span",{class:{active:"studios"==e.currentPage},on:{click:function(t){return e.setPage("studios")}}},[e._v("Studios")]):e._e()])]),e._v(" "),e.stats.animeStatusDistribution?a("div",{staticClass:"stats-wrap"},["overview"==e.currentPage?[a("status-distribution",{attrs:{anime:e.stats.animeStatusDistribution,manga:e.stats.mangaStatusDistribution}}),e._v(" "),a("score-distribution",{attrs:{anime:e.stats.animeScoreDistribution,manga:e.stats.mangaScoreDistribution}}),e._v(" "),a("favoured-years",{attrs:{yearData:e.stats.favouredYears,type:"amount"}}),e._v(" "),a("favoured-years",{attrs:{yearData:e.stats.favouredYears,type:"meanScore"}})]:e._e(),e._v(" "),"genres"==e.currentPage?a("favoured-table",{attrs:{"stat-data":e.stats.favouredGenres,name:"Genre"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"Search",params:{type:"anime"},query:{includedGenres:t.stat.genre,onList:!0}}}},[e._v(e._s(t.stat.genre))])]}}],null,!1,285750201)}):e._e(),e._v(" "),"genres"==e.currentPage?a("favoured-table",{attrs:{"stat-data":e.stats.favouredTags,name:"Tag"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"Search",params:{type:"anime"},query:{includedTags:t.stat.tag.name,onList:!0}}}},[e._v(e._s(t.stat.tag.name))])]}}],null,!1,2236589008)}):e._e(),e._v(" "),"actors"==e.currentPage?a("favoured-table",{attrs:{"stat-data":e.stats.favouredActors,name:"Voice Actor",image:"staff"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:e.formatStaffUrl(t.stat.staff,!0)}},[e._v(e._s(t.stat.staff.name.first)+" "+e._s(t.stat.staff.name.last))])]}}],null,!1,680344877)}):e._e(),e._v(" "),"staff"==e.currentPage?a("favoured-table",{attrs:{"stat-data":e.stats.favouredStaff,name:"Staff",image:"staff"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:e.formatStaffUrl(t.stat.staff,!0)}},[e._v(e._s(t.stat.staff.name.first)+" "+e._s(t.stat.staff.name.last))])]}}],null,!1,680344877)}):e._e(),e._v(" "),"studios"==e.currentPage?a("favoured-table",{attrs:{"stat-data":e.stats.favouredStudios,name:"Studio"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:e.formatStudioUrl(t.stat.studio,!0)}},[e._v(e._s(t.stat.studio.name))])]}}],null,!1,3440297205)}):e._e()],2):e._e()]:e.loading?e._e():[a("div"),e._v(" "),a("div",{staticClass:"no-stats"},[a("b",[e._v("No stats yet ()")]),e._v(" "),a("br"),e._v("\n            Stats are automatically generated every 24 hours. "),a("br"),e._v(" "),a("span",[e._v("(You can manually force a stats update in "),a("router-link",{attrs:{to:"/settings/lists"}},[e._v('Settings->Lists by clicking the "Update Stats" button')]),e._v(").")],1)])]],2)},gc=[],yc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.anime||null!=e.manga?a("div",[a("h2",[e._v("Status Distribution")]),e._v(" "),a("div",{staticClass:"status-distribution"},[a("div",{ref:"chart",staticClass:"chart"}),e._v(" "),e._m(0)])]):e._e()},_c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"key"},[a("div",[e._v("Anime")]),e._v(" "),a("div",[e._v("Manga")])])}],bc={props:["anime","manga"],data(){return{chart:null,labels:[],dataSets:{anime:[],manga:[]},options:{height:180,width:"100%",showGrid:!1,seriesBarDistance:30,chartPadding:{top:35,right:25,bottom:-10,left:15}}}},methods:{createDataSet(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.map(t=>{this.dataSets[e].push(t.amount),a&&this.labels.push(Object(Is["capitalize"])(t.status))})},renderChart(){this.chart=new xi["a"].Bar(this.$refs.chart,{labels:this.labels,series:Ss()(this.dataSets)},this.options),Object(xi["b"])(this.chart)}},mounted(){this.anime[0]&&this.createDataSet("anime",this.anime),this.manga[0]&&this.createDataSet("manga",this.manga,!1),this.renderChart()}},wc=bc,Cc=(a("fbf7"),a("a7e2"),Object(b["a"])(wc,yc,_c,!1,null,"8b143426",null)),Sc=Cc.exports,$c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.anime||null!=e.manga?a("div",[a("h2",[e._v("Score Distribution")]),e._v(" "),a("div",{staticClass:"score-distribution"},[a("div",{ref:"chart",staticClass:"chart"}),e._v(" "),e._m(0)])]):e._e()},kc=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"key"},[a("div",[e._v("Anime")]),e._v(" "),a("div",[e._v("Manga")])])}],Ic={props:["anime","manga"],data(){return{chart:null,mergedData:{},labels:{},dataSets:{anime:[],manga:[]},options:{height:180,width:"100%",showGrid:!1,seriesBarDistance:30,chartPadding:{top:35,right:25,bottom:-10,left:15}}}},methods:{mergeDataSets(e,t,a){t.map((t,s)=>{this.mergedData[t.score]||(this.mergedData[t.score]={}),this.mergedData[t.score][e]=t.amount,this.mergedData[t.score][a]||(this.mergedData[t.score][a]=0)})},createDataSet(){this.labels=d()(this.mergedData),this.labels.forEach(e=>{void 0!==typeof this.mergedData[e].anime&&this.dataSets.anime.push(this.mergedData[e].anime),void 0!==typeof this.mergedData[e].manga&&this.dataSets.manga.push(this.mergedData[e].manga)})},renderChart(){this.chart=new xi["a"].Bar(this.$refs.chart,{labels:this.labels,series:Ss()(this.dataSets)},this.options),Object(xi["b"])(this.chart)}},mounted(){this.anime[0]&&this.mergeDataSets("anime",this.anime,"manga"),this.manga[0]&&this.mergeDataSets("manga",this.manga,"anime"),this.createDataSet(),this.renderChart()}},Ac=Ic,Ec=(a("8521"),a("8791"),Object(b["a"])(Ac,$c,kc,!1,null,"280c1857",null)),xc=Ec.exports,Oc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 0!=e.yearData.length?a("div",["amount"==e.type?a("h2",[e._v("Years by watched & read")]):a("h2",[e._v("Years by score")]),e._v(" "),a("div",{ref:"chart",staticClass:"chart years-chart"})]):e._e()},Pc=[],Tc={props:["yearData","type"],data(){return{chart:null,labels:[],dataSet:[],options:{width:"100%",showArea:!0,lineSmooth:xi["a"].Interpolation.cardinal({tension:3}),chartPadding:{top:20,right:25,bottom:0,left:15}}}},methods:{createDataSet(){mt()(this.yearData,["year"]).map(e=>{this.labels.push(e.year),this.dataSet.push(e[this.type])})},renderChart(){this.chart=new xi["a"].Line(this.$refs.chart,{labels:this.labels,series:[this.dataSet]},this.options),Object(xi["b"])(this.chart)}},mounted(){0!=this.yearData.length&&(this.createDataSet(),this.renderChart())}},Lc=Tc,Mc=(a("c8f7"),Object(b["a"])(Lc,Oc,Pc,!1,null,null,null)),Nc=Mc.exports,Dc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v(e._s(e.name)+"s")]),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"header row"},[a("div",{on:{click:function(t){return e.sort("name")}}},[e._v(e._s(e.name)+" "),"name"==e.sortBy?a("font-awesome-icon",{attrs:{icon:"angle-down"}}):e._e()],1),e._v(" "),a("div",{on:{click:function(t){return e.sort("amount")}}},[e._v("Count "),"amount"==e.sortBy?a("font-awesome-icon",{attrs:{icon:"angle-down"}}):e._e()],1),e._v(" "),a("div",{on:{click:function(t){return e.sort("meanScore")}}},[e._v("Mean Score "),"meanScore"==e.sortBy?a("font-awesome-icon",{attrs:{icon:"angle-down"}}):e._e()],1),e._v(" "),a("div",{on:{click:function(t){return e.sort("timeWatched")}}},[e._v("Time Watched "),"timeWatched"==e.sortBy?a("font-awesome-icon",{attrs:{icon:"angle-down"}}):e._e()],1)]),e._v(" "),e._l(e.stats,function(t,s){return a("div",{key:s,staticClass:"row"},[a("div",[e.image?a("div",{staticClass:"image",style:{"background-image":"url("+t[e.image].image.large+")"}}):e._e(),e._v(" "),a("div",{staticClass:"count"},[e._v(e._s(s+1))]),e._v(" "),e._t("default",null,{stat:t})],2),e._v(" "),a("div",[e._v(e._s(t.amount))]),e._v(" "),a("div",[e._v(e._s(t.meanScore))]),e._v(" "),a("div",[e._v(e._s(e.formatTime(t.timeWatched)))])])})],2)])},Rc=[],jc={props:["statData","name","image"],components:{FontAwesomeIcon:p.a},data(){return{sortBy:"meanScore"}},computed:{stats(){return ss()(this.statData,["name"==this.sortBy?this.nameType:this.sortBy],"name"==this.sortBy?"asc":"desc")}},methods:{sort(e){this.sortBy=e},formatTime(e){return`${Math.floor(e/60)}h`}}},Fc=jc,Uc=(a("9304"),Object(b["a"])(Fc,Dc,Rc,!1,null,"e2beaf26",null)),zc=Uc.exports,qc={name:"userStats",components:{StatusDistribution:Sc,ScoreDistribution:xc,FavouredYears:Nc,FavouredTable:zc},props:["id"],data(){return{currentPage:"overview",loading:!0}},computed:{stats(){return this.$store.getters["user/stats"](this.id)}},methods:{async fetchStats(){try{await this.$store.dispatch("user/fetchStats",this.getUserIdObject(this.id)),this.loading=!1}catch(e){this.loading=!1}},getUserIdObject(e){return isNaN(e)?{name:e}:{id:e}},setPage(e){this.currentPage=e}},created(){this.fetchStats()}},Bc=qc,Vc=(a("ec81"),Object(b["a"])(Bc,fc,gc,!1,null,"fafd368e",null)),Gc=Vc.exports,Yc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-reviews"},[e.reviews.pageData?a("div",{staticClass:"review-wrap"},[e._l(e.reviews.pageData,function(t){return e._l(t,function(e){return a("review-card",{key:e.id,attrs:{review:e}})})})],2):e._e(),e._v(" "),e.hasNextPage?a("scroll-load",{ref:"scroll",attrs:{action:e.fetchReviews,limit:2,paused:e.paused},on:{"update:paused":function(t){e.paused=t}}}):e._e(),e._v(" "),!e.loading&&e.reviews.pageInfo&&0==e.reviews.pageInfo.total?a("div",{staticClass:"no-reviews"},[e._v("\n        No reviews yet ()\n    ")]):e._e()],1)},Hc=[],Qc={props:["user"],components:{ReviewCard:Ot},mixins:[st["a"]],computed:{reviews(){return this.$store.getters["user/reviews"](this.user.id,this.page)}},methods:{async fetchReviews(){this.hasNextPage=await this.$store.dispatch("user/fetchReviews",{id:this.user.id,page:this.page})}}},Wc=Qc,Kc=(a("1076"),Object(b["a"])(Wc,Yc,Hc,!1,null,"d9887750",null)),Jc=Kc.exports,Zc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-social user-social-unscoped"},[a("div",{staticClass:"filters"},[a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("Social")]),e._v(" "),a("span",{class:{active:"following"==e.currentPage},on:{click:function(t){return e.setPage("following")}}},[e._v("Following")]),e._v(" "),a("span",{class:{active:"followers"==e.currentPage},on:{click:function(t){return e.setPage("followers")}}},[e._v("Followers")]),e._v(" "),a("span",{class:{active:"forum-threads"==e.currentPage},on:{click:function(t){return e.setPage("forum-threads")}}},[e._v("Forum Threads")]),e._v(" "),a("span",{class:{active:"forum-comments"==e.currentPage},on:{click:function(t){return e.setPage("forum-comments")}}},[e._v("Forum Comments")])])]),e._v(" "),"following"==e.currentPage?a("follow",{key:"following",attrs:{id:e.user.id,type:"following"}}):"followers"==e.currentPage?a("follow",{key:"followers",attrs:{id:e.user.id,type:"followers"}}):"forum-threads"==e.currentPage?a("threads",{attrs:{id:e.user.id}}):"forum-comments"==e.currentPage?a("comments",{attrs:{id:e.user.id}}):e._e()],1)},Xc=[],el=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-follow"},[e.follows.pageData?a("div",{staticClass:"wrap"},[e._l(e.follows.pageData,function(t){return e._l(t,function(t){return a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.avatar.large,expression:"user.avatar.large",arg:"background-image"}],key:t.id,staticClass:"user"},[a("router-link",{staticClass:"name",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(t)}}},[e._v(e._s(t.name))])],1)})})],2):e._e(),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchFollows}})],1)},tl=[],al={props:{id:{type:Number,required:!0},type:{type:String,required:!0}},mixins:[st["a"]],computed:{follows(){return this.$store.getters["user/follows"](this.id,this.type,this.page)}},methods:{async fetchFollows(){this.hasNextPage=await this.$store.dispatch("user/fetchFollows",{id:this.id,type:this.type,page:this.page})}}},sl=al,il=(a("caa5"),Object(b["a"])(sl,el,tl,!1,null,"027f94a4",null)),nl=il.exports,rl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-threads"},[e.threads.pageData?a("div",{staticClass:"wrap"},[e._l(e.threads.pageData,function(t){return e._l(t,function(e){return a("thread-card",{key:e.id,attrs:{thread:e}})})})],2):e._e(),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchThreads}})],1)},ol=[],cl={props:{id:{type:Number,required:!0}},mixins:[st["a"]],components:{ThreadCard:ea},computed:{threads(){return this.$store.getters["user/threads"](this.id,this.page)}},methods:{async fetchThreads(){this.hasNextPage=await this.$store.dispatch("user/fetchThreads",{id:this.id,page:this.page})}}},ll=cl,dl=(a("5753"),Object(b["a"])(ll,rl,ol,!1,null,"6bae2132",null)),ul=dl.exports,ml=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-comments"},[e.comments.pageData?a("div",{staticClass:"wrap"},[e._l(e.comments.pageData,function(t){return[e._l(t,function(t){return[t.thread?[a("router-link",{key:t.id+"-"+t.thread.id,staticClass:"title",attrs:{to:{name:"ForumThread",params:{id:t.thread.id}}}},[e._v("\n                        "+e._s(t.thread.title)+"\n                    ")]),e._v(" "),a("comment-card",{key:t.id,attrs:{comment:t,depth:0}})]:e._e()]})]})],2):e._e(),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchComments}})],1)},pl=[],hl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.comment.id?a("div",{staticClass:"comment-wrap",class:e.depthClass},[a("div",{staticClass:"comment"},[e.comment.user?a("div",{staticClass:"header"},[a("router-link",{staticClass:"user",attrs:{to:e.formatUserUrl(e.comment.user,!0)}},[a("div",{staticClass:"avatar",style:e.avatar}),e._v("\n                "+e._s(e.comment.user.name)+"\n            ")]),e._v(" "),a("timeago",{staticClass:"time",attrs:{since:1e3*e.comment.createdAt,"auto-update":60}}),e._v(" "),e.isDataMod(e.comment.user)?a("div",{staticClass:"mod-badge"},[e._v(e._s(e.comment.user.moderatorStatus))]):e._e(),e._v(" "),e.comment.user.donatorTier?a("div",{staticClass:"mod-badge donator-badge",class:{rainbow:e.comment.user.donatorTier>4}},[e._v("\n                "+e._s(e.comment.user.donatorTier>3?e.comment.user.donatorBadge:"Donator")+"\n            ")]):e._e(),e._v(" "),a("div",{staticClass:"actions"},[e.isMod()||e.auth.id==e.comment.user.id?a("span",{staticClass:"edit hidden",on:{click:e.edit}},[e._v("Edit")]):e._e(),e._v(" "),a("router-link",{staticClass:"hidden",attrs:{to:{name:"ForumThreadComment",params:{id:e.comment.threadId,commentId:e.comment.id}}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"link"}})],1),e._v(" "),e.auth&&e.auth.id!=e.comment.user.id?a("span",{staticClass:"edit hidden",on:{click:e.reportComment}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"exclamation"}})],1):e._e(),e._v(" "),a("likes",{attrs:{likes:e.comment.likes,id:e.comment.id,type:"thread_comment"}},[a("font-awesome-icon",{staticClass:"icon like",attrs:{icon:"heart"}})],1),e._v(" "),a("font-awesome-icon",{staticClass:"icon reply",attrs:{icon:"reply"},on:{click:e.reply}})],1)],1):e._e(),e._v(" "),a("markdown",{attrs:{markdown:e.comment.comment}})],1),e._v(" "),null!==e.comment.childComments?a("div",{staticClass:"children"},e._l(e.comment.childComments,function(t){return a("forum-comment",{key:t.id,attrs:{comment:t,depth:e.depth+1}})}),1):e._e()]):e._e()},vl=[],fl=a("2840"),gl={name:"forumComment",components:{Likes:fl["a"],Markdown:Rr["a"],FontAwesomeIcon:p.a},mixins:[M["a"]],props:["comment","depth"],computed:{avatar(){return{"background-image":`url(${this.comment.user.avatar.large})`}},depthClass(){const e=[`depth-${this.depth}`,this.depth%2==0?"even":"odd"];return 0!=this.depth&&e.push("child"),null==this.comment.childComments&&e.push("leaf"),e}},methods:{reply(){this.$store.dispatch("forumThread/setCommentEditor",{active:!0,comment:{parentCommentId:this.comment.id,threadId:this.comment.threadId,comment:""}})},edit(){this.$store.dispatch("forumThread/setCommentEditor",{active:!0,comment:{id:this.comment.id,threadId:this.comment.threadId,comment:this.comment.comment}})},reportComment(){this.$prompt("Reason for report","Report Forum Comment",{confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then(e=>{this.$store.dispatch("user/createReport",{userId:this.comment.user.id,reason:`${e.value}\n                    Parent Url: https://anilist.co/forum/thread/${this.comment.threadId}/comment/${this.comment.id}\n                    Comment Text: ${this.comment.comment}`})})}}},yl=gl,_l=(a("1cac"),Object(b["a"])(yl,hl,vl,!1,null,"4558821a",null)),bl=_l.exports,wl={props:{id:{type:Number,required:!0}},mixins:[st["a"]],components:{CommentCard:bl},computed:{comments(){return this.$store.getters["user/comments"](this.id,this.page)}},methods:{async fetchComments(){this.hasNextPage=await this.$store.dispatch("user/fetchComments",{id:this.id,page:this.page})}}},Cl=wl,Sl=(a("5036"),Object(b["a"])(Cl,ml,pl,!1,null,"7ed47872",null)),$l=Sl.exports,kl={components:{Follow:nl,Threads:ul,Comments:$l},props:["user"],data(){return{currentPage:"following"}},methods:{setPage(e){this.currentPage=e}}},Il=kl,Al=(a("2849"),Object(b["a"])(Il,Zc,Xc,!1,null,"236fbdde",null)),El=Al.exports,xl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.user.id?a("div",{staticClass:"favourites"},e._l(e.types,function(t,s){return e.show(t,s)?a("favourites",{key:t,attrs:{user:e.user,type:t},on:{finished:e.setFinished}}):e._e()}),1):e._e()},Ol=[],Pl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"favourites",class:{sorting:e.sorting}},[0!=e.sortedFavourites.length?a("h2",{staticClass:"section-header"},[e._v("\n        "+e._s(e.type)+"\n        "),e.isAuthUser?a("div",{staticClass:"actions"},[e.sorting?[a("div",{staticClass:"cancel",on:{click:e.cancelSorting}},[e._v("Cancel")]),e._v(" "),a("div",{on:{click:e.saveFavouriteOrder}},[e._v("Save Order")])]:a("div",{on:{click:function(t){e.sorting=!0}}},[e._v("Reorder")])],2):e._e()]):e._e(),e._v(" "),0!=e.sortedFavourites.length?[e.sorting?[a("draggable",{staticClass:"favourites-wrap",class:e.type,attrs:{list:e.sortedFavourites}},e._l(e.sortedFavourites,function(t,s){return a("favourite",{key:s,attrs:{favourite:t.node,type:e.type,disabled:!0}})}),1)]:a("div",{staticClass:"favourites-wrap",class:e.type},e._l(e.sortedFavourites,function(t,s){return a("favourite",{key:s,attrs:{favourite:t.node,type:e.type}})}),1)]:e._e(),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchFavourites}})],2)},Tl=[],Ll=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"anime"==e.type||"manga"==e.type?a("media-preview-card",{attrs:{media:e.favourite,showInfo:!1}}):"studios"==e.type?a("router-link",{staticClass:"favourite studio",attrs:{to:{name:"Studio",params:e.formatStudioUrl(e.favourite)},event:e.disabled?"":"click"}},[e._v(e._s(e.favourite.name))]):a("el-tooltip",{attrs:{content:e.favourite.name.first+" "+(e.favourite.name.last||""),placement:"top",disabled:e.disabled}},["characters"==e.type?a("router-link",{staticClass:"favourite",style:e.staffImage,attrs:{to:{name:"Character",params:e.formatCharacterUrl(e.favourite)},event:e.disabled?"":"click"}}):"staff"==e.type?a("router-link",{staticClass:"favourite",style:e.staffImage,attrs:{to:{name:"Staff",params:e.formatStaffUrl(e.favourite)},event:e.disabled?"":"click"}}):e._e()],1)},Ml=[],Nl={props:["favourite","type","disabled"],components:{MediaPreviewCard:yt},computed:{staffImage(){if("staff"==this.type||"characters"==this.type)return{"background-image":`url(${this.favourite.image.large})`}}}},Dl=Nl,Rl=(a("d4bb"),Object(b["a"])(Dl,Ll,Ml,!1,null,"8cc56fc6",null)),jl=Rl.exports,Fl={components:{Favourite:jl,Draggable:rc.a},mixins:[M["a"],st["a"]],props:["user","type"],data(){return{sorting:!1,sortedFavourites:[]}},computed:{favourites(){return this.$store.getters["user/favourites"](this.user.id,this.type,this.page)},isAuthUser(){return this.auth&&this.user.id==this.auth.id}},methods:{async fetchFavourites(){this.hasNextPage=await this.$store.dispatch("user/fetchFavourites",{id:this.user.id,type:this.type,page:this.page}),this.hasNextPage||this.$emit("finished",this.type)},async saveFavouriteOrder(){const e="characters"==this.type||"studios"==this.type?this.type.slice(0,-1):this.type,t={};t[`${e}Ids`]=this.sortedFavourites.map(e=>e.node.id),t[`${e}Order`]=this.sortedFavourites.map((e,t)=>t+1),await this.$store.dispatch("user/updateFavouriteOrder",t),this.sorting=!1,this.$notify({type:"success",message:"Favorites order saved"})},sortFavourites(){let e=[];if(!this.favourites.pageData)return[];for(let t in this.favourites.pageData)e=e.concat(this.favourites.pageData[t]);this.sortedFavourites=mt()(e,e=>e.favouriteOrder)},cancelSorting(){this.sorting=!1,this.sortFavourites()}},watch:{favourites(e){e.pageData&&this.sortFavourites()}},created(){this.$route.query.reorder&&this.isAuthUser&&(this.sorting=!0)}},Ul=Fl,zl=(a("4c86"),Object(b["a"])(Ul,Pl,Tl,!1,null,"52aa9c44",null)),ql=zl.exports,Bl={props:["user"],data(){return{types:["anime","manga","characters","staff","studios"],finished:{anime:!1,manga:!1,characters:!1,staff:!1,studios:!1}}},components:{Favourites:ql},computed:{},methods:{show(e,t){return"anime"==e||this.finished[this.types[t-1]]},setFinished(e){this.finished[e]=!0}}},Vl=Bl,Gl=(a("5a44"),Object(b["a"])(Vl,xl,Ol,!1,null,"d279ccf2",null)),Yl=Gl.exports,Hl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submissions"},[a("div",{staticClass:"filters"},[a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("Submissions")]),e._v(" "),a("span",{class:{active:"anime"==e.currentPage},on:{click:function(t){return e.setPage("anime")}}},[e._v("Anime")]),e._v(" "),a("span",{class:{active:"manga"==e.currentPage},on:{click:function(t){return e.setPage("manga")}}},[e._v("Manga")]),e._v(" "),a("span",{class:{active:"characters"==e.currentPage},on:{click:function(t){return e.setPage("characters")}}},[e._v("Characters")]),e._v(" "),a("span",{class:{active:"staff"==e.currentPage},on:{click:function(t){return e.setPage("staff")}}},[e._v("Staff")])])]),e._v(" "),a("submissions",{attrs:{id:e.user.id,type:e.currentPage}})],1)},Ql=[],Wl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submissions-page"},[e.submissions?a("div",{staticClass:"submissions-wrap",class:e.type},[e._l(e.submissions.pageData,function(t){return e._l(t,function(t,s){return a("submission",{key:s,staticClass:"submission",attrs:{submission:t,type:e.submissionType}})})}),e._v(" "),e.submissions.pageInfo&&0==e.submissions.pageInfo.total?a("div",{staticClass:"no-submissions"},[e._v("\n            No "+e._s(e.type)+" submissions yet ()\n        ")]):e._e()],2):e._e(),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchSubmissions}})],1)},Kl=[],Jl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.submission?a("router-link",{staticClass:"submission",attrs:{to:e.url}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.image,expression:"image",arg:"background-image"}],staticClass:"cover"}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"status",class:e.submission.status.toLowerCase()},[e._v("\n            "+e._s(e._f("capitalize")(e.submission.status))+"\n        ")]),e._v(" "),e.submission.notes?a("div",{staticClass:"notes"},[e._v("Mod Notes: "+e._s(e.submission.notes))]):e._e(),e._v(" "),a("timeago",{staticClass:"time",attrs:{since:1e3*e.submission.createdAt,"auto-update":60}})],1)]):e._e()},Zl=[],Xl={name:"submission",props:["submission","type"],computed:{media(){if(this.submission.media)return this.submission.media;const e=this.submission.submission.coverImage.large.replace(/.+?(?=http)/,"");return Object(Re["a"])({},this.submission.submission,{coverImage:{large:e}})},character(){return this.submission.character},staff(){return this.submission.staff},url(){return"media"!==this.type?`/${this.type}/${this[this.type].id}`:`/${this.media.type.toLowerCase()}/${this.media.id}`},title(){if("media"==this.type)return this.media.title.userPreferred;const e=this[this.type].name,t=e.first,a=e.last;return`${t||""} ${a||""}`},image(){return"media"==this.type?this.media.coverImage.large:this[this.type].image.large}}},ed=Xl,td=(a("969e"),Object(b["a"])(ed,Jl,Zl,!1,null,"41459a9f",null)),ad=td.exports,sd={components:{Submission:ad},mixins:[M["a"],st["a"]],props:["id","type"],computed:{submissions(){return this.$store.getters["user/submissions"](this.id,this.type,this.page)},submissionType(){return"anime"==this.type||"manga"==this.type?"media":"characters"==this.type?"character":this.type}},methods:{async fetchSubmissions(){this.hasNextPage=await this.$store.dispatch("user/fetchSubmissions",{id:this.id,type:this.type,page:this.page})}},watch:{type(e){this.resetScrollLoader("loading"),this.page+=1,this.fetchSubmissions()}}},id=sd,nd=(a("7915"),Object(b["a"])(id,Wl,Kl,!1,null,"4bec0df4",null)),rd=nd.exports,od={components:{Submissions:rd},props:["user"],data(){return{currentPage:"anime"}},methods:{setPage(e){this.currentPage=e}}},cd=od,ld=(a("62e9"),Object(b["a"])(cd,Hl,Ql,!1,null,"4e9dec92",null)),dd=ld.exports,ud=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"compare"},[e.list.pageInfo&&e.list.pageInfo.total?a("div",{staticClass:"entry header"},[a("div",{staticClass:"title"},[e._v("Title")]),e._v(" "),a("div",[e._v("Your Score")]),e._v(" "),a("div",[e._v(e._s(e.user.name)+"'s score")]),e._v(" "),a("div",{staticClass:"status"},[e._v("Your Status")]),e._v(" "),a("div",{staticClass:"status"},[e._v(e._s(e.user.name)+"'s status")])]):e.loading?e._e():a("div",{staticClass:"no-results"},[e._v("\n        You don't have any "+e._s(e.type)+" in common ()\n    ")]),e._v(" "),e._l(e.list.pageData,function(t){return e._l(t,function(t){return a("div",{key:t.id,staticClass:"entry"},[a("div",{staticClass:"title"},[a("router-link",{attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(t.media)}}},[e._v("\n                    "+e._s(t.media.title.userPreferred)+"\n                ")])],1),e._v(" "),a("div",{staticClass:"score",attrs:{score:t.media.mediaListEntry.score,label:"Score"}},["POINT_3"===e.authFormat?[0!==t.media.mediaListEntry.score?a("font-awesome-icon",{attrs:{icon:["far",e.faces[t.media.mediaListEntry.score]],size:"lg"}}):e._e()]:[e._v("\n                    "+e._s(t.media.mediaListEntry.score)+"\n                    "),"POINT_5"===e.authFormat?[a("font-awesome-icon",{attrs:{icon:"star"}})]:e._e()]],2),e._v(" "),a("div",{staticClass:"score",attrs:{score:t.score,label:e.user.name+"'s Score"}},["POINT_3"===e.userFormat?[0!==t.score?a("font-awesome-icon",{attrs:{icon:["far",e.faces[t.score]],size:"lg"}}):e._e()]:[e._v("\n                    "+e._s(t.score)+"\n                    "),"POINT_5"===e.userFormat?[a("font-awesome-icon",{attrs:{icon:"star"}})]:e._e()]],2),e._v(" "),t.media.mediaListEntry.status?a("div",{staticClass:"status",attrs:{label:"Your Status"}},[e._v("\n                "+e._s(e._f("capitalize")(t.media.mediaListEntry.status))+"\n            ")]):e._e(),e._v(" "),t.status?a("div",{staticClass:"status",attrs:{label:e.user.name+"'s Status"}},[e._v("\n                "+e._s(e._f("capitalize")(t.status))+"\n            ")]):e._e()])})}),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchList}})],2)},md=[],pd={props:["user","type"],components:{FontAwesomeIcon:p.a},mixins:[M["a"],st["a"]],data(){return{faces:{1:"frown",2:"meh",3:"smile"}}},computed:{list(){return this.$store.getters["user/listComparison"](this.user.id,this.type,this.page)},userFormat(){return this.user.mediaListOptions.scoreFormat},authFormat(){return this.auth.mediaListOptions.scoreFormat}},methods:{async fetchList(){this.hasNextPage=await this.$store.dispatch("user/fetchListComparison",{id:this.user.id,page:this.page,type:this.type.toUpperCase()})}}},hd=pd,vd=(a("496e"),Object(b["a"])(hd,ud,md,!1,null,"ab79feb6",null)),fd=vd.exports,gd=[{path:"/user/:id/",component:Mr,props:!0,children:[{name:"UserOverview",path:"",component:yo},{name:"MediaList",path:":type(anime|manga)list/:section?",component:vc,props:e=>({id:e.params.id,type:e.params.type.toUpperCase(),section:e.params.section}),meta:{scrollToAnchor:!0}},{name:"UserStats",path:"stats",component:Gc,props:!0},{name:"UserReviews",path:"reviews",component:Jc},{name:"UserSocial",path:"social",component:El},{name:"UserFavourites",path:"favorites",component:Yl},{name:"UserSubmissions",path:"submissions",component:dd},{name:"MediaListCompare",path:":type(anime|manga)list/compare",component:fd,props:!0,meta:{scrollToAnchor:!0}}]}],yd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"character character-page-unscoped"},[e.character.id?a("div",[a("div",{staticClass:"container"},[e.isDesktop?a("ad",{staticClass:"sense",attrs:{type:"staff"}}):e._e(),e._v(" "),a("div",{staticClass:"header"},[a("img",{staticClass:"image",attrs:{src:e.character.image.large}}),e._v(" "),a("div",{staticClass:"content"},[a("h1",[e._v(e._s(e.character.name.first)+" "+e._s(e.character.name.last))]),e._v(" "),e.alternativeNames?a("div",{staticClass:"names"},[e._v("\n                        "+e._s(e.alternativeNames)+"\n                    ")]):e._e(),e._v(" "),e.character.description?a("markdown",{staticClass:"description",attrs:{markdown:e.character.description}}):e._e(),e._v(" "),a("favourite",{attrs:{id:e.character.id,type:"character","is-favourite":e.character.isFavourite,mutation:"character/toggleFavourite"}}),e._v(" "),e.auth?a("router-link",{staticClass:"edit",attrs:{to:"/edit/character/"+e.character.id}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"pencil-alt"}})],1):e._e()],1)])],1),e._v(" "),e.mediaRoles.pageData?a("div",{staticClass:"container grid-wrap"},[e._l(e.mediaRoles.pageData,function(t){return e._l(t,function(e){return a("role-card",{key:e.node.id,attrs:{media:e.node,staff:e.voiceActors[0],edge:{role:e.characterRole}}})})})],2):e._e()]):e._e(),e._v(" "),e.changingPage?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.fetchCharacter}})],1)},_d=[],bd=a("f942"),wd=a.n(bd),Cd=a("3185"),Sd={name:"character",components:{RoleCard:di,Markdown:Rr["a"],Favourite:Cd["a"],FontAwesomeIcon:p.a,Ad:ze["a"]},mixins:[M["a"],st["a"]],props:{id:{type:[Number,String],required:!0}},data(){return{changingPage:!1}},computed:{character(){return this.$store.getters["character/find"](this.id)},mediaRoles(){return this.$store.getters["character/roles"](this.id,this.page)},alternativeNames(){const e=this.character.name.alternative.slice(0)||[];return this.character.name.native&&e.unshift(this.character.name.native),wd()(e.join(", "),", ")},isDesktop(){return this.$store.state.screen.width>1360}},methods:{async fetchCharacter(){this.hasNextPage=await this.$store.dispatch("character/fetchCharacter",{id:this.id,page:this.page})}},beforeRouteUpdate(e,t,a){this.$store.dispatch("character/fetchCharacter",{id:e.params.id,page:1}),this.resetScrollLoader("changingPage"),a()},serverPrefetch(){return this.fetchCharacter()},metaInfo(){if(!this.character.id)return{};const e=`${this.character.name.first} ${this.character.name.last||""}`;return{title:e,meta:[{property:"og:title",content:e},{property:"og:description",content:`${e}'s anime & manga roles`},{property:"og:image",content:this.character.image.large},{property:"og:url",content:`https://anilist.co${this.$route.path}`}]}}},$d=Sd,kd=(a("b5cb"),Object(b["a"])($d,yd,_d,!1,null,"0b23ecfc",null)),Id=kd.exports,Ad=[{name:"Character",path:"/character/:id(\\d+)/:slug?",component:Id,props:!0}],Ed=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"staff staff-page-unscoped"},[e.staff.id?a("div",[a("div",{staticClass:"container"},[e.isDesktop?a("ad",{staticClass:"sense",attrs:{type:"staff"}}):e._e(),e._v(" "),a("div",{staticClass:"header"},[a("img",{staticClass:"image",attrs:{src:e.staff.image.large}}),e._v(" "),a("div",{staticClass:"content"},[a("h1",[e._v(e._s(e.staff.name.first)+" "+e._s(e.staff.name.last))]),e._v(" "),e.alternativeNames?a("div",{staticClass:"names"},[e._v("\n                        "+e._s(e.alternativeNames)+"\n                    ")]):e._e(),e._v(" "),e.staff.description?a("markdown",{staticClass:"description",attrs:{markdown:e.staff.description}}):e._e(),e._v(" "),a("favourite",{attrs:{id:e.staff.id,type:"staff","is-favourite":e.staff.isFavourite,mutation:"staff/toggleFavourite"}}),e._v(" "),e.auth?a("router-link",{staticClass:"edit",attrs:{to:"/edit/staff/"+e.staff.id}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"pencil-alt"}})],1):e._e()],1)])],1)]):e._e(),e._v(" "),e.loading?e._e():[a("character-roles",{attrs:{id:e.id},on:{finished:function(t){e.displayMediaRoles=!0}}}),e._v(" "),e.displayMediaRoles?a("media-roles",{attrs:{id:e.id}}):e._e()]],2)},xd=[],Od=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"character-roles container"},[e.characterRoles.pageInfo&&e.characterRoles.pageInfo.total?a("h2",{staticClass:"header"},[e._v("\n        Character Voice Roles\n    ")]):e._e(),e._v(" "),a("div",{staticClass:"grid-wrap"},[e._l(e.characterRoles.pageData,function(t){return[e._l(t,function(t){return e._l(t.media,function(e){return a("role-card",{key:t.id,attrs:{character:t.node,media:e,edge:{role:t.role}}})})})]})],2),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchStaff}})],1)},Pd=[],Td={components:{RoleCard:di},mixins:[st["a"]],props:{id:{type:[Number,String],required:!0}},computed:{characterRoles(){return this.$store.getters["staff/roles"](this.id,"characterRoles",this.page)}},methods:{async fetchStaff(){this.hasNextPage=await this.$store.dispatch("staff/fetchStaff",{id:this.id,characterPage:this.page})}},watch:{hasNextPage(e){e||this.$emit("finished")}}},Ld=Td,Md=(a("bbd9"),Object(b["a"])(Ld,Od,Pd,!1,null,"c99791a0",null)),Nd=Md.exports,Dd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"media-roles container"},[e.mediaRoles.pageInfo&&e.mediaRoles.pageInfo.total?a("h2",{staticClass:"header"},[e._v("\n        Staff Roles\n    ")]):e._e(),e._v(" "),a("div",{staticClass:"grid-wrap"},[e._l(e.mediaRoles.pageData,function(t){return[e._l(t,function(e){return[a("role-card",{key:e.id,attrs:{media:e.node,edge:{role:e.staffRole}}})]})]})],2),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchStaff}})],1)},Rd=[],jd={components:{RoleCard:di},mixins:[st["a"]],props:{id:{type:[Number,String],required:!0}},computed:{mediaRoles(){return this.$store.getters["staff/roles"](this.id,"mediaRoles",this.page)}},methods:{async fetchStaff(){this.hasNextPage=await this.$store.dispatch("staff/fetchStaff",{id:this.id,staffPage:this.page})}}},Fd=jd,Ud=(a("b1fb"),Object(b["a"])(Fd,Dd,Rd,!1,null,"09607311",null)),zd=Ud.exports,qd={name:"staff",components:{Markdown:Rr["a"],CharacterRoles:Nd,MediaRoles:zd,Favourite:Cd["a"],FontAwesomeIcon:p.a,Ad:ze["a"]},props:{id:{type:[Number,String],required:!0}},mixins:[M["a"]],data(){return{displayMediaRoles:!1,loading:!1}},computed:{staff(){return this.$store.getters["staff/find"](this.id)},characterRoles(){return this.$store.getters["staff/find"](this.id,"characterRoles")},mediaRoles(){return this.$store.getters["staff/find"](this.id,"mediaRoles")},alternativeNames(){const e=this.staff.name.alternative.slice(0)||[];return this.staff.name.native&&e.unshift(this.staff.name.native),wd()(e.join(", "),", ")},isDesktop(){return this.$store.state.screen.width>1360}},async beforeRouteUpdate(e,t,a){this.loading=!0,this.displayMediaRoles=!1,await this.$store.dispatch("staff/fetchStaff",{id:e.params.id,characterPage:1}),this.loading=!1,a()},serverPrefetch(){return this.$store.dispatch("staff/fetchStaff",{id:this.id,characterPage:1})},metaInfo(){if(!this.staff.id)return{};const e=`${this.staff.name.first} ${this.staff.name.last||""}`;return{title:e,meta:[{property:"og:title",content:e},{property:"og:description",content:`${e}'s anime & manga roles`},{property:"og:image",content:this.staff.image.large},{property:"og:url",content:`https://anilist.co${this.$route.path}`}]}}},Bd=qd,Vd=(a("4141"),Object(b["a"])(Bd,Ed,xd,!1,null,"7ef3dcfc",null)),Gd=Vd.exports,Yd=[{name:"Staff",path:"/staff/:id(\\d+)/:slug?",component:Gd,props:!0}],Hd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"studio studio-page-unscoped"},[e.studio.id?a("div",[a("div",{staticClass:"container header"},[a("h1",[e._v(e._s(e.studio.name))]),e._v(" "),e.auth&&e.isDataMod()?a("router-link",{staticClass:"edit",attrs:{to:"/edit/studio/"+e.studio.id}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"pencil-alt"}})],1):e._e(),e._v(" "),e.auth?a("favourite",{attrs:{id:e.studio.id,type:"studio","is-favourite":e.studio.isFavourite,mutation:"studio/toggleFavourite"}}):e._e()],1)]):e._e(),e._v(" "),a("div",{staticClass:"container grid-wrap"},[e._l(e.media.pageData,function(t){return e._l(t,function(e){return a("media-card",{key:e.node.id,class:{isMain:e.isMainStudio},attrs:{media:e.node}})})})],2),e._v(" "),e.changingPage?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.fetchStudio}})],1)},Qd=[],Wd={name:"studio",components:{MediaCard:H,Favourite:Cd["a"],FontAwesomeIcon:p.a},mixins:[M["a"],st["a"]],props:{id:{type:[Number,String],required:!0}},data(){return{changingPage:!1}},computed:{studio(){return this.$store.getters["studio/find"](this.id)},media(){return this.$store.getters["studio/media"](this.id,this.page)}},methods:{async fetchStudio(){this.hasNextPage=await this.$store.dispatch("studio/fetchStudio",{id:this.id,page:this.page})}},beforeRouteUpdate(e,t,a){this.$store.dispatch("studio/fetchStudio",{id:e.params.id,page:1}),this.resetScrollLoader("changingPage"),a()},serverPrefetch(){return this.fetchStudio()},metaInfo(){return this.studio.id?{title:this.studio.name,meta:[{property:"og:title",content:this.studio.name},{property:"og:description",content:`Anime by ${this.studio.name}`},{property:"og:url",content:`https://anilist.co${this.$route.path}`}]}:{}}},Kd=Wd,Jd=(a("8a4c"),Object(b["a"])(Kd,Hd,Qd,!1,null,"0dd29683",null)),Zd=Jd.exports,Xd=[{name:"Studio",path:"/studio/:id(\\d+)/:slug?",component:Zd,props:!0}],eu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.review.id?a("div",{staticClass:"review"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.review.media.bannerImage,expression:"review.media.bannerImage",arg:"background-image"}],staticClass:"banner"},[a("router-link",{staticClass:"title",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.review.media)}}},[e._v(e._s(e.review.media.title.userPreferred))]),e._v(" "),a("router-link",{staticClass:"author",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.review.user)}}},[e._v("a review by "+e._s(e.review.user.name))]),e._v(" "),a("div",{staticClass:"date"},[a("timeago",{attrs:{since:1e3*e.review.createdAt,"auto-update":60}})],1),e._v(" "),e.auth&&(e.auth.id==e.review.user.id||e.isMod())?a("router-link",{staticClass:"edit",attrs:{to:{name:"ReviewEditor",params:{id:e.review.media.id,userId:e.review.user.id}}}},[e._v("Edit")]):e._e()],1),e._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"body"},[a("markdown",{attrs:{markdown:e.review.body}}),e._v(" "),a("div",{staticClass:"score",class:e.scoreColor},[e._v("\n                "+e._s(e.review.score)+"\n                "),a("span",{staticClass:"total"},[e._v("/100")])])],1),e._v(" "),a("div",{staticClass:"rating"},[a("div",{staticClass:"actions"},[a("div",{staticClass:"icon",class:{active:"DOWN_VOTE"==e.review.userRating},on:{click:function(t){return e.rate("DOWN_VOTE")}}},[a("font-awesome-icon",{attrs:{icon:"thumbs-down"}})],1),e._v(" "),a("div",{staticClass:"icon",class:{active:"UP_VOTE"==e.review.userRating},on:{click:function(t){return e.rate("UP_VOTE")}}},[a("font-awesome-icon",{attrs:{icon:"thumbs-up"}})],1)]),e._v("\n            "+e._s(e.review.rating)+" out of "+e._s(e.review.ratingAmount)+" users liked this review\n        ")])])]):e._e()},tu=[],au={name:"Review",props:["id"],components:{Markdown:Rr["a"],FontAwesomeIcon:p.a},mixins:[M["a"]],computed:{review(){return this.$store.getters["review/find"](this.id)},scoreColor(){return this.review.score>=66?"green":this.review.score>=33?"orange":"red"}},methods:{async fetchReview(e){await this.$store.dispatch("review/fetchReview",{id:e})},rate(e){e===this.review.userRating&&(e="NO_VOTE"),this.$store.dispatch("review/rate",{id:this.review.id,rating:e})}},created(){this.fetchReview(this.id)},beforeRouteUpdate(e,t,a){this.fetchReview(e.params.id),a()},serverPrefetch(){return this.fetchReview(this.id)},metaInfo(){return!this.review.id||this.review.media.isAdult?{}:{title:`${this.review.user.name}'s review of ${this.review.media.title.userPreferred}`,meta:[{property:"og:title",content:`${this.review.media.title.userPreferred} Review`},{property:"og:description",content:`${this.review.user.name}'s review of ${this.review.media.title.userPreferred}`},{property:"og:image",content:this.review.media.coverImage.large},{property:"og:url",content:`https://anilist.co${this.$route.path}`}]}}},su=au,iu=(a("ac36"),Object(b["a"])(su,eu,tu,!1,null,"ec5972a6",null)),nu=iu.exports,ru=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recent-reviews container"},[e.reviews.pageData?a("div",{staticClass:"review-wrap"},[e._l(e.reviews.pageData,function(t){return e._l(t,function(e){return a("review-card",{key:e.id,attrs:{review:e}})})})],2):e._e(),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchReviews,limit:2,paused:e.paused},on:{"update:paused":function(t){e.paused=t}}})],1)},ou=[],cu={components:{ReviewCard:Ot},mixins:[st["a"]],computed:{reviews(){return this.$store.getters["review/reviews"](this.page)}},methods:{async fetchReviews(){this.hasNextPage=await this.$store.dispatch("review/fetchReviews",{page:this.page})}},metaInfo:{title:"Anime & Manga Reviews"}},lu=cu,du=(a("c1dc"),Object(b["a"])(lu,ru,ou,!1,null,"0b026506",null)),uu=du.exports,mu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?e._e():a("div",{staticClass:"review"},[a("div",{staticClass:"container"},[a("div",[a("div",{staticClass:"body editor"},[a("markdown-editor",{attrs:{markdown:e.review.body,input:e.input()},on:{"update:markdown":function(t){return e.$set(e.review,"body",t)}}}),e._v(" "),a("el-input",{ref:"input",staticClass:"input",attrs:{type:"textarea",autosize:"",placeholder:"Write review"},model:{value:e.review.body,callback:function(t){e.$set(e.review,"body",t)},expression:"review.body"}})],1),e._v(" "),a("div",{staticClass:"form"},[a("h2",[e._v("Review Summary")]),e._v(" "),a("el-input",{staticClass:"input",attrs:{type:"textarea",autosize:"",maxlength:120,placeholder:"Review summary"},model:{value:e.review.summary,callback:function(t){e.$set(e.review,"summary",t)},expression:"review.summary"}})],1),e._v(" "),a("div",{staticClass:"form"},[a("h2",[e._v("Score")]),e._v(" "),a("el-input-number",{attrs:{"controls-position":"right",min:0,max:100},model:{value:e.review.score,callback:function(t){e.$set(e.review,"score",t)},expression:"review.score"}})],1),e._v(" "),a("div",{staticClass:"form"},[a("el-checkbox",{model:{value:e.review.private,callback:function(t){e.$set(e.review,"private",t)},expression:"review.private"}},[e._v("Private")])],1),e._v(" "),e._l(e.validation,function(t,s){return t.passes?e._e():a("div",{key:s,staticClass:"validation"},[e._v("\n                "+e._s(t.message)+"\n            ")])}),e._v(" "),a("div",{staticClass:"form"},[e.passesValidation?a("div",{staticClass:"save",on:{click:e.save}},[e._v("Save")]):e._e(),e._v(" "),e.review.id?a("div",{staticClass:"save delete",on:{click:e.deleteReview}},[e._v("Delete")]):e._e()])],2),e._v(" "),a("div",{staticClass:"body preview"},[a("markdown",{attrs:{markdown:e.review.body}})],1)])])},pu=[],hu=a("e450"),vu=a.n(hu),fu=a("52d5"),gu={name:"Review",props:["id","userId"],components:{Markdown:Rr["a"],MarkdownEditor:fu["a"],ElInput:Xa.a,ElInputNumber:vu.a,ElCheckbox:me.a},mixins:[M["a"]],data(){return{loading:!0,saving:!1,reviewFound:!1,review:{body:"",summary:"",score:50,private:!1}}},computed:{existingReview(){if(!this.reviewFound)return!1;let e=this.auth.id;return this.isMod()&&this.userId&&(e=this.userId),this.$store.getters["review/find"](`${this.id}-${e}`)},validation(){return[{passes:this.review.body.length>2200,message:"Review must be greater than 2200 characters"},{passes:this.review.summary.length>20&&this.review.summary.length<120,message:"Summary must be less than 120 characters and greater than 20 characters"}]},passesValidation(){return this.validation.every(e=>e.passes)},markdown:{get(){return this.review.body},set(e){this.review.body=e}}},methods:{async fetchReview(){let e=this.auth.id;this.isMod()&&this.userId&&(e=this.userId),this.reviewFound=await this.$store.dispatch("review/fetchEditingReview",{mediaId:this.id,userId:e}),this.loading=!1},async save(){if(this.saving)return;this.saving=!0;const e=await this.$store.dispatch("review/save",Object(Re["a"])({},this.review,{mediaId:this.id}));e.success&&s$.push({path:`/review/${e.review.id}`}),this.saving=!1},async deleteReview(){try{await this.$confirm("Are you sure you want to delete this review?","Warning")}catch(t){return}const e=await this.$store.dispatch("review/delete",{id:this.review.id});e&&(this.$notify({type:"success",message:"Review deleted"}),s$.push({path:"/"}))},setupReview(){const e=this.existingReview;e&&(this.review=Object(Re["a"])({},e))},input(){if(this.$refs.input&&this.$refs.input.$el)return this.$refs.input.$el.children[0]}},async created(){await this.fetchReview(),this.reviewFound&&this.setupReview()},metaInfo:{title:"Write Review"}},yu=gu,_u=(a("2e56"),Object(b["a"])(yu,mu,pu,!1,null,"74bd9d06",null)),bu=_u.exports,wu=[{name:"Review",path:"/review/:id",component:nu,props:!0},{name:"Reviews",path:"/reviews",component:uu},{name:"ReviewEditor",path:"/review/editor/:id/:userId?",component:bu,props:!0},{path:"/review/anime/:id",redirect:"/review/:id"},{path:"/review/manga/:id",redirect:"/review/:id"}],Cu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search search-page-unscoped container"},[a("div",{staticClass:"filter"},[a("search-input"),e._v(" "),a("div",{staticClass:"filter-toggle",class:{active:e.showMobileNav},on:{click:function(t){e.showMobileNav=!e.showMobileNav}}},[a("font-awesome-icon",{attrs:{icon:"ellipsis-h"}})],1),e._v(" "),a("div",{staticClass:"filter-wrap",class:{"mobile-nav-hidden":!e.showMobileNav}},[a("div",{staticClass:"filter-group",on:{click:function(t){return e.clearQuery(!0)}}},[a("div",{staticClass:"group-header"},[e._v("Type")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"Search",params:{type:"anime"}}}},[e._v("Anime")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"Search",params:{type:"manga"}}}},[e._v("Manga")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"Search",params:{type:"studios"}}}},[e._v("Studios")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"Search",params:{type:"characters"}}}},[e._v("Characters")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"Search",params:{type:"staff"}}}},[e._v("Staff")])],1),e._v(" "),"ANIME"===e.type?a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("Season")]),e._v(" "),a("span",{staticClass:"link",class:{"router-link-active":!e.activeQuery.season},on:{click:function(t){return e.setSeason(null)}}},[e._v("All")]),e._v(" "),a("span",{staticClass:"link",class:{"router-link-active":"WINTER"==e.activeQuery.season},on:{click:function(t){return e.setSeason("WINTER")}}},[e._v("Winter")]),e._v(" "),a("span",{staticClass:"link",class:{"router-link-active":"SPRING"==e.activeQuery.season},on:{click:function(t){return e.setSeason("SPRING")}}},[e._v("Spring")]),e._v(" "),a("span",{staticClass:"link",class:{"router-link-active":"SUMMER"==e.activeQuery.season},on:{click:function(t){return e.setSeason("SUMMER")}}},[e._v("Summer")]),e._v(" "),a("span",{staticClass:"link",class:{"router-link-active":"FALL"==e.activeQuery.season},on:{click:function(t){return e.setSeason("FALL")}}},[e._v("Fall")])]):e._e(),e._v(" "),e.isMediaType?a("div",{staticClass:"filter-group"},[a("year-filter")],1):e._e(),e._v(" "),e.isMediaType?a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("Filters")]),e._v(" "),a("sort-filter"),e._v(" "),a("format-filter",{attrs:{type:e.type}}),e._v(" "),a("status-filter"),e._v(" "),"ANIME"===e.type?a("licensor-filter"):e._e(),e._v(" "),a("country-filter"),e._v(" "),a("source-filter",{attrs:{type:e.type}}),e._v(" "),a("tag-filter"),e._v(" "),a("toggle-filters",{attrs:{type:e.type}})],1):e._e(),e._v(" "),e.isDesktop?a("ad",{staticClass:"sense-wrap",attrs:{type:"search"}}):e._e()],1)],1),e._v(" "),e.displayPreview&&e.isMediaType?e.displayPreview?a("preview",{attrs:{type:e.type}}):e._e():[e.isMediaType?a("div",{staticClass:"results media"},[e._l(e.results.pageData,function(t){return e._l(t,function(e){return a("media-card",{key:e.id,attrs:{media:e}})})}),e._v(" "),e.changingPage?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.getNextPage}})],2):"CHARACTERS"===e.type?a("div",{staticClass:"results characters"},[e._l(e.results.pageData,function(t){return e._l(t,function(e){return a("character-card",{key:e.id,attrs:{character:e}})})}),e._v(" "),e.changingPage?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.getNextPage}})],2):"STAFF"===e.type?a("div",{staticClass:"results staff"},[e._l(e.results.pageData,function(t){return e._l(t,function(e){return a("staff-card",{key:e.id,attrs:{staff:e}})})}),e._v(" "),e.changingPage?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.getNextPage}})],2):"STUDIOS"===e.type?a("div",{staticClass:"results studios"},[e._l(e.results.pageData,function(t){return e._l(t,function(e){return a("studio-row",{key:e.id,attrs:{studio:e}})})}),e._v(" "),e.changingPage?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.getNextPage}})],2):e._e()]],2)},Su=[],$u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"character"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.character.image.large,expression:"character.image.large",arg:"background-image"}],staticClass:"cover",attrs:{to:{name:"Character",params:e.formatCharacterUrl(e.character)}}},[a("div",{staticClass:"overlay"},[a("span",{staticClass:"name"},[e._v(e._s(e.character.name.first)+" "+e._s(e.character.name.last))])])])],1)},ku=[],Iu={props:{character:{type:Object,required:!0}}},Au=Iu,Eu=(a("c50e"),Object(b["a"])(Au,$u,ku,!1,null,"6914a65d",null)),xu=Eu.exports,Ou=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"staff"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.staff.image.large,expression:"staff.image.large",arg:"background-image"}],staticClass:"cover",attrs:{to:{name:"Staff",params:e.formatStaffUrl(e.staff)}}},[a("div",{staticClass:"overlay"},[a("span",{staticClass:"name"},[e._v(e._s(e.staff.name.first)+" "+e._s(e.staff.name.last))])])])],1)},Pu=[],Tu={props:{staff:{type:Object,required:!0}}},Lu=Tu,Mu=(a("0f3d"),Object(b["a"])(Lu,Ou,Pu,!1,null,"622bea19",null)),Nu=Mu.exports,Du=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.studio.media.nodes[1]?a("div",{staticClass:"studio"},[a("router-link",{staticClass:"name",attrs:{to:{name:"Studio",params:e.formatStudioUrl(e.studio)}}},[e._v("\n        "+e._s(e.studio.name)+" "),a("font-awesome-icon",{staticClass:"chevron",attrs:{icon:"angle-double-right"}})],1),e._v(" "),a("div",{staticClass:"results media"},e._l(e.studio.media.nodes,function(t){return t.isAdult?e._e():a("media-card",{key:t.id,attrs:{media:t}})}),1)],1):e._e()},Ru=[],ju={components:{MediaCard:H,FontAwesomeIcon:p.a},props:{studio:{type:Object,required:!0}}},Fu=ju,Uu=(a("eb55"),Object(b["a"])(Fu,Du,Ru,!1,null,"6da0c81c",null)),zu=Uu.exports,qu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"preview"},e._l(e.preview,function(t,s){return a("div",{key:s,staticClass:"preview-section"},[a("h1",{staticClass:"preview-header",on:{click:function(t){return e.viewAll(e.type,s)}}},[a("span",[e._v(e._s(e._f("capitalize")(s)))]),e._v(" "),a("font-awesome-icon",{staticClass:"chevron",attrs:{icon:"angle-double-right"}})],1),e._v(" "),a("div",{staticClass:"results media"},e._l(t.media,function(e){return a("media-card",{key:e.id,attrs:{media:e}})}),1)])}),0)},Bu=[],Vu=a("2d1f"),Gu=a.n(Vu),Yu={name:"search",components:{MediaCard:H,FontAwesomeIcon:p.a},props:{type:{type:String,required:!0}},data(){return{current:{},next:{},previewUrls:{}}},computed:{preview(){return this.$store.getters["search/preview"](this.type)}},methods:{async fetchPreview(){await this.$store.dispatch("search/fetchPreview",{type:this.type,thisSeason:this.current.season,thisYear:this.current.year,thisYearLike:this.current.year+"%",nextSeason:this.next.season,nextYear:this.next.year})},viewAll(e,t){this.$store.dispatch("search/setPreparedQuery",{query:{}});const a=this.previewUrls[e][t];Gu()(a).map(e=>{this.$store.dispatch("search/setPreparedQuery",{key:e[0],value:e[1]})}),this.$store.dispatch("search/applyPreparedQuery")},setPreviewUrls(){const e=new Date;this.current=Object(B["d"])(e),this.next=Object(B["d"])(new Date(e.setMonth(e.getMonth()+3))),this.previewUrls={ANIME:{Popular_This_Season:{season:this.current.season,year:this.current.year+"%",sort:"POPULARITY_DESC"},Highly_Anticipated_Next_Season:{season:this.next.season,year:this.next.year+"%",sort:"POPULARITY_DESC"},Highest_Rated_All_Time:{sort:"SCORE_DESC"},All_Time_Popular:{sort:"POPULARITY_DESC"}},MANGA:{Highest_Rated_All_Time:{sort:"SCORE_DESC"},All_Time_Popular:{sort:"POPULARITY_DESC"},Popular_This_Year:{year:this.current.year+"%",sort:"POPULARITY_DESC"}}}}},watch:{type(e){this.fetchPreview()}},mounted(){this.setPreviewUrls(),this.fetchPreview()},serverPrefetch(){return this.setPreviewUrls(),this.fetchPreview()}},Hu=Yu,Qu=(a("15fb"),Object(b["a"])(Hu,qu,Bu,!1,null,"68943cb6",null)),Wu=Qu.exports,Ku=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-input",{staticClass:"search-input",attrs:{placeholder:"Search","prefix-icon":"el-icon-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[e.search?a("i",{staticClass:"el-icon-circle-close",attrs:{slot:"suffix"},on:{click:function(t){e.search=null}},slot:"suffix"}):e._e()])},Ju=[],Zu={components:{ElInput:Xa.a},computed:{search:{get(){return this.$store.getters["search/activeQuery"].search},set(e){this.$store.dispatch("search/setPreparedQuery",{key:"sort",value:null!=e&&""!=e?"SEARCH_MATCH":null}),this.$store.dispatch("search/setPreparedQuery",{key:"search",value:e||null}),this.$store.dispatch("search/applyPreparedQuery")}}}},Xu=Zu,em=(a("9e32"),Object(b["a"])(Xu,Ku,Ju,!1,null,"d4961d4c",null)),tm=em.exports,am=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"year-filter"},[a("div",{staticClass:"group-header"},[e._v("\n        Year\n        "),a("el-tooltip",{attrs:{content:e.usingYearRange?"Filter by single year":"Filter by year range",placement:"top-start"}},[a("span",[a("font-awesome-icon",{attrs:{icon:"arrows-alt-h"},on:{click:e.toggleYearRange}})],1)]),e._v(" "),e.usingYearRange||1950==e.selectedYear?e.usingYearRange&&e.selectedYearRange[0]?a("span",{staticClass:"value"},[e._v(e._s(e.selectedYearRange[0])+" - "+e._s(e.selectedYearRange[1]))]):e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedYear,expression:"selectedYear"}],staticClass:"year-input value",domProps:{value:e.selectedYear},on:{input:[function(t){t.target.composing||(e.selectedYear=t.target.value)},e.filterByYear]}}),e._v(" "),1950!=e.selectedYear&&null!=e.selectedYear||e.usingYearRange&&e.selectedYearRange[0]?a("i",{staticClass:"el-icon-circle-close",on:{click:e.resetFilter}}):e._e()],1),e._v(" "),e.usingYearRange?e.usingYearRange?[a("el-slider",{attrs:{min:1950,max:2020,range:""},on:{change:e.filterByYearRange},model:{value:e.selectedYearRange,callback:function(t){e.selectedYearRange=t},expression:"selectedYearRange"}})]:e._e():[a("el-slider",{attrs:{min:1950,max:2020},on:{change:e.filterByYear},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})]],2)},sm=[],im={components:{ElSlider:ac.a,FontAwesomeIcon:p.a},data(){return{usingYearRange:!1}},computed:{selectedYear:{get(){const e=this.$store.getters["search/preparedQuery"].year;return e?Io()(e):null},set(e){1950===e||isNaN(e)||""==e||(null!=e&&(e+="%"),this.$store.dispatch("search/setPreparedQuery",{key:"year",value:e||null}))}},selectedYearRange:{get(){const e=this.$store.getters["search/preparedQuery"];return e.yearLesser&&e.yearGreater?(this.usingYearRange=!0,[Io()(e.yearGreater),Io()(e.yearLesser)]):[null,2020]},set(e){this.$store.dispatch("search/setPreparedQuery",{key:"yearGreater",value:e[0]||null}),this.$store.dispatch("search/setPreparedQuery",{key:"yearLesser",value:e[1]||null})}}},methods:{toggleYearRange(){this.usingYearRange=!this.usingYearRange},filterByYear(){isNaN(this.selectedYear)||this.selectedYear<1910||this.selectedYear>2030||(this.resetYearRange(),this.$store.dispatch("search/applyPreparedQuery"))},filterByYearRange(){this.resetYear(),this.$store.dispatch("search/applyPreparedQuery")},resetFilter(){this.resetYear(),this.resetYearRange(),this.$store.dispatch("search/applyPreparedQuery")},resetYear(){this.$store.dispatch("search/setPreparedQuery",{key:"year",value:null}),this.selectedYear=null},resetYearRange(){this.$store.dispatch("search/setPreparedQuery",{key:"yearLesser",value:null}),this.$store.dispatch("search/setPreparedQuery",{key:"yearGreater",value:null}),this.selectedYearRange=[null,null]}}},nm=im,rm=(a("9277"),Object(b["a"])(nm,am,sm,!1,null,"6e8f9c28",null)),om=rm.exports,cm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{placeholder:"Format",size:"small",clearable:""},model:{value:e.format,callback:function(t){e.format=t},expression:"format"}},e._l(e.formatOptions[e.type],function(t){return a("el-option",{key:t,attrs:{label:e._f("capitalizeFormat")(t),value:t}})}),1)},lm=[],dm={components:{ElSelect:Ja.a,ElOption:Wa.a},props:{type:{type:String,required:!0}},data(){return{formatOptions:{ANIME:["TV","TV_SHORT","MOVIE","SPECIAL","OVA","ONA","MUSIC"],MANGA:["MANGA","NOVEL","ONE_SHOT"]}}},computed:{format:{get(){return this.$store.getters["search/activeQuery"].format},set(e){this.$store.dispatch("search/setPreparedQuery",{key:"format",value:e||null}),this.$store.dispatch("search/applyPreparedQuery")}}}},um=dm,mm=Object(b["a"])(um,cm,lm,!1,null,null,null),pm=mm.exports,hm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{placeholder:"Status",size:"small",clearable:""},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.statusOptions,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)},vm=[],fm={components:{ElSelect:Ja.a,ElOption:Wa.a},data(){return{statusOptions:{Releasing:"RELEASING",Finished:"FINISHED","Not Yet Released":"NOT_YET_RELEASED",Cancelled:"CANCELLED"}}},computed:{status:{get(){return this.$store.getters["search/activeQuery"].status},set(e){this.$store.dispatch("search/setPreparedQuery",{key:"status",value:e||null}),this.$store.dispatch("search/applyPreparedQuery")}}}},gm=fm,ym=Object(b["a"])(gm,hm,vm,!1,null,null,null),_m=ym.exports,bm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{placeholder:"Country",size:"small",clearable:""},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},e._l(e.countries,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)},wm=[],Cm={components:{ElSelect:Ja.a,ElOption:Wa.a},data(){return{countries:{JP:"Japan",KR:"Korea",CN:"China"}}},computed:{country:{get(){return this.$store.getters["search/activeQuery"].countryOfOrigin},set(e){this.$store.dispatch("search/setPreparedQuery",{key:"countryOfOrigin",value:e||null}),this.$store.dispatch("search/applyPreparedQuery")}}}},Sm=Cm,$m=Object(b["a"])(Sm,bm,wm,!1,null,null,null),km=$m.exports,Im=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{placeholder:"Source",size:"small",clearable:""},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}},e._l(e.sourceOptions[e.type],function(t){return a("el-option",{key:t,attrs:{label:e._f("capitalize")(t),value:t}})}),1)},Am=[],Em={components:{ElSelect:Ja.a,ElOption:Wa.a},props:{type:{type:String,required:!0}},data(){return{sourceOptions:{ANIME:["ORIGINAL","MANGA","LIGHT_NOVEL","VISUAL_NOVEL","NOVEL","VIDEO_GAME","DOUJINSHI","OTHER"],MANGA:["ANIME","LIGHT_NOVEL","VISUAL_NOVEL","NOVEL","VIDEO_GAME","DOUJINSHI","OTHER"]}}},computed:{source:{get(){return this.$store.getters["search/activeQuery"].source},set(e){this.$store.dispatch("search/setPreparedQuery",{key:"source",value:e||null}),this.$store.dispatch("search/applyPreparedQuery")}}}},xm=Em,Om=Object(b["a"])(xm,Im,Am,!1,null,null,null),Pm=Om.exports,Tm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.tags.tags?a("el-select",{attrs:{placeholder:"Genres & Tags",size:"small","popper-class":"quick-tag-filter-unscoped",clearable:"",filterable:"",multiple:"","collapse-tags":""},on:{change:e.updateQuickFilters},model:{value:e.quickFilters,callback:function(t){e.quickFilters=t},expression:"quickFilters"}},[a("el-option-group",{attrs:{label:"Genres"}},e._l(e.tags.genres,function(t){return"Hentai"!=t?a("el-option",{key:t,attrs:{value:t}}):e._e()}),1),e._v(" "),a("el-option-group",{attrs:{label:"Tags"}},e._l(e.tags.tags,function(t){return t.isAdult?e._e():a("el-option",{key:t.name,attrs:{value:t.name}})}),1)],1):e._e(),e._v(" "),a("div",{staticClass:"view-all",on:{click:function(t){e.dialogVisible=!0}}},[e._v("\n        Advanced genre & tag filtering "),e.tagCount?a("span",[e._v("("+e._s(e.tagCount)+")")]):e._e()]),e._v(" "),a("el-dialog",{attrs:{title:"Genres & Tags",visible:e.dialogVisible,"custom-class":"tag-modal-unscoped","show-close":!1,top:"5vh"},on:{"update:visible":function(t){e.dialogVisible=t},open:e.getTagFilters}},[a("span",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[a("h1",[e._v("Genres & Tags")]),e._v(" "),a("el-input",{staticClass:"filter-input",attrs:{placeholder:"Filter Tags","prefix-icon":"el-icon-search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[e.filter?a("i",{staticClass:"el-icon-circle-close",attrs:{slot:"suffix"},on:{click:function(t){e.filter=null}},slot:"suffix"}):e._e()]),e._v(" "),a("button",{staticClass:"button",on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),e._v(" "),a("button",{staticClass:"button",on:{click:e.resetFilters}},[e._v("Clear All")]),e._v(" "),a("button",{staticClass:"button",on:{click:function(t){e.applyFilters(),e.dialogVisible=!1}}},[e._v("Apply")])],1),e._v(" "),e.tags.tags?a("div",{staticClass:"tag-filter"},[a("div",{staticClass:"tag-tree"},e._l(e.groupedTags,function(t,s){return a("div",{key:s,staticClass:"tag-group"},[a("tag-node",{attrs:{"tag-tree":t,filters:e.filters},on:{"update:filters":function(t){e.filters=t}}})],1)}),0)]):e._e()])],1)},Lm=[],Mm=a("768b"),Nm=(a("28a5"),a("486c")),Dm=a.n(Nm),Rm=a("9b02"),jm=a.n(Rm),Fm=a("0f5c"),Um=a.n(Fm),zm=a("3852"),qm=a.n(zm),Bm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tree"},[e._l(e.tagTree,function(t,s,i){return["inline"!==s?a("div",{key:i,staticClass:"branch",class:s},[a("span",{staticClass:"category"},[e._v(e._s(s))]),e._v(" "),a("tag-node",{attrs:{"tag-tree":t,filters:e.filters},on:{"update:filters":function(t){e.filters=t}}})],1):a("div",{key:i,staticClass:"tags"},e._l(t,function(t){return a("div",{key:t.id,staticClass:"tag"},[a("el-tooltip",{attrs:{content:t.description,placement:"left",disabled:!t.description}},[a("span",{staticClass:"name"},[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"icons"},[a("i",{staticClass:"include el-icon-circle-plus",class:{active:e.isActive(e.getType(t),!0,t.name)},on:{click:function(a){e.add(e.getType(t),!0,t.name)}}}),e._v(" "),a("i",{staticClass:"exclude el-icon-remove",class:{active:e.isActive(e.getType(t),!1,t.name)},on:{click:function(a){e.add(e.getType(t),!1,t.name)}}}),e._v(" "),a("i",{staticClass:"clear el-icon-circle-close",on:{click:function(a){e.clear(e.getType(t),t.name)}}})])],1)}),0)]})],2)},Vm=[],Gm=a("299c"),Ym=a.n(Gm),Hm={name:"TagNode",props:["tagTree","filters"],components:{ElTooltip:Ym.a},methods:{isActive(e,t,a){const s=(t?"included":"excluded")+Object(Is["capitalize"])(e)+"s";return this.filters[s].includes(a)},getType(e){return e.isGenre?"genre":"tag"},add(e,t,a){const s=(t?"included":"excluded")+Object(Is["capitalize"])(e)+"s",i=(t?"excluded":"included")+Object(Is["capitalize"])(e)+"s";this.$set(this.filters,i,this.filters[i].filter(e=>e!==a)),this.filters[s].includes(a)||this.filters[s].push(a)},clear(e,t){e=Object(Is["capitalize"])(e)+"s",this.$set(this.filters,"included"+e,this.filters["included"+e].filter(e=>e!==t)),this.$set(this.filters,"excluded"+e,this.filters["excluded"+e].filter(e=>e!==t))}}},Qm=Hm,Wm=(a("7e71"),Object(b["a"])(Qm,Bm,Vm,!1,null,"7370c372",null)),Km=Wm.exports,Jm={name:"TagFilter",components:{ElDialog:ts.a,ElInput:Xa.a,ElSelect:Ja.a,ElOption:Wa.a,ElOptionGroup:Dm.a,TagNode:Km},mixins:[M["a"]],data(){return{filter:null,dialogVisible:!1,quickFilters:[],filters:{includedGenres:[],excludedGenres:[],includedTags:[],excludedTags:[]}}},computed:{tags(){return this.$store.getters["search/tags"]},tagFilters(){const e=this.$store.getters["search/preparedQuery"];return{includedGenres:e.includedGenres?e.includedGenres.split(","):[],excludedGenres:e.excludedGenres?e.excludedGenres.split(","):[],includedTags:e.includedTags?e.includedTags.split(","):[],excludedTags:e.excludedTags?e.excludedTags.split(","):[]}},tagCount(){let e=0;return d()(this.filters).map(t=>{e+=this.filters[t].length}),e},groupedTags(){let e,t,a,s=this.tags,i=s.genres,n=s.tags,r={};null!=this.filter&&(n=n.filter(e=>e.name.toLowerCase().includes(this.filter.toLowerCase()))),n=mt()(n,[e=>e.category.length]),n.map(s=>{e=s.category.split("-"),e.includes("Sci")&&(a=e.indexOf("Sci"),e[a]="Sci-Fi",e.splice(a+1,1)),qm()(r,[...e,"inline"])||Um()(r,e,{inline:[]}),t=jm()(r,e),t.inline.push(s)}),r.Genre={inline:i.map(e=>({name:e,isGenre:!0}))},null!=this.filter&&(r.Genre.inline=r.Genre.inline.filter(e=>e.name.toLowerCase().includes(this.filter.toLowerCase())));let o={};return this.displayAdult&&(o={"Sexual Content":r["Sexual Content"]}),[{Genre:r.Genre,Demographic:r.Demographic,Setting:r.Setting},Object(Re["a"])({Cast:r.Cast,Technical:r.Technical},o),{Theme:r.Theme}]}},methods:{async getTags(){await this.$store.dispatch("search/fetchTags")},getTagFilters(){this.filters=this.tagFilters,this.quickFilters=[...this.filters.includedGenres,...this.filters.includedTags]},applyFilters(){for(const t of Gu()(this.filters)){var e=Object(Mm["a"])(t,2);const a=e[0],s=e[1];s.length>0?this.$store.dispatch("search/setPreparedQuery",{key:a,value:s.join(",")}):this.$store.dispatch("search/setPreparedQuery",{key:a,value:null})}this.$store.dispatch("search/applyPreparedQuery")},resetFilters(){this.filters={includedGenres:[],excludedGenres:[],includedTags:[],excludedTags:[]}},updateQuickFilters(){this.resetFilters();const e=this.tags.genres;this.quickFilters.forEach(t=>{e.includes(t)?this.filters.includedGenres.push(t):this.filters.includedTags.push(t)}),this.applyFilters(!1)}},beforeMount(){this.getTags(),this.getTagFilters()}},Zm=Jm,Xm=(a("66cf"),a("731b"),Object(b["a"])(Zm,Tm,Lm,!1,null,"7354108a",null)),ep=Xm.exports,tp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{placeholder:"Sort",size:"small",clearable:""},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}},e._l(e.sortOptions,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)},ap=[],sp={components:{ElSelect:Ja.a,ElOption:Wa.a},mixins:[M["a"]],computed:{sort:{get(){return this.$store.getters["search/activeQuery"].sort},set(e){this.$store.dispatch("search/setPreparedQuery",{key:"sort",value:e||null}),this.$store.dispatch("search/applyPreparedQuery")}},search(){return this.$store.getters["search/activeQuery"].search},sortOptions(){let e={Title:"TITLE",Popularity:"POPULARITY_DESC",Score:"SCORE_DESC",Trending:"TRENDING_DESC",Favorites:"FAVOURITES_DESC","Date Added":"ID_DESC","Release Date":"START_DATE_DESC"};this.search&&(e["Search Match"]="SEARCH_MATCH");const t=jm()(this.auth,"options.titleLanguage","ROMAJI");return e.Title=`TITLE_${t}`.toUpperCase(),e}}},ip=sp,np=Object(b["a"])(ip,tp,ap,!1,null,null,null),rp=np.exports,op=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{placeholder:"Streaming On",size:"small",clearable:"",multiple:""},on:{change:e.updateLicensorFilters},model:{value:e.licensorFilters,callback:function(t){e.licensorFilters=t},expression:"licensorFilters"}},e._l(e.animeLicensorOptions,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)},cp=[],lp={components:{ElSelect:Ja.a,ElOption:Wa.a},data(){return{licensorFilters:[],animeLicensorOptions:["Crunchyroll","Funimation","Netflix","Amazon","Hidive","Hulu","Animelab","Viewster","Animax","Viz"]}},computed:{licensorQuery(){return this.$store.getters["search/activeQuery"].licensedBy}},methods:{updateLicensorFilters(){this.$store.dispatch("search/setPreparedQuery",{key:"licensedBy",value:this.licensorFilters[0]?this.licensorFilters.join(","):null}),this.$store.dispatch("search/applyPreparedQuery")}},mounted(){this.licensorFilters=this.licensorQuery?this.licensorQuery.split(","):[]}},dp=lp,up=Object(b["a"])(dp,op,cp,!1,null,null,null),mp=up.exports,pp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.auth?a("div",{staticClass:"toggles"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.onList,expression:"!onList"}],staticClass:"toggle"},[a("el-checkbox",{model:{value:e.notOnList,callback:function(t){e.notOnList=t},expression:"notOnList"}},[e._v("Hide "+e._s(e.type.toLowerCase())+" on my list")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.notOnList,expression:"!notOnList"}],staticClass:"toggle"},[a("el-checkbox",{model:{value:e.onList,callback:function(t){e.onList=t},expression:"onList"}},[e._v("Only show "+e._s(e.type.toLowerCase())+" on my list")])],1),e._v(" "),e.displayAdult?a("div",{staticClass:"toggle"},[a("el-checkbox",{model:{value:e.adult,callback:function(t){e.adult=t},expression:"adult"}},[e._v("Adult")])],1):e._e()]):e._e()},hp=[],vp={components:{ElCheckbox:me.a},mixins:[M["a"]],props:["type"],computed:{onList:{get(){const e=this.$store.getters["search/activeQuery"].onList;return!0===e||"true"===e},set(e){this.$store.dispatch("search/setPreparedQuery",{key:"onList",value:!!e||null}),this.$store.dispatch("search/applyPreparedQuery")}},notOnList:{get(){const e=this.$store.getters["search/activeQuery"].onList;return!1===e||"false"===e},set(e){this.$store.dispatch("search/setPreparedQuery",{key:"onList",value:!e&&null}),this.$store.dispatch("search/applyPreparedQuery")}},adult:{get(){return this.$store.getters["search/activeQuery"].adult},set(e){this.$store.dispatch("search/setPreparedQuery",{key:"isAdult",value:e}),this.$store.dispatch("search/applyPreparedQuery")}}}},fp=vp,gp=(a("0b6d"),Object(b["a"])(fp,pp,hp,!1,null,"db1e97fe",null)),yp=gp.exports,_p={name:"search",components:{FontAwesomeIcon:p.a,Ad:ze["a"],MediaCard:H,CharacterCard:xu,StaffCard:Nu,StudioRow:zu,Preview:Wu,SearchInput:tm,YearFilter:om,FormatFilter:pm,StatusFilter:_m,CountryFilter:km,SourceFilter:Pm,TagFilter:ep,SortFilter:rp,LicensorFilter:mp,ToggleFilters:yp},mixins:[st["a"]],props:{type:{type:String,required:!1}},data(){return{displayPreview:!1,showMobileNav:!1,changingPage:!1}},computed:{results(){return this.$store.getters["search/find"](this.type,this.$route.query,this.page)},activeQuery(){return this.$store.getters["search/activeQuery"]},isMediaType(){return"ANIME"===this.type||"MANGA"===this.type},isDesktop(){return this.$store.state.screen.isDesktop}},methods:{async fetchSearchResults(e,t){this.hasNextPage=await this.$store.dispatch("search/fetchSearch",{variables:Object(Re["a"])({},e,t),query:t})},async getNextPage(){return await this.fetchSearchResults({page:this.page,type:this.type.toUpperCase()},this.$route.query)},clearQuery(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};e&&this.activeQuery.search&&(t={key:"search",value:this.activeQuery.search||null}),this.$store.dispatch("search/setPreparedQuery",t),this.$store.dispatch("search/applyPreparedQuery")},setSeason(e){this.activeQuery.year||this.$store.dispatch("search/setPreparedQuery",{key:"year",value:(new Date).getFullYear()}),this.$store.dispatch("search/setPreparedQuery",{key:"season",value:e}),this.$store.dispatch("search/applyPreparedQuery")},togglePreview(e){this.displayPreview=0===d()(e).length}},watch:{activeQuery(e){this.$route.query!=e&&s$.push({name:"Search",params:{type:this.type.toLowerCase()},query:e})}},beforeMount(){const e=this.$route.query;this.$store.dispatch("search/setActiveQuery",{query:e}),this.$store.dispatch("search/setPreparedQuery",{query:e}),this.togglePreview(e)},beforeRouteUpdate(e,t,a){if(this.changingPage=!0,this.resetScrollLoader("changingPage"),this.togglePreview(e.query),t.params.type!==e.params.type){const e=t.query.search?{search:t.query.search,sort:t.query.sort}:{};this.$store.dispatch("search/setActiveQuery",{query:e})}a()},serverPrefetch(){const e=this.$route.query;if(this.$store.dispatch("search/setActiveQuery",{query:e}),this.$store.dispatch("search/setPreparedQuery",{query:e}),this.togglePreview(e),!this.displayPreview)return this.getNextPage()},metaInfo:{title:"Find Anime & Manga"}},bp=_p,wp=(a("4a46"),Object(b["a"])(bp,Cu,Su,!1,null,"039da2a4",null)),Cp=wp.exports,Sp=[{name:"Search",path:"/search/:type?",component:Cp,props:e=>({type:(e.params.type||"ANIME").toUpperCase()})}],$p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.activity.id?a("div",{staticClass:"container"},[a("activity",{attrs:{activity:e.activity},on:{refresh:e.fetchActivity}})],1):e._e()},kp=[],Ip={props:["id"],components:{Activity:k["default"]},computed:{activity(){return this.$store.getters["activity/find"](this.id)}},methods:{async fetchActivity(){return await this.$store.dispatch("activity/fetchActivity",{id:this.id})}},created(){this.fetchActivity()},serverPrefetch(){return this.fetchActivity()}},Ap=Ip,Ep=(a("4aef"),Object(b["a"])(Ap,$p,kp,!1,null,"48e8a7b8",null)),xp=Ep.exports,Op=[{name:"Activity",path:"/activity/:id(\\d+)",component:xp,props:!0}],Pp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"notifications-feed container"},[a("div",{staticClass:"filters"},[a("div",{staticClass:"mobile-nav",on:{click:function(t){e.showMobileNav=!e.showMobileNav}}},[a("h1",[e._v("\n                Notifications\n                "),a("div",{staticClass:"filter-toggle",class:{active:e.showMobileNav}},[a("font-awesome-icon",{attrs:{icon:"ellipsis-h"}})],1)])]),e._v(" "),a("div",{staticClass:"filter-group",class:{"mobile-nav-hidden":!e.showMobileNav}},[a("div",{staticClass:"group-header"},[e._v("\n                Notifications\n                "),a("router-link",{staticClass:"value settings-btn",attrs:{to:{name:"NotificationSettings"}}},[a("el-tooltip",{attrs:{content:"Notification Settings",placement:"left"}},[a("font-awesome-icon",{attrs:{icon:"cog"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"link",class:{active:"all"==e.feed},on:{click:function(t){return e.changeFeed("all")}}},[e._v("All")]),e._v(" "),a("div",{staticClass:"link",class:{active:"airing"==e.feed},on:{click:function(t){return e.changeFeed("airing")}}},[e._v("Airing")]),e._v(" "),a("div",{staticClass:"link",class:{active:"activity"==e.feed},on:{click:function(t){return e.changeFeed("activity")}}},[e._v("Activity")]),e._v(" "),a("div",{staticClass:"link",class:{active:"forum"==e.feed},on:{click:function(t){return e.changeFeed("forum")}}},[e._v("Forum")]),e._v(" "),a("div",{staticClass:"link",class:{active:"follows"==e.feed},on:{click:function(t){return e.changeFeed("follows")}}},[e._v("Follows")])]),e._v(" "),a("div",{staticClass:"reset-btn",on:{click:function(t){return e.resetCount(!0)}}},[e._v("Mark all as read")])]),e._v(" "),e.changingFeed?e._e():a("div",{staticClass:"notifications"},[e.notifications?[e._l(e.notifications.pageData,function(t){return e._l(t,function(t,s){return a("notification",{key:s,attrs:{notification:t,unread:e.isUnread(s)}})})})]:e.hasNextPage?e._e():a("h1",[e._v("\n            No "+e._s("all"==this.feed?"":this.feed)+" notifications\n        ")]),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchNotifications,limit:3,paused:e.paused},on:{"update:paused":function(t){e.paused=t}}})],2)])},Tp=[],Lp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.notification&&(e.notification.media||e.notification.user)?a("div",{staticClass:"notification",class:{unread:!e.read,hasMedia:e.notification.media},on:{click:e.markRead}},[e.notification.media?a("router-link",{staticClass:"cover",style:e.mediaCoverStyle,attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.notification.media)}}}):e._e(),e._v(" "),e.notification.user?a("router-link",{staticClass:"avatar",style:e.avatarStyle,attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.notification.user)}}}):e._e(),e._v(" "),a("div",{staticClass:"details"},[e.isType("airing")?a("div",[a("span",{staticClass:"context"},[e._v(e._s(e.notification.contexts[0]))]),e._v("\n            "+e._s(e.notification.episode)+"\n            "),a("span",{staticClass:"context"},[e._v(e._s(e.notification.contexts[1]))]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.notification.media)}}},[e._v("\n                "+e._s(e.notification.media.title.userPreferred)+"\n            ")]),e._v(" "),a("span",{staticClass:"context"},[e._v(e._s(e.notification.contexts[2]))])],1):e.isType("following")?a("div",[a("router-link",{staticClass:"link",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.notification.user)}}},[e._v("\n                "+e._s(e.notification.user.name)+"\n            ")]),e._v(" "),a("span",{staticClass:"context"},[e._v(e._s(e.notification.context))])],1):e.isType("activity")?a("div",[a("router-link",{staticClass:"link",attrs:{to:{name:"Activity",params:{id:e.notification.activityId}}}},[e._v("\n                "+e._s(e.notification.user.name)+"\n                "),a("span",{staticClass:"context"},[e._v(e._s(e.notification.context))])])],1):e.isType("thread")?a("div",[a("router-link",{staticClass:"link",attrs:{to:e.threadUrl}},[e._v("\n                "+e._s(e.notification.user.name)+"\n                "),a("span",{staticClass:"context"},[e._v(e._s(e.notification.context))]),e._v(" "),e.notification.thread?a("span",[e._v("\n                    "+e._s(e.notification.thread.title)+"\n                ")]):e._e()])],1):e.isType("addition")?a("div",[a("router-link",{staticClass:"link",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.notification.media)}}},[e._v("\n                "+e._s(e.notification.media.title.userPreferred)+"\n            ")]),e._v(" "),a("span",{staticClass:"context"},[e._v(e._s(e.notification.context))])],1):e._e(),e._v(" "),a("div",{staticClass:"time"},[a("timeago",{attrs:{since:1e3*e.notification.createdAt,"auto-update":60}})],1)])],1):e._e()},Mp=[],Np={props:["notification","unread"],components:{FontAwesomeIcon:p.a},data(){return{notificationTypes:{airing:["AIRING"],following:["FOLLOWING"],activity:["ACTIVITY_MESSAGE","ACTIVITY_MENTION","ACTIVITY_REPLY","ACTIVITY_REPLY_SUBSCRIBED","ACTIVITY_LIKE","ACTIVITY_REPLY_LIKE"],thread:["THREAD_COMMENT_REPLY","THREAD_SUBSCRIBED","THREAD_COMMENT_MENTION","THREAD_LIKE","THREAD_COMMENT_LIKE"],addition:["RELATED_MEDIA_ADDITION"]}}},computed:{read(){return this.$store.getters["notification/isRead"](this.notification.id)},mediaCoverStyle(){return{"background-image":`url(${this.notification.media.coverImage.large})`}},avatarStyle(){return this.notification.user?{"background-image":`url(${this.notification.user.avatar.large})`}:{}},threadUrl(){if(this.isType("thread"))return this.notification.commentId?{name:"ForumThreadComment",params:{id:this.notification.thread.id,commentId:this.notification.commentId}}:{name:"ForumThread",params:{id:this.notification.thread.id}}}},methods:{isType(e){return this.notificationTypes[e].includes(this.notification.type)},markRead(){this.$store.dispatch("notification/markRead",this.notification.id)}},watch:{unread:function(e){e&&this.$store.dispatch("notification/addUnread",this.notification.id)}}},Dp=Np,Rp=(a("680c"),Object(b["a"])(Dp,Lp,Mp,!1,null,"727f7b22",null)),jp=Rp.exports,Fp={components:{Notification:jp,FontAwesomeIcon:p.a},mixins:[M["a"],st["a"]],data(){return{feed:"all",changingFeed:!1,showMobileNav:!1,loaded:!1}},computed:{notifications(){return this.$store.getters["notification/notifications"](this.page,this.feed)},unreadCount(){return this.auth.unreadNotificationCount}},methods:{async fetchNotifications(){this.hasNextPage=await this.$store.dispatch("notification/fetchNotifications",{page:this.page,feed:this.feed}),"all"===this.feed&&(this.loaded=!0)},changeFeed(e){this.feed=e,this.resetScrollLoader("changingFeed")},isUnread(e){return e<this.unreadCount&&"all"==this.feed&&this.loaded},resetCount(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$store.dispatch("auth/resetNotificationCount"),e&&this.$store.dispatch("notification/clearUnread")}},beforeRouteLeave(e,t,a){this.resetCount(),a()},metaInfo:{title:"Notifications"}},Up=Fp,zp=(a("ffeb"),Object(b["a"])(Up,Pp,Tp,!1,null,"4156aa25",null)),qp=zp.exports,Bp=[Object(Re["a"])({name:"Notifications",path:"/notifications",component:qp},je)],Vp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"forum-feed container"},[a("div",{staticClass:"mobile-nav",on:{click:function(t){e.showMobileNav=!e.showMobileNav}}},[a("h1",[e._v("\n            Forum\n            "),a("div",{staticClass:"filter-toggle",class:{active:e.showMobileNav}},[a("font-awesome-icon",{attrs:{icon:"ellipsis-h"}})],1)])]),e._v(" "),a("div",{staticClass:"filters",class:{"mobile-nav-hidden":!e.showMobileNav}},[e.auth?a("router-link",{staticClass:"create-btn",attrs:{to:"/forum/thread/editor/new"}},[e._v("Create Thread")]):e._e(),e._v(" "),a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("Feed")]),e._v(" "),a("router-link",{attrs:{to:{name:"ForumFeed",params:{type:"overview"}}}},[e._v("Overview")]),e._v(" "),a("router-link",{attrs:{to:{name:"ForumFeed",params:{type:"recent"},query:e.$route.query}}},[e._v("Recent Activity")]),e._v(" "),a("router-link",{attrs:{to:{name:"ForumFeed",params:{type:"new"},query:e.$route.query}}},[e._v("New Threads")]),e._v(" "),e.auth?a("router-link",{attrs:{to:{name:"ForumFeed",params:{type:"subscribed"},query:e.$route.query}}},[e._v("Subscribed")]):e._e(),e._v(" "),a("router-link",{attrs:{to:{name:"ForumFeed",params:{type:"search"}}}},[e._v("Search")])],1),e._v(" "),a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[e._v("Categories")]),e._v(" "),a("router-link",{class:{inactive:e.$route.query.category},attrs:{to:{name:"ForumFeed",params:{type:e.queryType}}}},[e._v("All")]),e._v(" "),e._l(e.categories,function(t){return a("router-link",{key:t.id,attrs:{to:{name:"ForumFeed",params:{type:e.queryType},query:{category:t.id}},exact:""}},[e._v(e._s(t.name))])})],2)],1),e._v(" "),a("div",{staticClass:"feed"},["search"==e.type?a("el-input",{staticClass:"search-input",attrs:{placeholder:"Search forum","prefix-icon":"el-icon-search"},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}):e._e(),e._v(" "),"overview"==e.type?e._l(e.overviewFeeds,function(t,s){return a("div",{key:s},["sticky"!==s?a("router-link",{staticClass:"overview-header",attrs:{to:e.overviewTitleMap[s].to}},[e._v("\n                    "+e._s(e.overviewTitleMap[s].title)+"\n                    "),a("span",[e._v("View All")])]):e._e(),e._v(" "),e._l(t,function(e){return a("thread-card",{key:e.id,attrs:{thread:e}})})],2)}):[e._l(e.feed.pageData,function(t){return e._l(t,function(e){return a("thread-card",{key:e.id,attrs:{thread:e}})})}),e._v(" "),e.changingFeed?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.fetchFeed,limit:3,paused:e.paused},on:{"update:paused":function(t){e.paused=t}}})]],2)])},Gp=[],Yp={name:"forumFeed",components:{ThreadCard:ea,FontAwesomeIcon:p.a,ElInput:Xa.a},mixins:[M["a"],st["a"]],props:{type:{type:String,default:"overview"}},data(){return{searchQueryString:"",changingFeed:!1,categories:[{id:7,name:"General"},{id:1,name:"Anime"},{id:2,name:"Manga"},{id:5,name:"Release Discussion"},{id:13,name:"Site Announcements"},{id:8,name:"News"},{id:9,name:"Music"},{id:10,name:"Gaming"},{id:4,name:"Visual Novels"},{id:3,name:"Light Novels"},{id:16,name:"Forum Games"},{id:15,name:"Recommendations"},{id:11,name:"Site Feedback"},{id:12,name:"Bug Reports"},{id:18,name:"AniList Apps"},{id:17,name:"Misc"}],overviewTitleMap:{recent:{title:"Recently Active Threads",to:"/forum/recent"},release:{title:"Release Discussion Threads",to:"/forum/recent?category=5"},new:{title:"Newly Created Threads",to:"/forum/new"}},showMobileNav:!1}},computed:{feed(){return this.$store.getters["forumFeed/find"](this.type,this.$route.query,this.page)},overviewFeeds(){return this.$store.getters["forumFeed/overview"]},searchQuery:{get(){return this.searchQueryString},set(e){this.searchQueryString=e,this.search()}},queryType(){return"overview"===this.type?"recent":this.type}},methods:{queryFilters(e,t){const a={recent:{sort:["REPLIED_AT_DESC"]},new:{sort:["ID_DESC"]},subscribed:{subscribed:!0,sort:["REPLIED_AT_DESC"]},search:{search:this.searchQuery}};return t.category?Object(Re["a"])({categoryId:Io()(t.category)},a[e]):t.media?Object(Re["a"])({mediaCategoryId:Io()(t.media)},a[e]):a[e]},async fetchOverview(){await this.$store.dispatch("forumFeed/fetchOverview")},async fetchFeed(){this.hasNextPage=await this.$store.dispatch("forumFeed/fetchFeed",{variables:Object(Re["a"])({type:this.type,page:this.page},this.queryFilters(this.type,{category:this.$route.query.category,media:this.$route.query.media})),query:this.$route.query})},async search(){this.resetScrollLoader("changingFeed"),this.page=1,this.fetchFeed()}},created(){"overview"==this.type&&this.fetchOverview()},async beforeRouteUpdate(e,t,a){this.resetScrollLoader("changingFeed"),"overview"==e.params.type&&this.fetchOverview(),a()},serverPrefetch(){return"overview"==this.type?this.fetchOverview():this.fetchFeed()},metaInfo:{title:"Forum - Anime & Manga Discussion"}},Hp=Yp,Qp=(a("b51d"),Object(b["a"])(Hp,Vp,Gp,!1,null,"02aa7b8a",null)),Wp=Qp.exports,Kp=[{name:"ForumFeed",path:"/forum/:type?",component:Wp,props:!0}],Jp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.thread.id?a("div",{staticClass:"forum-thread forum-thread-unscoped container"},[e.isLargeScreen?a("ad",{staticClass:"sense",attrs:{type:"forum"}}):e._e(),e._v(" "),a("comment-editor"),e._v(" "),a("h1",{staticClass:"title",class:{locked:e.thread.isLocked}},[e.thread.isLocked?a("span",[e._v("[Locked]")]):e._e(),e._v("\n        "+e._s(e.thread.title)+"\n    ")]),e._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"header"},[a("router-link",{staticClass:"user",attrs:{to:e.formatUserUrl(e.thread.user,!0)}},[a("div",{staticClass:"avatar",style:e.avatar}),e._v("\n                "+e._s(e.thread.user.name)+"\n            ")]),e._v(" "),a("timeago",{staticClass:"time",attrs:{since:1e3*e.thread.createdAt,"auto-update":60}})],1),e._v(" "),a("markdown",{attrs:{markdown:e.thread.body}}),e._v(" "),a("div",{staticClass:"footer"},[a("div",{staticClass:"categories"},[e._l(e.thread.categories,function(e,t,s){return a("category",{key:s,attrs:{category:e}})}),e._v(" "),e._l(e.thread.mediaCategories,function(e,t,s){return a("category",{key:s,attrs:{category:e,"with-link":!0}})})],2),e._v(" "),e.auth?a("div",{staticClass:"actions"},[e.isMod()||e.auth.id==e.thread.user.id?a("router-link",{staticClass:"button subscribe",attrs:{to:{name:"ForumThreadEditor",params:{id:e.thread.id}}}},[e._v("\n                    Edit\n                ")]):e._e(),e._v(" "),a("div",{staticClass:"button subscribe",class:{subscribed:e.thread.isSubscribed},on:{click:e.toggleSubscription}},[e._v("\n                    "+e._s(e.thread.isSubscribed?"Subscribed":"Subscribe")+"\n                ")]),e._v(" "),a("div",{staticClass:"button like"},[a("likes",{attrs:{likes:e.thread.likes,id:e.thread.id,type:"thread"}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"heart"}})],1)],1),e._v(" "),a("div",{staticClass:"button comment",on:{click:e.reply}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"reply"}}),e._v(" "),a("span",[e._v("Comment")])],1)],1):e._e()])],1),e._v(" "),a("ad",{staticClass:"sense-wide",attrs:{type:"forum"}}),e._v(" "),a("thread-comments",{attrs:{thread:e.thread,"comment-page":e.commentPage||1}})],1):e._e()},Zp=[],Xp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.thread.id?a("div",[e.thread.replyCount&&e.comments.pageInfo?a("div",{staticClass:"comments-header",attrs:{id:"anchor"}},[0!=e.thread.replyCount?a("span",{staticClass:"reply-count"},[e._v("\n            "+e._s(e.thread.replyCount)+" "),1!=e.thread.replyCount?[e._v("Replies")]:[e._v("Reply")]],2):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"comments"},[e.pageChanging?e._e():[e._l(e.comments.pageData,function(t,s){return e._l(t,function(e){return a("comment",{key:e.id,ref:"scroll-"+s,refInFor:!0,attrs:{comment:e,depth:0}})})}),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchComments}})],e._v(" "),e.comments.pageInfo&&0!==e.comments.pageInfo.total?a("div",{staticClass:"nav"},[a("el-pagination",{attrs:{small:"",layout:"pager","page-count":e.comments.pageInfo.lastPage,"current-page":e.page,"pager-count":e.isDesktop?7:5},on:{"current-change":e.toPage}}),e._v(" "),a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"reply",size:"sm"},on:{click:e.reply}})],1):e._e()],2),e._v(" "),!e.loading&&e.comments&&e.comments.pageInfo&&0==e.comments.pageInfo.total?a("div",{staticClass:"no-comments"},[e._v("\n        No replies yet (  )\n    ")]):e._e()]):e._e()},eh=[],th=a("101e"),ah=a.n(th),sh=a("77c1"),ih=a.n(sh),nh={name:"forumThreadComments",components:{ElPagination:ah.a,FontAwesomeIcon:p.a,Markdown:Rr["a"],Likes:fl["a"],Comment:bl},mixins:[M["a"],st["a"]],props:["thread","commentPage"],data(){return{pageChanging:!1,visiblePages:{}}},computed:{comments(){let e=this.$store.getters["forumThread/findComments"](this.thread.id);if(!e.pageInfo||!this.visiblePages[this.thread.id])return{};const t=ih()(e.pageData,(e,t)=>{return this.visiblePages[this.thread.id][t]});return{pageInfo:e.pageInfo,pageData:t}},isDesktop(){return this.$store.state.screen.isDesktop}},methods:{async fetchComments(){const e=this.thread.id;this.visiblePages[e]||(this.visiblePages[e]={}),this.visiblePages[e][this.page]=!0,this.hasNextPage=await this.$store.dispatch("forumThread/fetchComments",{threadId:e,page:this.page})},toPage(e){this.visiblePages[this.thread.id]={},s$.replace({name:"ForumThread",params:{id:this.thread.id,commentPage:e}})},reply(){this.$store.dispatch("forumThread/setCommentEditor",{active:!0,comment:{threadId:this.thread.id,comment:""}})}},watch:{commentPage(e){e!==this.page&&(this.page=e,this.fetchComments())}},created(){this.page=Io()(this.commentPage)-1},serverPrefetch(){return this.fetchComments()}},rh=nh,oh=(a("c506"),Object(b["a"])(rh,Xp,eh,!1,null,"1e1d45e0",null)),ch=oh.exports,lh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.editor.active?a("div",{staticClass:"comment-editor"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"editor"},[a("markdown-editor",{attrs:{markdown:e.markdown,input:e.input(),action:"forumThread/setCommentEditor",reference:"comment"}}),e._v(" "),a("el-input",{ref:"input",staticClass:"input",attrs:{type:"textarea",autosize:"",placeholder:"Write comment"},model:{value:e.markdown,callback:function(t){e.markdown=t},expression:"markdown"}}),e._v(" "),a("div",{staticClass:"actions"},[e.editor.comment.id?a("div",{staticClass:"button cancel delete",on:{click:function(t){return e.deleteComment()}}},[e._v("Delete")]):e._e(),e._v(" "),a("div",{staticClass:"button cancel",on:{click:function(t){return e.close()}}},[e._v("Close")]),e._v(" "),a("div",{staticClass:"button save",on:{click:function(t){return e.save()}}},[e._v("Send")])])],1),e._v(" "),a("div",{staticClass:"preview"},[a("h2",[e._v("Preview:")]),e._v(" "),a("markdown",{attrs:{markdown:e.markdown}})],1)])]):e._e()},dh=[],uh={components:{Markdown:Rr["a"],MarkdownEditor:fu["a"],ElInput:Xa.a},data(){return{saving:!1}},computed:{editor(){return this.$store.getters["forumThread/commentEditor"]},markdown:{get(){return this.editor.comment.comment||""},set(e){this.$store.dispatch("forumThread/setCommentEditor",{reference:"comment",value:e})}}},methods:{async save(){if(this.saving)return;this.saving=!0;const e=await this.$store.dispatch("forumThread/saveComment",this.editor.comment);e.success&&(s$.push({name:"ForumThreadComment",params:{id:this.editor.comment.threadId,commentId:e.comment.id}}),this.close()),this.saving=!1},async deleteComment(){try{await this.$confirm("Are you sure you want to delete this comment?","Warning")}catch(t){return}const e=await this.$store.dispatch("forumThread/deleteComment",this.editor.comment.id);e&&(this.$notify({type:"success",message:"Comment deleted"}),s$.push({path:`/forum/thread/${this.editor.comment.threadId}`}),this.close())},close(){this.$store.dispatch("forumThread/resetCommentEditor")},input(){if(this.$refs.input&&this.$refs.input.$el)return this.$refs.input.$el.children[0]}}},mh=uh,ph=(a("2b77"),Object(b["a"])(mh,lh,dh,!1,null,"466eb050",null)),hh=ph.exports,vh={name:"forumThread",components:{FontAwesomeIcon:p.a,Markdown:Rr["a"],Likes:fl["a"],Category:Kt,ThreadComments:ch,CommentEditor:hh,Ad:ze["a"]},mixins:[M["a"]],props:["id","commentPage"],data(){return{pageChanging:!1}},computed:{thread(){return this.$store.getters["forumThread/find"](this.id)},avatar(){return{"background-image":`url(${this.thread.user.avatar.large})`}},isLargeScreen(){return this.$store.state.screen.width>1400}},methods:{async fetchThread(e){await this.$store.dispatch("forumThread/fetchThread",{id:e})},async toggleSubscription(){await this.$store.dispatch("forumThread/toggleSubscription",{id:this.thread.id,subscribe:!this.thread.isSubscribed})},reply(){this.$store.dispatch("forumThread/setCommentEditor",{active:!0,comment:{threadId:this.thread.id,comment:""}})}},created(){this.fetchThread(this.id)},beforeRouteUpdate(e,t,a){this.fetchThread(e.params.id),a()},serverPrefetch(){return this.fetchThread(this.id)},metaInfo(){return this.thread.id?{title:`Forum Thread: ${this.thread.title}`,link:[{rel:"canonical",href:`https://anilist.co${this.formatThreadUrl(this.thread,!0)}`}]}:{}}},fh=vh,gh=(a("c611"),a("c219"),Object(b["a"])(fh,Jp,Zp,!1,null,"35ce35b6",null)),yh=gh.exports,_h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.commentId&&e.comment.id?a("div",{staticClass:"forum-thread forum-thread-unscoped container",attrs:{id:"anchor"}},[a("comment-editor"),e._v(" "),a("div",{staticClass:"comments-header",attrs:{id:"anchor"}},[a("router-link",{attrs:{to:{name:"ForumThread",params:{id:e.id,commentPage:1}}}},[e._v("\n            You're viewing a single comment. View the entire thread?\n        ")])],1),e._v(" "),a("div",{staticClass:"comments"},[a("comment",{key:e.comment.id,attrs:{comment:e.comment,depth:0}})],1)],1):e._e()},bh=[],wh={name:"forumThreadComment",components:{FontAwesomeIcon:p.a,Markdown:Rr["a"],Likes:fl["a"],Comment:bl,CommentEditor:hh},mixins:[M["a"]],props:["id","commentId"],computed:{comment(){return this.$store.getters["forumThread/getComment"](this.commentId)}},methods:{async fetchComment(e){const t=await this.$store.dispatch("forumThread/fetchComment",{id:e});t||s$.replace({name:"NotFound"})},reply(){this.$store.dispatch("forumThread/setCommentEditor",{active:!0,comment:{threadId:this.id,comment:""}})}},created(){this.fetchComment(Io()(this.commentId))},async beforeRouteUpdate(e,t,a){await this.fetchComment(e.params.commentId),a()},async beforeRouteLeave(e,t,a){e.params.commentId&&await this.fetchComment(e.params.commentId),a()}},Ch=wh,Sh=(a("0b23"),Object(b["a"])(Ch,_h,bh,!1,null,"753281aa",null)),$h=Sh.exports,kh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?e._e():a("div",{staticClass:"thread"},[a("div",{staticClass:"container"},[a("div",[a("div",{staticClass:"form title"},[a("el-input",{staticClass:"input",attrs:{type:"textarea",autosize:"",maxlength:120,placeholder:"Thread Title"},model:{value:e.thread.title,callback:function(t){e.$set(e.thread,"title",t)},expression:"thread.title"}})],1),e._v(" "),a("div",{staticClass:"body editor"},[a("markdown-editor",{attrs:{markdown:e.thread.body,input:e.input()},on:{"update:markdown":function(t){return e.$set(e.thread,"body",t)}}}),e._v(" "),a("el-input",{ref:"input",staticClass:"input",attrs:{type:"textarea",autosize:"",placeholder:"Write thread body"},model:{value:e.thread.body,callback:function(t){e.$set(e.thread,"body",t)},expression:"thread.body"}})],1),e._v(" "),a("div",{staticClass:"form categories"},[a("h2",[e._v("Categories")]),e._v(" "),a("el-checkbox-group",{staticClass:"categories-wrap",attrs:{max:3},model:{value:e.thread.categoryIds,callback:function(t){e.$set(e.thread,"categoryIds",t)},expression:"thread.categoryIds"}},e._l(e.categories,function(t){return a("div",{key:t.id},[a("el-checkbox",{attrs:{label:t.id,border:"",size:"small"}},[e._v(e._s(t.name))])],1)}),0)],1),e._v(" "),a("div",{staticClass:"form categories"},[a("h2",[e._v("Anime & Manga Categories")]),e._v(" "),a("el-input",{staticClass:"search-input",attrs:{placeholder:"Search","prefix-icon":"el-icon-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[e.search?a("i",{staticClass:"el-icon-circle-close",attrs:{slot:"suffix"},on:{click:function(t){e.search=null}},slot:"suffix"}):e._e()]),e._v(" "),e.searchInput?a("el-checkbox-group",{staticClass:"categories-wrap",attrs:{max:2},model:{value:e.thread.mediaCategoryIds,callback:function(t){e.$set(e.thread,"mediaCategoryIds",t)},expression:"thread.mediaCategoryIds"}},e._l(e.mediaCategories,function(t){return a("div",{key:t.id},[t.id?a("el-checkbox",{attrs:{label:t.id,border:"",size:"small"}},[e._v(e._s(t.title.userPreferred)+" ("+e._s(e._f("capitalizeFormat")(t.format))+")")]):e._e()],1)}),0):e._e(),e._v(" "),a("el-checkbox-group",{staticClass:"categories-wrap",model:{value:e.thread.mediaCategoryIds,callback:function(t){e.$set(e.thread,"mediaCategoryIds",t)},expression:"thread.mediaCategoryIds"}},e._l(e.thread.mediaCategories,function(t){return a("div",{key:t.id},[t.id?a("el-checkbox",{attrs:{label:t.id,border:"",size:"small"}},[e._v(e._s(t.title.userPreferred)+" ("+e._s(e._f("capitalizeFormat")(t.format))+")")]):e._e()],1)}),0)],1),e._v(" "),e.isMod()?a("div",{staticClass:"form"},[a("el-checkbox",{model:{value:e.thread.isSticky,callback:function(t){e.$set(e.thread,"isSticky",t)},expression:"thread.isSticky"}},[e._v("Sticky")])],1):e._e(),e._v(" "),e.isMod()?a("div",{staticClass:"form"},[a("el-checkbox",{model:{value:e.thread.isLocked,callback:function(t){e.$set(e.thread,"isLocked",t)},expression:"thread.isLocked"}},[e._v("Locked")])],1):e._e(),e._v(" "),e.thread.categoryIds[0]?e._e():a("div",{staticClass:"validation"},[e._v("\n                A thread category is required.\n            ")]),e._v(" "),a("div",{staticClass:"form"},[e.thread.categoryIds[0]?a("div",{staticClass:"save",on:{click:e.save}},[e._v("Save")]):e._e(),e._v(" "),e.thread.userId?a("div",{staticClass:"save delete",on:{click:e.deleteThread}},[e._v("Delete")]):e._e()])]),e._v(" "),a("div",{staticClass:"preview"},[a("h2",[e._v(e._s(e.thread.title))]),e._v(" "),a("div",{staticClass:"body"},[a("markdown",{attrs:{markdown:e.thread.body}})],1)])])])},Ih=[],Ah=a("7fc1"),Eh=a.n(Ah),xh={props:["id"],components:{Markdown:Rr["a"],MarkdownEditor:fu["a"],ElInput:Xa.a,ElCheckbox:me.a,ElCheckboxGroup:Eh.a},mixins:[M["a"]],data(){return{loading:!0,saving:!1,searchInput:null,thread:{title:"",body:"",categoryIds:[],mediaCategoryIds:[],isSticky:!1,isLocked:!1},allCategories:[{id:7,name:"General"},{id:1,name:"Anime"},{id:2,name:"Manga"},{id:5,name:"Release Discussion"},{id:8,name:"News"},{id:9,name:"Music"},{id:10,name:"Gaming"},{id:4,name:"Visual Novels"},{id:3,name:"Light Novels"},{id:16,name:"Forum Games"},{id:15,name:"Recommendations"},{id:11,name:"Site Feedback"},{id:12,name:"Bug Reports"},{id:18,name:"AniList Apps"},{id:17,name:"Misc"}],singleUseCategories:[7,11,12,17,18]}},computed:{existingThread(){return this.$store.getters["forumThread/find"](this.id)},categories(){const e=this.thread.categoryIds.find(e=>this.singleUseCategories.includes(e));return e?[this.allCategories.find(t=>t.id==e)]:this.thread.categoryIds.length>0?this.allCategories.filter(e=>!this.singleUseCategories.includes(e.id)):this.allCategories},mediaCategories(){const e={search:this.search,sort:"SEARCH_MATCH",page:1,type:"ANIME"},t=this.$store.getters["search/find"]("ANIME",e,1);return t.pageData?t.pageData[1]:[]},search:{get(){return this.searchInput},set(e){this.searchInput=e,this.searchMediaCategories()}},markdown:{get(){return this.thread.body},set(e){this.thread.body=e}}},methods:{async fetchThread(){await this.$store.dispatch("forumThread/fetchThread",{id:this.id}),this.loading=!1},async searchMediaCategories(){const e={search:this.search,sort:"SEARCH_MATCH",page:1};await this.$store.dispatch("search/fetchSearch",{variables:e,query:Object(Re["a"])({},e,{type:"ANIME"})})},async save(){if(this.saving)return;this.saving=!0;const e=this.thread;e.categoryIds||(e.categoryIds=e.categoryIds.map(e=>e.id)),e.mediaCategoryIds||(e.mediaCategoryIds=e.mediaCategories.map(e=>e.id));const t=await this.$store.dispatch("forumThread/saveThread",e);t.success&&s$.push({path:`/forum/thread/${t.thread.id}`}),this.saving=!1},async deleteThread(){try{await this.$confirm("Are you sure you want to delete this thread?","Warning")}catch(t){return}const e=await this.$store.dispatch("forumThread/deleteThread",{id:this.thread.id});e&&(this.$notify({type:"success",message:"Forum Thread deleted"}),s$.push({path:"/"}))},setupThread(){const e=this.existingThread;if(e){const t=e.categories.map(e=>e.id),a=e.mediaCategories.map(e=>e.id);this.thread=Object(Re["a"])({},e,{categoryIds:t,mediaCategoryIds:a})}},input(){if(this.$refs.input&&this.$refs.input.$el)return this.$refs.input.$el.children[0]}},async created(){"new"!==this.id?(await this.fetchThread(),this.setupThread()):(this.loading=!1,this.$route.query.mediaId&&this.thread.mediaCategoryIds.push(Io()(this.$route.query.mediaId)),this.$route.query.title&&(this.thread.title=this.$route.query.title))},metaInfo:{title:"Forum - Create Thread"}},Oh=xh,Ph=(a("d1fd"),Object(b["a"])(Oh,kh,Ih,!1,null,"83bd7450",null)),Th=Ph.exports,Lh=[{name:"ForumThreadEditor",path:"/forum/thread/editor/:id?",component:Th,props:!0},{name:"ForumThread",path:"/forum/thread/:id/:commentPage?",component:yh,props:!0},{name:"ForumThreadComment",path:"/forum/thread/:id/comment/:commentId",component:$h,props:!0}],Mh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"settings container"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"mobile-nav",on:{click:function(t){e.showMobileNav=!e.showMobileNav}}},[a("h1",[e._v("\n                Settings\n                "),a("div",{staticClass:"filter-toggle",class:{active:e.showMobileNav}},[a("font-awesome-icon",{attrs:{icon:"ellipsis-h"}})],1)])]),e._v(" "),a("div",{staticClass:"nav-group",class:{"mobile-nav-hidden":!e.showMobileNav}},[a("div",{staticClass:"group-header"},[e._v("Settings")]),e._v(" "),a("router-link",{attrs:{to:{name:"ProfileSettings"},exact:""}},[e._v("Profile")]),e._v(" "),a("router-link",{attrs:{to:{name:"AuthSettings"}}},[e._v("Account")]),e._v(" "),a("router-link",{attrs:{to:{name:"MediaSettings"}}},[e._v("Anime & Manga")]),e._v(" "),a("router-link",{attrs:{to:{name:"ListSettings"}}},[e._v("Lists")]),e._v(" "),a("router-link",{attrs:{to:{name:"NotificationSettings"}}},[e._v("Notifications")]),e._v(" "),a("router-link",{attrs:{to:{name:"ImportSettings"}}},[e._v("Import Lists")])],1),e._v(" "),a("div",{staticClass:"nav-group",class:{"mobile-nav-hidden":!e.showMobileNav}},[a("div",{staticClass:"group-header"},[e._v("Apps")]),e._v(" "),a("router-link",{attrs:{to:{name:"TwitterSettings"}}},[e._v("Twitter")]),e._v(" "),a("router-link",{attrs:{to:{name:"AppSettings"}}},[e._v("Apps")]),e._v(" "),a("router-link",{attrs:{to:{name:"DeveloperSettings"}}},[e._v("Developer")])],1)]),e._v(" "),a("div",{staticClass:"content"},[a("router-view",{attrs:{user:e.auth}})],1)])},Nh=[],Dh={components:{FontAwesomeIcon:p.a},mixins:[M["a"]],data(){return{showMobileNav:!1}},metaInfo:{title:"Settings"}},Rh=Dh,jh=(a("5952"),Object(b["a"])(Rh,Mh,Nh,!1,null,"8782e83a",null)),Fh=jh.exports,Uh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile"},[a("div",{staticClass:"section"},[a("h2",[e._v("Profile Color")]),e._v(" "),e._l(e.colors,function(t,s){return a("div",{key:s,staticClass:"color",class:{active:s==e.user.options.profileColor},style:{background:t},on:{click:function(t){return e.saveColor(s)}}})}),e._v(" "),e.user.donatorTier<2?a("div",{staticClass:"color custom locked"},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"lock"}})],1):a("div",{staticClass:"color custom",class:{active:e.isCustomColor},style:{background:e.isCustomColor?e.user.options.profileColor:null}},[a("el-color-picker",{attrs:{value:e.user.options.profileColor,"color-format":"hex"},on:{change:e.saveColor}})],1)],2),e._v(" "),e.user.donatorTier>2?a("div",{staticClass:"section"},[a("h2",[e._v("Donator Badge Text")]),e._v(" "),a("el-input",{attrs:{placeholder:"Custom Donator Badge Text",maxlength:"24"},model:{value:e.donatorBadge,callback:function(t){e.donatorBadge=t},expression:"donatorBadge"}}),e._v(" "),e.donatorBadge!==e.user.donatorBadge?a("div",{staticClass:"button",on:{click:e.saveDonatorBadge}},[e._v("Save")]):e._e()],1):e._e(),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Site Theme")]),e._v(" "),a("el-tooltip",{attrs:{content:"Default",placement:"top-start"}},[a("div",{staticClass:"theme-preview default",on:{click:function(t){return e.setTheme("default")}}},[e._v("A")])]),e._v(" "),a("el-tooltip",{attrs:{content:"Dark",placement:"top-start"}},[a("div",{staticClass:"theme-preview dark",on:{click:function(t){return e.setTheme("dark")}}},[e._v("A")])]),e._v(" "),a("el-tooltip",{attrs:{content:"High Contrast",placement:"top-start"}},[a("div",{staticClass:"theme-preview contrast",on:{click:function(t){return e.setTheme("contrast")}}},[e._v("A")])])],1),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("About")]),e._v(" "),a("markdown-editor",{attrs:{markdown:e.about,input:e.aboutInput(),action:"settings/setAbout",reference:null}}),e._v(" "),a("el-input",{ref:"input",staticClass:"about",attrs:{type:"textarea",autosize:"",placeholder:"A little about yourself..."},model:{value:e.about,callback:function(t){e.about=t},expression:"about"}}),e._v(" "),e.aboutChanged&&e.aboutChanged!=e.about?[a("markdown",{attrs:{markdown:e.about}}),e._v(" "),a("div",{staticClass:"button",on:{click:e.saveAbout}},[e._v("Save")])]:e._e()],2),e._v(" "),a("form",{staticClass:"section",attrs:{enctype:"multipart/form-data"}},[a("h2",[e._v("Avatar")]),e._v(" "),a("div",{staticClass:"label"},[e._v("Allowed Formats: "),e.user.donatorTier>2?a("b",[e._v("Animated GIF,")]):e._e(),e._v(" JPEG, PNG. Max size: 3mb. Optimal dimensions: 230x230")]),e._v(" "),a("div",{staticClass:"dropbox"},[a("input",{staticClass:"input-file",attrs:{type:"file",name:"avatar",disabled:e.avatar.saving,accept:"image/*"},on:{change:function(t){return e.imageUpload("avatar",t.target.files)}}}),e._v(" "),e.avatar.saving?a("p",[e._v("Uploading avatar...")]):a("p",[e._v("Drop image here or click to upload")])]),e._v(" "),a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.user.avatar.large,expression:"user.avatar.large",arg:"background-image"}],staticClass:"avatar"})]),e._v(" "),a("form",{staticClass:"section",attrs:{enctype:"multipart/form-data"}},[a("h2",[e._v("Banner")]),e._v(" "),a("div",{staticClass:"label"},[e._v("Allowed Formats: JPEG, PNG. Max size: 6mb. Optimal dimensions: 1700x330")]),e._v(" "),a("div",{staticClass:"dropbox"},[a("input",{staticClass:"input-file",attrs:{type:"file",name:"banner",disabled:e.banner.saving,accept:"image/*"},on:{change:function(t){return e.imageUpload("banner",t.target.files)}}}),e._v(" "),e.banner.saving?a("p",[e._v("Uploading banner...")]):a("p",[e._v("Drop image here or click to upload")])]),e._v(" "),a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.user.bannerImage,expression:"user.bannerImage",arg:"background-image"}],staticClass:"avatar banner"})]),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Data Cache (Recommended)")]),e._v(" "),e._m(0),e._v(" "),a("el-checkbox",{on:{change:function(t){return e.setDataCache(t)}},model:{value:e.dataCache,callback:function(t){e.dataCache=t},expression:"dataCache"}},[e._v("Enable Data Cache")])],1)])},zh=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label"},[e._v("\n            Data Cache improves load times by caching all data to your browser's local storage."),a("br"),e._v("\n            This may put more pressure on your CPU and memory.\n        ")])}],qh=a("7464"),Bh=a.n(qh),Vh={props:["user"],components:{Markdown:Rr["a"],MarkdownEditor:fu["a"],ElInput:Xa.a,ElCheckbox:me.a,ElColorPicker:Bh.a,FontAwesomeIcon:p.a},data(){return{dataCache:!0,aboutChanged:!1,donatorBadge:"Donator",avatar:{saving:!1},banner:{saving:!1},colors:{blue:"#3db4f2",purple:"#c063ff",green:"#4cca51",orange:"#ef881a",red:"#e13333",pink:"#fc9dd6",gray:"#677b94"}}},computed:{about:{get(){return this.$store.getters["settings/about"]},set(e){this.aboutChanged||(this.aboutChanged=this.about),this.$store.dispatch("settings/setAbout",{value:e})}},isCustomColor(){return this.user.options.profileColor.startsWith("#")}},methods:{toBase64(e,t){const a=new FileReader;a.onloadend=(t=>{this[`${e}Upload`](t.target.result)}),a.readAsDataURL(t)},imageUpload(e,t){this[e].saving=!0;try{this.toBase64(e,t[0])}catch(a){this.$notify("Failed to upload image"),this[e].saving=!1}},async avatarUpload(e){await this.$store.dispatch("settings/saveAvatar",e),await this.$store.dispatch("auth/fetchViewer"),this.avatar.saving=!1},async bannerUpload(e){await this.$store.dispatch("settings/saveBanner",e),await this.$store.dispatch("auth/fetchViewer"),this.banner.saving=!1},async saveAbout(){const e=await this.$store.dispatch("settings/saveUser",{about:this.about});e&&(this.aboutChanged=!1)},async saveColor(e){await this.$store.dispatch("settings/saveUser",{profileColor:e})},async saveDonatorBadge(){await this.$store.dispatch("settings/saveUser",{donatorBadge:this.donatorBadge})},aboutInput(){if(this.$refs.input&&this.$refs.input.$el)return this.$refs.input.$el.children[0]},setTheme(e){this.$store.dispatch("setSiteTheme",e)},setDataCache(e){e?localStorage.removeItem("disable-store-cache"):localStorage.setItem("disable-store-cache",!0),window.location.reload()}},created(){this.$store.dispatch("settings/setAbout",{value:this.user.about}),this.dataCache=!localStorage.getItem("disable-store-cache"),this.donatorBadge=this.user.donatorBadge},metaInfo:{title:"User Profile Settings"}},Gh=Vh,Yh=(a("b3f0"),Object(b["a"])(Gh,Uh,zh,!1,null,"5fb3201a",null)),Hh=Yh.exports,Qh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.userAuth?a("div",{staticClass:"auth"},[e.userAuthOriginal.loginName!=e.userAuthOriginal.email?a("div",{staticClass:"section"},[a("h2",[e._v("Legacy Login Name")]),e._v(" "),a("el-input",{attrs:{value:e.userAuth.loginName,disabled:""}})],1):e._e(),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("User Name")]),e._v(" "),a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.userAuth.name,callback:function(t){e.$set(e.userAuth,"name","string"===typeof t?t.trim():t)},expression:"userAuth.name"}})],1),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Email")]),e._v(" "),a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.userAuth.email,callback:function(t){e.$set(e.userAuth,"email","string"===typeof t?t.trim():t)},expression:"userAuth.email"}})],1),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Change Password")]),e._v(" "),a("el-input",{attrs:{type:"password",placeholder:"New password","auto-complete":"off"},model:{value:e.password.new,callback:function(t){e.$set(e.password,"new","string"===typeof t?t.trim():t)},expression:"password.new"}}),e._v(" "),a("br"),a("br"),e._v(" "),a("el-input",{attrs:{type:"password",placeholder:"Confirm new password","auto-complete":"off"},model:{value:e.password.confirm,callback:function(t){e.$set(e.password,"confirm","string"===typeof t?t.trim():t)},expression:"password.confirm"}})],1),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Privacy")]),e._v(" "),a("div",{staticClass:"privacy-option",class:{active:0==e.userAuth.privacy},on:{click:function(t){e.userAuth.privacy=0}}},[a("el-radio",{staticClass:"title",attrs:{label:0},model:{value:e.userAuth.privacy,callback:function(t){e.$set(e.userAuth,"privacy",t)},expression:"userAuth.privacy"}},[e._v("Public")]),e._v(" "),a("div",{staticClass:"label"},[e._v("Everyone can view my profile, lists, and activity.")])],1),e._v(" "),a("div",{staticClass:"privacy-option",class:{active:1==e.userAuth.privacy},on:{click:function(t){e.userAuth.privacy=1}}},[a("el-radio",{staticClass:"title",attrs:{label:1},model:{value:e.userAuth.privacy,callback:function(t){e.$set(e.userAuth,"privacy",t)},expression:"userAuth.privacy"}},[e._v("Semi-Public")]),e._v(" "),a("div",{staticClass:"label"},[e._v("Everyone can view my profile, lists, and activity but my activity won't appear on the global public feeds.")])],1),e._v(" "),a("div",{staticClass:"privacy-option",class:{active:2==e.userAuth.privacy},on:{click:function(t){e.userAuth.privacy=2}}},[a("el-radio",{staticClass:"title",attrs:{label:2},model:{value:e.userAuth.privacy,callback:function(t){e.$set(e.userAuth,"privacy",t)},expression:"userAuth.privacy"}},[e._v("Private")]),e._v(" "),a("div",{staticClass:"label"},[e._v("Nobody except me can view my profile, lists, and activity.")])],1)]),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Confirm Current Password")]),e._v(" "),a("el-input",{attrs:{type:"password",placeholder:"Confirm current password","auto-complete":"off"},model:{value:e.password.current,callback:function(t){e.$set(e.password,"current",t)},expression:"password.current"}}),e._v(" "),a("div",{staticClass:"button",on:{click:e.save}},[e._v("Save")])],1),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"section delete-acount"},[a("h2",[e._v("Delete User Account")]),e._v(" "),a("div",{staticClass:"label"},[e._v("Warning! This will permanently delete all your account data.")]),e._v(" "),a("div",{staticClass:"button danger",on:{click:e.confirmDelete}},[e._v("Delete User Account")])])]):e._e()},Wh=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section gdpr delete-acount"},[a("h2",[e._v("GDPR Data Download")]),e._v(" "),a("div",{staticClass:"label"},[e._v("Download all your data stored by AniList.co")]),e._v(" "),a("a",{staticClass:"button",attrs:{href:"/gdpr/download",target:"_blank"}},[e._v("Download")])])}],Kh=a("f494"),Jh=a.n(Kh),Zh={props:["user"],components:{ElInput:Xa.a,ElSelect:Ja.a,ElOption:Wa.a,ElCheckbox:me.a,ElRadio:Jh.a},data(){return{userAuth:null,userAuthOriginal:null,password:{current:null,new:null,confirm:null}}},methods:{async fetchUserAuth(){return await this.$store.dispatch("settings/fetchUserAuth")},async save(){if(this.checkPassword()&&this.checkNewPassword()){const e=Object(Re["a"])({password:this.password.current},this.getModifiedAuth());this.password.new&&(e.newPassword=this.password.new,e.confirmNewPassword=this.password.confirm);const t=await this.$store.dispatch("settings/saveUserAuth",e);t&&(this.userAuth=t,this.userAuthOriginal=Object(Re["a"])({},t),this.password={current:null,new:null,confirm:null})}},checkPassword(){return null!=this.password.current||(this.$notify({type:"warning",message:"You need to enter your current password to change these settings"}),!1)},checkNewPassword(){return null===this.password.new||this.password.new==this.password.confirm||(this.$notify({type:"warning",message:"New passwords do not match"}),!1)},getModifiedAuth(){const e={};return d()(this.userAuth).forEach(t=>{this.userAuth[t]!=this.userAuthOriginal[t]&&(e[t]=this.userAuth[t])}),e},confirmDelete(){this.$prompt("Please enter your password to confirm your account deletion","Delete User Account",{confirmButtonText:"OK, Delete my account",cancelButtonText:"Cancel",inputPlaceholder:"Confirm Password",inputType:"password"}).then(e=>{let t=e.value;this.deleteUser(t)})},async deleteUser(e){if(!e)return;const t=await this.$store.dispatch("settings/deleteUser",{password:e});t&&(await this.$store.dispatch("auth/setViewer",!1),s$.push({path:"/"}))}},async created(){const e=await this.fetchUserAuth();this.userAuth=e,this.userAuthOriginal=Object(Re["a"])({},e)},metaInfo:{title:"Account Settings"}},Xh=Zh,ev=(a("d9ff"),Object(b["a"])(Xh,Qh,Wh,!1,null,"f5d0c89c",null)),tv=ev.exports,av=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lists"},[a("div",{staticClass:"section"},[a("h2",[e._v("Scoring System")]),e._v(" "),a("el-select",{attrs:{placeholder:"Scoring System"},model:{value:e.scoreFormat,callback:function(t){e.scoreFormat=t},expression:"scoreFormat"}},e._l(e.scoreOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Default List Order")]),e._v(" "),a("el-select",{attrs:{placeholder:"Default List Order"},model:{value:e.rowOrder,callback:function(t){e.rowOrder=t},expression:"rowOrder"}},e._l(e.rowOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Split Completed List Section by Format")]),e._v(" "),a("el-checkbox",{model:{value:e.splitCompletedAnimeList,callback:function(t){e.splitCompletedAnimeList=t},expression:"splitCompletedAnimeList"}},[e._v("Anime List")]),e._v(" "),a("el-checkbox",{model:{value:e.splitCompletedMangaList,callback:function(t){e.splitCompletedMangaList=t},expression:"splitCompletedMangaList"}},[e._v("Manga List")])],1),e._v(" "),"POINT_10_DECIMAL"===e.scoreFormat||"POINT_100"===e.scoreFormat?a("div",{staticClass:"section"},[a("h2",[e._v("Advanced Scoring")]),e._v(" "),a("el-checkbox",{model:{value:e.advancedScoringEnabled,callback:function(t){e.advancedScoringEnabled=t},expression:"advancedScoringEnabled"}},[e._v("Enabled")]),e._v(" "),e.advancedScoringEnabled?a("div",{staticStyle:{"margin-top":"15px"}},[e._l(e.advancedScoringNames,function(t,s){return a("div",{key:s,staticClass:"custom-list"},[a("el-input",{attrs:{value:t,placeholder:"Name",clearable:""},on:{input:function(t){return e.updateAdvancedScores(t,s)}}})],1)}),e._v(" "),a("div",{staticClass:"button",on:{click:e.saveAdvancedScores}},[e._v("Save")]),e._v(" "),a("div",{staticClass:"button cancel",on:{click:e.addAdvancedScore}},[e._v("Add +")])],2):e._e()],1):e._e(),e._v(" "),e._l(e.customLists,function(t,s){return a("div",{key:s,staticClass:"section"},[a("h2",[e._v("Custom "+e._s(s)+" Lists")]),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,staticClass:"custom-list"},[a("el-input",{attrs:{value:t,placeholder:"Custom List Name",clearable:""},on:{input:function(t){return e.updateCustomList(t,i,s)},clear:function(a){return e.deleteCustomList(t,s)}}})],1)}),e._v(" "),a("div",{staticClass:"button",on:{click:function(t){return e.saveCustomLists(s)}}},[e._v("Save")]),e._v(" "),a("div",{staticClass:"button cancel",on:{click:function(t){return e.addCustomList(s)}}},[e._v("Add +")])],2)}),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Stats")]),e._v(" "),a("div",{staticClass:"label"},[e._v("Your stats automatically update every 24 hours but you can force an update below")]),e._v(" "),a("div",{staticClass:"button",on:{click:e.updateStats}},[e._v("Update Stats")])]),e._v(" "),a("div",{staticClass:"section danger"},[a("h2",[e._v("Reset List Scores")]),e._v(" "),a("div",{staticClass:"label"},[e._v("Clear all your anime or manga list scores")]),e._v(" "),a("div",{staticClass:"button danger",on:{click:function(t){return e.resetScores("ANIME")}}},[e._v("Reset Anime List Scores")]),e._v(" "),a("div",{staticClass:"button danger",on:{click:function(t){return e.resetScores("MANGA")}}},[e._v("Reset Manga List Scores")])]),e._v(" "),a("div",{staticClass:"section danger"},[a("h2",[e._v("Delete List")]),e._v(" "),a("div",{staticClass:"label"},[e._v("Warning! This will permanently delete all your anime or manga list entries")]),e._v(" "),a("div",{staticClass:"button danger",on:{click:function(t){return e.deleteList("ANIME")}}},[e._v("Delete Anime List")]),e._v(" "),a("div",{staticClass:"button danger",on:{click:function(t){return e.deleteList("MANGA")}}},[e._v("Delete Manga List")])])],2)},sv=[],iv={props:["user"],components:{ElInput:Xa.a,ElSelect:Ja.a,ElOption:Wa.a,ElCheckbox:me.a},data(){return{loading:!1,customLists:{anime:[],manga:[]},advancedScoringNames:[],scoreOptions:{POINT_100:"100 Point (55/100)",POINT_10_DECIMAL:"10 Point Decimal (5.5/10)",POINT_10:"10 Point (5/10)",POINT_5:"5 Star (3/5)",POINT_3:"3 Point Smiley :)"},rowOptions:{score:"Score",title:"Title",updatedAt:"Last Updated",id:"Last Added"}}},computed:{scoreFormat:{get(){return this.user.mediaListOptions.scoreFormat},set(e){this.save({scoreFormat:e})}},rowOrder:{get(){return this.user.mediaListOptions.rowOrder},set(e){this.save({rowOrder:e})}},splitCompletedAnimeList:{get(){return this.user.mediaListOptions.animeList.splitCompletedSectionByFormat},set(e){this.save({animeListOptions:{splitCompletedSectionByFormat:e}})}},splitCompletedMangaList:{get(){return this.user.mediaListOptions.mangaList.splitCompletedSectionByFormat},set(e){this.save({mangaListOptions:{splitCompletedSectionByFormat:e}})}},advancedScoringEnabled:{get(){return this.user.mediaListOptions.animeList.advancedScoringEnabled},set(e){this.save({animeListOptions:{advancedScoringEnabled:e}})}}},methods:{updateCustomList(e,t,a){this.$set(this.customLists[a],t,e)},async deleteCustomList(e,t){const a=await this.$store.dispatch("settings/deleteCustomList",{name:e,type:t.toUpperCase()});a&&(this.customLists[t]=this.customLists[t].filter(e=>!!e))},addCustomList(e){this.customLists[e].push(null)},saveCustomLists(e){const t={},a=this.customLists[e].filter(e=>null!=e&&""!=e.trim());t[`${e}ListOptions`]={customLists:a},this.save(t)},updateAdvancedScores(e,t){this.$set(this.advancedScoringNames,t,e)},addAdvancedScore(){this.advancedScoringNames.push(null)},saveAdvancedScores(){const e=this.advancedScoringNames.filter(e=>null!=e&&""!=e.trim());this.save({animeListOptions:{advancedScoring:e}})},async save(e){await this.$store.dispatch("settings/saveUser",e)},async updateStats(){this.loading||(this.loading=!0,await this.$store.dispatch("settings/updateStats"),this.loading=!1)},resetScores(e){this.$prompt("Please enter your password to confirm your score reset",`Reset ${e.toLowerCase()} list scores`,{confirmButtonText:`OK, Reset my ${e.toLowerCase()} list scores`,cancelButtonText:"Cancel",inputPlaceholder:"Confirm Password",inputType:"password"}).then(t=>{let a=t.value;this.$store.dispatch("settings/resetScores",{password:a,type:e})})},deleteList(e){this.$prompt("Please enter your password to confirm your list deletion",`Delete ${e.toLowerCase()} list`,{confirmButtonText:`OK, Delete my ${e.toLowerCase()} list entries`,cancelButtonText:"Cancel",inputPlaceholder:"Confirm Password",inputType:"password"}).then(t=>{let a=t.value;this.$store.dispatch("settings/deleteList",{password:a,type:e})})}},created(){this.customLists.anime=this.user.mediaListOptions.animeList.customLists.slice(0),this.customLists.manga=this.user.mediaListOptions.mangaList.customLists.slice(0),this.advancedScoringNames=this.user.mediaListOptions.animeList.advancedScoring.slice(0),this.customLists.anime.push(null),this.customLists.manga.push(null),this.advancedScoringNames.push(null)},metaInfo:{title:"List Settings"}},nv=iv,rv=(a("256a"),Object(b["a"])(nv,av,sv,!1,null,"b57f8e96",null)),ov=rv.exports,cv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"media"},[a("div",{staticClass:"section"},[a("h2",[e._v("Title Language")]),e._v(" "),a("el-select",{attrs:{placeholder:"Title Language"},model:{value:e.titleLanguage,callback:function(t){e.titleLanguage=t},expression:"titleLanguage"}},e._l(e.titleLanguageOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),e._v(" "),a("div",{staticClass:"section"},[a("el-checkbox",{model:{value:e.airingNotifications,callback:function(t){e.airingNotifications=t},expression:"airingNotifications"}},[e._v("Airing Anime Notifications")])],1),e._v(" "),a("div",{staticClass:"section"},[a("el-checkbox",{model:{value:e.displayAdultContent,callback:function(t){e.displayAdultContent=t},expression:"displayAdultContent"}},[e._v("18+ Content")])],1)])},lv=[],dv={props:["user"],components:{ElSelect:Ja.a,ElOption:Wa.a,ElCheckbox:me.a},data(){return{titleLanguageOptions:{ROMAJI:"Romaji (Shingeki no Kyojin)",ENGLISH:"English (Attack on Titan)",NATIVE:"Native ()"}}},computed:{titleLanguage:{get(){return this.user.options.titleLanguage},set(e){this.save({titleLanguage:e})}},airingNotifications:{get(){return this.user.options.airingNotifications},set(e){this.save({airingNotifications:e})}},displayAdultContent:{get(){return this.user.options.displayAdultContent},set(e){this.save({displayAdultContent:e})}}},methods:{async save(e){await this.$store.dispatch("settings/saveUser",e)}},metaInfo:{title:"Anime & Manga Settings"}},uv=dv,mv=(a("b2ef"),Object(b["a"])(uv,cv,lv,!1,null,"2918d8f4",null)),pv=mv.exports,hv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"import"},[a("div",{staticClass:"section"},[a("h2",[e._v("MyAnimeList: Import Anime List (Make sure to unzip the .xml.gz file first!)")]),e._v(" "),a("el-checkbox",{model:{value:e.mal.anime.overwriteExisting,callback:function(t){e.$set(e.mal.anime,"overwriteExisting",t)},expression:"mal.anime.overwriteExisting"}},[e._v("Overwrite anime already on my list")]),e._v(" "),a("div",{staticClass:"dropbox"},[e.saving.anime?e._e():a("input",{staticClass:"input-file",attrs:{type:"file",name:"xml",accept:"text/xml"},on:{change:function(t){return e.listUpload("anime",t.target.files)}}}),e._v(" "),e.saving.anime?a("p",[e._v("Uploading animelist...")]):a("p",[e._v("Drop list xml file here or click to upload")])])],1),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("MyAnimeList: Import Manga List (Make sure to unzip the .xml.gz file first!)")]),e._v(" "),a("el-checkbox",{model:{value:e.mal.manga.overwriteExisting,callback:function(t){e.$set(e.mal.manga,"overwriteExisting",t)},expression:"mal.manga.overwriteExisting"}},[e._v("Overwrite manga already on my list")]),e._v(" "),a("div",{staticClass:"dropbox"},[e.saving.manga?e._e():a("input",{staticClass:"input-file",attrs:{type:"file",name:"xml",accept:"text/xml"},on:{change:function(t){return e.listUpload("manga",t.target.files)}}}),e._v(" "),e.saving.manga?a("p",[e._v("Uploading mangalist...")]):a("p",[e._v("Drop list xml file here or click to upload")])])],1),e._v(" "),e.missingEntries[0]?a("div",{staticClass:"section"},[a("b",[e._v("Sorry we couldn't import the following entries:")]),a("br"),e._v("\n        (These entries have been reported to our data moderators and should be added soon)"),a("br"),a("br"),e._v(" "),e._l(e.missingEntries,function(t,s,i){return a("div",{key:i},[e._v(e._s(t))])})],2):e._e()])},vv=[],fv={components:{ElInput:Xa.a,ElCheckbox:me.a},data(){return{mal:{anime:{username:null,overwriteExisting:!1,type:"ANIME"},manga:{username:null,overwriteExisting:!1,type:"MANGA"}},saving:{anime:!1,manga:!1},missingEntries:[]}},methods:{async listUpload(e,t){if(!this.saving[e]){this.saving[e]=!0;try{const s=new FileReader;s.onloadend=(t=>{this.importList(e,t.target.result)}),s.readAsText(t[0])}catch(a){this.$notify("Failed to upload list"),this.saving[e]=!1}}},async importList(e,t){const a=await this.$store.dispatch("settings/importList",Object(Re["a"])({xml:t},this.mal[e]));a&&(this.missingEntries=Ss()(a)),this.saving[e]=!1}},metaInfo:{title:"Import Anime & Manga List"}},gv=fv,yv=(a("66ae"),Object(b["a"])(gv,hv,vv,!1,null,"56081368",null)),_v=yv.exports,bv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"twitter"},[a("h2",[e._v("Connect Account with Twitter")]),e._v(" "),e.isAuthenticated?[a("div",{staticClass:"info"},[e._v("Your account is connected with Twitter. We'll update your Twitter with your last 5 new updates every 5 minutes.")]),e._v(" "),a("div",{staticClass:"button cancel",on:{click:e.deauthorize}},[e._v("Disconnect With Twitter")])]:[a("div",{staticClass:"info"},[e._v("Automatically post your AniList anime & manga list updates to Twitter.")]),e._v(" "),a("a",{staticClass:"button",attrs:{href:"/auth/twitter",target:"_self"}},[e._v("Connect With Twitter")])]],2)},wv=[];const Cv=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i["a"].commit("setLoadingState",!0);let s=null;a&&(s=new URLSearchParams,d()(a).forEach(e=>{s.set(e,a[e])}));try{const a=await fetch(t,{method:e,redirect:"follow",credentials:"include",headers:{Accept:"application/json, application/xml, text/plain, text/html, *.*","Content-Type":"application/x-www-form-urlencoded","x-csrf-token":window.al_token},body:s});return i["a"].commit("setLoadingState",!1),a.json()}catch(n){throw i["a"].commit("setLoadingState",!1),n}},Sv=e=>Cv("GET",e),$v=(e,t)=>Cv("POST",e,t),kv=(e,t)=>Cv("PUT",e,t),Iv=e=>Cv("DELETE",e);var Av={props:["user"],data(){return{isAuthenticated:!1}},methods:{async isConnected(){const e=await Sv("/auth/twitter/authenticated");this.isAuthenticated=e.isAuthenticated},async deauthorize(){try{await Iv("/auth/twitter")}catch(e){}this.isAuthenticated=!1}},created(){this.isConnected()},metaInfo:{title:"Twitter account connection"}},Ev=Av,xv=(a("e016"),Object(b["a"])(Ev,bv,wv,!1,null,"4b11b9e9",null)),Ov=xv.exports,Pv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"apps"},[a("h2",[e._v("Apps connected with your account")]),e._v(" "),e.apps[0]||e.loading?e._e():a("div",{staticClass:"empty"},[e._v("\n        You have no apps connected with your account.\n    ")]),e._v(" "),e._l(e.apps,function(t,s){return a("div",{key:s,staticClass:"app"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"name"},[e._v(e._s(t.client.name))]),e._v(" "),a("a",{staticClass:"developer",attrs:{href:"/user/"+t.client.user_id}},[e._v("Contact app developer")])]),e._v(" "),a("div",{staticClass:"button danger",on:{click:function(a){return e.revokeApp(t.id)}}},[e._v("Revoke App")])])})],2)},Tv=[],Lv={props:["user"],data(){return{apps:[],loading:!0}},methods:{async fetchApps(){this.apps=await Sv("/api/v2/oauth/tokens"),this.loading=!1},async revokeApp(e){await Iv(`/api/v2/oauth/tokens/${e}`),await this.fetchApps()}},created(){this.fetchApps()},metaInfo:{title:"App Settings"}},Mv=Lv,Nv=(a("2756"),Object(b["a"])(Mv,Pv,Tv,!1,null,"ba4464ec",null)),Dv=Nv.exports,Rv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clients"},[a("h2",[e._v("Api Clients")]),e._v(" "),e._l(e.clients,function(t,s){return a("div",{key:s,staticClass:"client"},[a("router-link",{staticClass:"name",attrs:{to:{name:"ClientSettings",params:{id:t.id}}}},[e._v("\n            "+e._s(t.name)+"\n        ")])],1)}),e._v(" "),a("router-link",{staticClass:"button",attrs:{to:{name:"ClientSettings"}}},[e._v("Create New Client")]),e._v(" "),a("a",{staticClass:"docs-link",attrs:{href:"https://anilist.gitbooks.io/anilist-apiv2-docs/getting-started.html",target:"_blank"}},[e._v("oAuth Docs")])],2)},jv=[],Fv={props:["user"],data(){return{clients:[]}},methods:{async fetchClients(){this.clients=await Sv("/api/v2/oauth/clients")}},created(){this.fetchClients()},metaInfo:{title:"API Clients"}},Uv=Fv,zv=(a("9b0f"),Object(b["a"])(Uv,Rv,jv,!1,null,"0d57ede1",null)),qv=zv.exports,Bv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"client"},[a("h2",[e._v("Api Client")]),e._v(" "),e.client.id?a("div",{staticClass:"section"},[a("h2",[e._v("ID")]),e._v(" "),a("el-input",{attrs:{disabled:!0},model:{value:e.client.id,callback:function(t){e.$set(e.client,"id",t)},expression:"client.id"}})],1):e._e(),e._v(" "),e.client.secret?a("div",{staticClass:"section"},[a("h2",[e._v("Secret")]),e._v(" "),a("el-input",{attrs:{disabled:!0},model:{value:e.client.secret,callback:function(t){e.$set(e.client,"secret",t)},expression:"client.secret"}})],1):e._e(),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Name")]),e._v(" "),a("el-input",{model:{value:e.client.name,callback:function(t){e.$set(e.client,"name",t)},expression:"client.name"}})],1),e._v(" "),a("div",{staticClass:"section"},[a("h2",[e._v("Redirect URL")]),e._v(" "),a("el-input",{model:{value:e.client.redirect,callback:function(t){e.$set(e.client,"redirect",t)},expression:"client.redirect"}})],1),e._v(" "),a("div",{staticClass:"button",on:{click:e.saveClient}},[e._v("Save")])])},Vv=[],Gv={props:["id","user"],components:{ElInput:Xa.a},data(){return{client:{name:null,redirect:null}}},methods:{async fetchClient(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=await Sv("/api/v2/oauth/clients");this.client=t.find(t=>t.id==this.id||t.id==e)},async saveClient(){let e;try{e=this.client.id?await this.updateClient():await this.createClient(),this.fetchClient(e.id)}catch(t){this.$notify({type:"error",message:"Error saving client"})}},async createClient(){return await $v("/api/v2/oauth/clients",{name:this.client.name,redirect:this.client.redirect})},async updateClient(){return await kv(`/api/v2/oauth/clients/${this.client.id}`,{name:this.client.name,redirect:this.client.redirect})}},created(){this.id&&this.fetchClient()},metaInfo:{title:"API Client"}},Yv=Gv,Hv=(a("d928"),Object(b["a"])(Yv,Bv,Vv,!1,null,"275de96a",null)),Qv=Hv.exports,Wv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"notifications"},[a("div",{staticClass:"section"},[a("h2",[e._v("Notifications")]),e._v(" "),e._l(e.sortedNotificationOptions,function(t){return e.notificationLabels[t.type]?a("div",{key:t.type,staticClass:"option"},[a("el-checkbox",{attrs:{value:t.enabled},on:{change:function(a){return e.setNotificationOption(t.type,a)}}},[e._v("\n                "+e._s(e.notificationLabels[t.type])+"\n            ")])],1):e._e()}),e._v(" "),a("div",{staticClass:"button",on:{click:e.save}},[e._v("Save")])],2)])},Kv=[],Jv=a("0644"),Zv=a.n(Jv),Xv={props:["user"],components:{ElCheckbox:me.a},data(){return{notificationOptions:[],notificationLabels:{FOLLOWING:"When someone follows me",ACTIVITY_MESSAGE:"When I receive a message",ACTIVITY_REPLY:"When someone replies to my activity",ACTIVITY_REPLY_SUBSCRIBED:"When someone replies to activity I previously replied to",ACTIVITY_MENTION:"When I am @ mentioned in an activity or activity reply",ACTIVITY_LIKE:"When someone likes my activity",ACTIVITY_REPLY_LIKE:"When someone likes my activity reply",THREAD_COMMENT_REPLY:"When someone replies to my forum comment",THREAD_COMMENT_MENTION:"When I am @ mentioned in a forum comment",THREAD_COMMENT_LIKE:"When someone likes my forum comment",THREAD_SUBSCRIBED:"When someone replies to a forum thread I'm subscribed to",THREAD_LIKE:"When someone likes my forum thread"}}},computed:{sortedNotificationOptions(){const e=d()(this.notificationLabels);return mt()(this.notificationOptions,t=>e.indexOf(t.type))}},methods:{setNotificationOption(e,t){const a=this.notificationOptions,s=a.find(t=>t.type===e);s.enabled=t,this.notificationOptions=a},async save(){await this.$store.dispatch("settings/saveUser",{notificationOptions:this.notificationOptions})}},mounted(){this.notificationOptions=Zv()(this.user.options.notificationOptions)},metaInfo:{title:"Notification Settings"}},ef=Xv,tf=(a("8398"),Object(b["a"])(ef,Wv,Kv,!1,null,"5f0266fc",null)),af=tf.exports,sf=[Object(Re["a"])({path:"/settings/",component:Fh},je,{children:[{name:"ProfileSettings",path:"",component:Hh},{name:"AuthSettings",path:"auth",component:tv},{name:"ListSettings",path:"lists",component:ov},{name:"MediaSettings",path:"media",component:pv},{name:"NotificationSettings",path:"notifications",component:af},{name:"ImportSettings",path:"import",component:_v},{name:"TwitterSettings",path:"twitter",component:Ov},{name:"AppSettings",path:"apps",component:Dv},{name:"DeveloperSettings",path:"developer",component:qv},{name:"ClientSettings",path:"client/:id",component:Qv,props:!0}]})],nf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"apps container"},e._l(e.allApps,function(t,s){return a("div",{key:s,staticClass:"app-section"},[a("h2",{staticClass:"header"},[e._v(e._s(s))]),e._v(" "),a("div",{staticClass:"wrap"},e._l(t,function(t,s){return a("a",{key:s,staticClass:"app",attrs:{href:t.url,target:"_blank"}},[a("img",{staticClass:"image",attrs:{src:"/img/apps/"+t.image}}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"platforms"},e._l(t.platforms,function(e,t){return a("img",{key:t,staticClass:"icon",attrs:{src:"/img/apps/"+e+".svg"}})}),0)])])}),0)])}),0)},rf=[],of={data(){return{allApps:{Mobile:[{name:"AniDroid",platforms:["android"],url:"https://play.google.com/store/apps/details?id=com.jurasdev.anidroid",image:"anidroid.png"},{name:"AniLime",platforms:["apple"],url:"https://itunes.apple.com/us/app/anilime/id1358133029",image:"anilime.jpg"},{name:"AniTrend",platforms:["android"],url:"https://play.google.com/store/apps/details?id=com.mxt.anitrend",image:"anitrend.jpg"},{name:"MyAniList",platforms:["apple"],url:"https://itunes.apple.com/us/app/myanilist/id741257899",image:"myanilist.jpg"},{name:"Kamuy",platforms:["android"],url:"https://anilist.co/forum/thread/2350",image:"kamuy.png"}],Desktop:[{name:"Hachidori",platforms:["apple"],url:"https://malupdaterosx.moe/hachidori/",image:"hachidori.jpg"},{name:"Shinjiru",platforms:["windows","apple","linux"],url:"http://shinjiru.me",image:"shinjiru.png"},{name:"Shukofukurou",platforms:["apple"],url:"https://anilist.co/forum/thread/2995",image:"shukofukurou.jpg"},{name:"Taiga",platforms:["windows"],url:"http://taiga.moe/",image:"taiga.jpg"},{name:"Yuna",platforms:["windows","apple","linux"],url:"https://yuna.moe/",image:"yuna.png"},{name:"ZeroTwo",platforms:["windows","apple","linux"],url:"https://zerotwo.org/",image:"zerotwo.png"}],"Sites & Extensions":[{name:"Anime Music Quiz",platforms:[],url:"https://animemusicquiz.com",image:"amq.jpg"},{name:"Wait: What Anime Is This?",platforms:[],url:"https://trace.moe/",image:"wait.png"}]}}},metaInfo:{title:"Apps for AniList"}},cf=of,lf=(a("323e"),Object(b["a"])(cf,nf,rf,!1,null,"cb4447ae",null)),df=lf.exports,uf=[{name:"Apps",path:"/apps",component:df}],mf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[e._v("Account Setup")]),e._v(" "),a("div",{staticClass:"setup"},[a("router-view")],1),e._v(" "),a("div",{staticClass:"disclaimer"},[e._v("These options can be changed at anytime via the settings page")])])},pf=[],hf={metaInfo:{title:"Account Setup"}},vf=hf,ff=(a("6f64"),Object(b["a"])(vf,mf,pf,!1,null,"19227ebf",null)),gf=ff.exports,yf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Title Language")]),e._v(" "),a("h3",[e._v("Select the title language you would like to see for Anime & Manga")]),e._v(" "),a("div",{staticClass:"options-wrap"},[a("div",{staticClass:"option",on:{click:function(t){return e.update("ROMAJI")}}},[e._v("\n            Romaji\n            "),a("div",{staticClass:"label"},[e._v("Shingeki no Kyojin")])]),e._v(" "),a("div",{staticClass:"option",on:{click:function(t){return e.update("ENGLISH")}}},[e._v("\n            English\n            "),a("div",{staticClass:"label"},[e._v("Attack on Titan")])]),e._v(" "),a("div",{staticClass:"option",on:{click:function(t){return e.update("NATIVE")}}},[e._v("\n            Native\n            "),a("div",{staticClass:"label"},[e._v("")])])])])},_f=[],bf={methods:{update(e){this.$store.dispatch("settings/saveUser",{titleLanguage:e}),s$.push({name:"SetupScores"})}}},wf=bf,Cf=(a("ec7a"),Object(b["a"])(wf,yf,_f,!1,null,"378c72e2",null)),Sf=Cf.exports,$f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Scoring System")]),e._v(" "),a("h3",[e._v("Select the scoring system you would like to use to score Anime & Manga")]),e._v(" "),a("div",{staticClass:"options-wrap"},[a("div",{staticClass:"option",on:{click:function(t){return e.update("POINT_10_DECIMAL")}}},[e._v("\n            10.0 Decimal\n            "),a("div",{staticClass:"label"},[e._v("6.7/10")])]),e._v(" "),a("div",{staticClass:"option",on:{click:function(t){return e.update("POINT_100")}}},[e._v("\n            100 Point\n            "),a("div",{staticClass:"label"},[e._v("67/100")])]),e._v(" "),a("div",{staticClass:"option",on:{click:function(t){return e.update("POINT_10")}}},[e._v("\n            10 Point\n            "),a("div",{staticClass:"label"},[e._v("7/10")])]),e._v(" "),a("div",{staticClass:"option",on:{click:function(t){return e.update("POINT_5")}}},[e._v("\n            5 Stars\n            "),a("div",{staticClass:"label"},[e._v("4 "),a("font-awesome-icon",{attrs:{icon:"star","fixed-width":""}})],1)]),e._v(" "),a("div",{staticClass:"option",on:{click:function(t){return e.update("POINT_3")}}},[e._v("\n            Smiley\n            "),a("div",{staticClass:"label"},[a("font-awesome-icon",{attrs:{icon:"frown",size:"lg","fixed-width":""}}),e._v(" "),a("font-awesome-icon",{attrs:{icon:"meh",size:"lg","fixed-width":""}}),e._v(" "),a("font-awesome-icon",{attrs:{icon:"smile",size:"lg","fixed-width":""}})],1)])])])},kf=[],If={components:{FontAwesomeIcon:p.a},methods:{update(e){this.$store.dispatch("settings/saveUser",{scoreFormat:e}),s$.push({name:"SetupAvatar"})}}},Af=If,Ef=(a("ebf7"),Object(b["a"])(Af,$f,kf,!1,null,"3b005a07",null)),xf=Ef.exports,Of=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Upload User Avatar")]),e._v(" "),a("div",{staticClass:"dropbox"},[a("input",{staticClass:"input-file",attrs:{type:"file",name:"avatar",accept:"image/*"},on:{change:function(t){return e.imageUpload("avatar",t.target.files)}}}),e._v(" "),e.avatar.saving?a("p",[e._v("Uploading avatar...")]):a("p",[e._v("Drop image here or click to upload")])]),e._v(" "),a("a",{staticClass:"skip",on:{click:e.next}},[e._v("Skip Avatar Upload")])])},Pf=[],Tf={components:{ElInput:Xa.a},data(){return{avatar:{saving:!1}}},methods:{toBase64(e,t){const a=new FileReader;a.onloadend=(t=>{this[`${e}Upload`](t.target.result)}),a.readAsDataURL(t)},imageUpload(e,t){this[e].saving=!0;try{this.toBase64(e,t[0])}catch(a){this.$notify("Failed to upload image"),this[e].saving=!1}},async avatarUpload(e){await this.$store.dispatch("settings/saveAvatar",e),await this.$store.dispatch("auth/fetchViewer"),this.avatar.saving=!1,this.next()},next(){s$.push({name:"SetupColor"})}}},Lf=Tf,Mf=(a("b76d"),Object(b["a"])(Lf,Of,Pf,!1,null,"1eaf12c2",null)),Nf=Mf.exports,Df=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Profile & Lists Color")]),e._v(" "),a("h3",[e._v("My favorite color is blue")]),e._v(" "),e._l(e.colors,function(t,s){return a("div",{key:s,staticClass:"color",style:{background:t},on:{click:function(t){return e.saveColor(s)}}})})],2)},Rf=[],jf={data(){return{colors:{blue:"#3db4f2",purple:"#c063ff",green:"#4cca51",orange:"#ef881a",red:"#e13333",pink:"#fc9dd6",gray:"#677b94"}}},methods:{saveColor(e){this.$store.dispatch("settings/saveUser",{profileColor:e}),s$.push({name:"SetupComplete"})}}},Ff=jf,Uf=(a("dcc6"),Object(b["a"])(Ff,Df,Rf,!1,null,"ec01f8c0",null)),zf=Uf.exports,qf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("AniList Account Setup Complete!")]),e._v(" "),a("h3",[e._v("What to do next? Explore the AniList community or start finding some great new anime to watch?")]),e._v(" "),a("div",{staticClass:"options-wrap"},[a("router-link",{staticClass:"option",attrs:{to:"/search/anime"}},[e._v("\n            Browse Anime\n        ")]),e._v(" "),a("router-link",{staticClass:"option",attrs:{to:"/search/manga"}},[e._v("\n            Browse Manga\n        ")]),e._v(" "),a("router-link",{staticClass:"option",attrs:{to:"/forum/thread/1"}},[e._v("\n            Introduce Yourself\n        ")]),e._v(" "),a("router-link",{staticClass:"option",attrs:{to:"/home"}},[e._v("\n            View your new Home\n        ")]),e._v(" "),a("router-link",{staticClass:"option",attrs:{to:"/settings"}},[e._v("\n            Write your bio\n        ")]),e._v(" "),a("router-link",{staticClass:"option",attrs:{to:"/settings/import"}},[e._v("\n            Import List\n        ")])],1)])},Bf=[],Vf={},Gf=Object(b["a"])(Vf,qf,Bf,!1,null,null,null),Yf=Gf.exports,Hf=[{path:"/setup",component:gf,children:[{name:"SetupLanguage",path:"",component:Sf},{name:"SetupScores",path:"scores",component:xf},{name:"SetupAvatar",path:"avatar",component:Nf},{name:"SetupColor",path:"color",component:zf},{name:"SetupComplete",path:"complete",component:Yf}]}],Qf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"not-found container"},[e.message&&e.auth?a("div",{staticClass:"message"},[e._v(e._s(e.message))]):e._e(),e._v(" "),a("img",{attrs:{src:"/img/404/404_chan"+e.imageStage+".jpg"}}),e._v(" "),1==e.imageStage?a("div",[a("a",{on:{click:function(t){e.imageStage=2}}}),e._v(" "),a("router-link",{staticStyle:{right:"0"},attrs:{to:"/home"}})],1):e._e(),e._v(" "),2==e.imageStage?a("div",[a("a",{on:{click:function(t){e.imageStage=3}}}),e._v(" "),a("a",{staticStyle:{right:"0"},on:{click:function(t){e.imageStage=4}}})]):e._e(),e._v(" "),3==e.imageStage?a("div",[a("a",{staticStyle:{width:"100%"},on:{click:function(t){e.imageStage=5}}})]):e._e(),e._v(" "),4==e.imageStage?a("div",[a("a",{staticStyle:{width:"100%"},on:{click:function(t){e.imageStage=5}}})]):e._e(),e._v(" "),5==e.imageStage?a("div",[a("router-link",{staticStyle:{width:"100%",height:"100%",top:"0"},attrs:{to:"/home"}})],1):e._e()])},Wf=[],Kf={name:"notFound",mixins:[M["a"]],data(){return{imageStage:1,message:null}},mounted(){this.$store.commit("setAdDisplay",!1)},beforeRouteEnter(e,t,a){a(e=>{e.message=null,"MediaOverview"===t.name&&(e.message="(Psst! If you think this page does exist you can try enabling 18+ content in settings)")})}},Jf=Kf,Zf=(a("3f2c"),Object(b["a"])(Jf,Qf,Wf,!1,null,"1ae5b6a8",null)),Xf=Zf.exports,eg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"maintenance container"},[e._v("\n    503 - Server Maintenance\n")])},tg=[],ag={mounted(){this.$store.commit("setAdDisplay",!1)}},sg=ag,ig=(a("06f7"),Object(b["a"])(sg,eg,tg,!1,null,"61a93e26",null)),ng=ig.exports,rg=[{path:"*",redirect:"/404"},{name:"NotFound",path:"/404",component:Xf},{name:"Maintenance",path:"/503",component:ng}],og=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard container"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"nav-group"},[a("div",{staticClass:"group-header"},[e._v("Mod Overview")]),e._v(" "),a("router-link",{attrs:{to:"/edit/dashboard/feed"}},[e._v("Data Changelog")])],1),e._v(" "),a("div",{staticClass:"nav-group"},[a("div",{staticClass:"group-header"},[e._v("Submissions")]),e._v(" "),e._l(e.pages,function(t){return a("router-link",{key:t,attrs:{to:"/edit/dashboard/"+t}},[e._v("\n                "+e._s(e._f("capitalize")(t))+"\n                "),a("span",[e._v(e._s(e.counts[t]))])])})],2),e._v(" "),a("div",{staticClass:"nav-group"},[a("div",{staticClass:"group-header"},[e._v("Create")]),e._v(" "),a("router-link",{attrs:{to:"/edit/anime/new"}},[e._v("Anime")]),e._v(" "),a("router-link",{attrs:{to:"/edit/manga/new"}},[e._v("Manga")])],1)]),e._v(" "),a("div",{staticClass:"feed"},["feed"==e.page?[a("div",{staticClass:"filter-bar"},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"Mod Filter"},on:{clear:function(t){e.feedUser=void 0}},model:{value:e.feedUser,callback:function(t){e.feedUser=t},expression:"feedUser"}},e._l(e.mods,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})}),1)],1),e._v(" "),a("revision-history",{attrs:{filter:{userId:e.feedUser}}})]:"reports"==e.page?a("reports"):"tags"==e.page?a("tags"):"imports"==e.page?a("missing-imports"):a("submissions",{attrs:{type:e.page}})],2)])},cg=[],lg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"revision-history-feed"},[e._l(e.feed.pageData,function(t){return e._l(t,function(e){return a("history-item",{key:e.id,attrs:{item:e}})})}),e._v(" "),e.filtering?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.fetchRevisionHistory}})],2)},dg=[],ug=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feed-item",on:{click:function(t){e.isExpanded=!e.isExpanded}}},[a("img",{attrs:{src:e.item.user.avatar.medium}}),e._v(" "),e.item.media&&"ANIME"===e.item.media.type?[a("img",{attrs:{src:e.item.media.coverImage.medium}}),e._v(" "),a("span",[a("router-link",{attrs:{to:e.formatUserUrl(e.item.user,!0)}},[e._v(e._s(e.item.user.name))]),e._v(" \n            "+e._s("CREATE"==e.item.action?"created new ":"edited")+" anime\n            "),a("router-link",{attrs:{to:e.formatMediaUrl(e.item.media,!0)}},[e._v(e._s(e.item.media.title.userPreferred))])],1)]:e.item.media&&"MANGA"===e.item.media.type?[a("img",{attrs:{src:e.item.media.coverImage.medium}}),e._v(" "),a("span",[a("router-link",{attrs:{to:e.formatUserUrl(e.item.user,!0)}},[e._v(e._s(e.item.user.name))]),e._v(" \n            "+e._s("CREATE"==e.item.action?"created new ":"edited")+" manga\n            "),a("router-link",{attrs:{to:e.formatMediaUrl(e.item.media,!0)}},[e._v(e._s(e.item.media.title.userPreferred))])],1)]:e.item.character?[a("img",{attrs:{src:e.item.character.image.medium}}),e._v(" "),a("span",[a("router-link",{attrs:{to:e.formatUserUrl(e.item.user,!0)}},[e._v(e._s(e.item.user.name))]),e._v(" \n            "+e._s("CREATE"==e.item.action?"created new ":"edited")+" character \n             "),a("router-link",{attrs:{to:e.formatCharacterUrl(e.item.character,!0)}},[e._v(e._s(e.item.character.name.first)+" "+e._s(e.item.character.name.last))])],1)]:e.item.staff?[a("img",{attrs:{src:e.item.staff.image.medium}}),e._v(" "),a("span",[a("router-link",{attrs:{to:e.formatUserUrl(e.item.user,!0)}},[e._v(e._s(e.item.user.name))]),e._v(" \n            "+e._s("CREATE"==e.item.action?"created new ":"edited")+" staff member \n            "),a("router-link",{attrs:{to:e.formatStaffUrl(e.item.staff,!0)}},[e._v(e._s(e.item.staff.name.first)+" "+e._s(e.item.staff.name.last))])],1)]:e.item.studio?[a("span",[a("router-link",{attrs:{to:e.formatUserUrl(e.item.user,!0)}},[e._v(e._s(e.item.user.name))]),e._v(" \n            "+e._s("CREATE"==e.item.action?"created new ":"edited")+" studio \n            "),a("router-link",{attrs:{to:e.formatStudioUrl(e.item.studio,!0)}},[e._v(e._s(e.item.studio.name))])],1)]:e.isDeletedRevision?a("span",[e._v("\n        Deleted entry\n    ")]):e._e(),e._v(" "),a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"chevron-down"}}),e._v(" "),a("timeago",{attrs:{since:1e3*e.item.createdAt,"auto-update":60}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded,expression:"isExpanded"}],staticClass:"changes"},e._l(e.item.changes,function(t,s){return a("div",{key:s},[a("div",[e._v("\n                "+e._s(s)+"\n            ")]),e._v(" "),a("div",[e._v("\n                "+e._s(t)+"\n            ")])])}),0)],2)},mg=[],pg={components:{FontAwesomeIcon:p.a},props:["item"],data:()=>{return{isExpanded:!1}},computed:{isDeletedRevision(){return d()(this.item.changes).find(e=>"deleted"===e)}}},hg=pg,vg=(a("f85d"),Object(b["a"])(hg,ug,mg,!1,null,"43c37dcc",null)),fg=vg.exports,gg={components:{HistoryItem:fg},mixins:[st["a"]],props:{filter:{type:Object,default:{}}},data(){return{filtering:!1}},computed:{feed(){return this.$store.getters["revisionHistory/revisionHistory"]({filter:this.filter,page:this.page})}},methods:{async fetchRevisionHistory(){this.hasNextPage=await this.$store.dispatch("revisionHistory/fetchRevisionHistory",{variables:Object(Re["a"])({},this.filter),page:this.page})}},watch:{filter(){this.resetScrollLoader("filtering"),this.fetchRevisionHistory()}}},yg=gg,_g=(a("b4bd"),Object(b["a"])(yg,lg,dg,!1,null,"09e13bc6",null)),bg=_g.exports,wg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submission-feed"},[e._l(e.submissions.pageData,function(t){return e._l(t,function(t){return a("submission",{key:t.id,attrs:{submission:t,type:e.submissionType}})})}),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchSubmiissions}})],2)},Cg=[],Sg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.user?a("router-link",{staticClass:"submission",attrs:{to:e.url}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.image,expression:"image",arg:"background-image"}],staticClass:"cover"}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("router-link",{staticClass:"name",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.user)}}},[e._v(e._s(e.user.name))]),e._v(" "),a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.user.avatar.large,expression:"user.avatar.large",arg:"background-image"}],staticClass:"avatar"}),e._v(" "),e.isNew?a("span",{staticClass:"new-badge"},[e._v("NEW")]):e._e(),e._v(" "),a("timeago",{staticClass:"time",attrs:{since:1e3*e.submission.createdAt,"auto-update":60}})],1)]):e._e()},$g=[],kg={props:["submission","type"],computed:{user(){return this.submission.submitter},media(){if(this.submission.media)return this.submission.media;const e=this.submission.submission.coverImage.large.replace(/.+?(?=http)/,"");return Object(Re["a"])({},this.submission.submission,{coverImage:{large:e}})},character(){return this.submission.character},staff(){return this.submission.staff},title(){if("media"==this.type)return this.media.title.userPreferred;const e=this[this.type].name,t=e.first,a=e.last;return`${t||""} ${a||""}`},image(){return"media"==this.type?this.media.coverImage.large:this[this.type].image.large},url(){if("media"!==this.type)return`/edit/${this.type}/${this[this.type].id}`;const e=this.isNew?"new":this.media.id,t=this.isNew?this.submission.id:"",a=this.media.type.toLowerCase();return`/edit/${a}/${e}/submission/${t}`},isNew(){return"media"==this.type&&!this.submission.media}}},Ig=kg,Ag=(a("da1e"),Object(b["a"])(Ig,Sg,$g,!1,null,"e385de12",null)),Eg=Ag.exports,xg={components:{Submission:Eg},mixins:[st["a"]],props:["type"],data(){return{loading:!1}},computed:{submissions(){return this.$store.getters["submissionDashboard/submissions"]({type:this.type,page:this.page})},submissionType(){return"anime"==this.type||"manga"==this.type?"media":"characters"==this.type?"character":this.type}},methods:{async fetchSubmiissions(e){this.hasNextPage=await this.$store.dispatch("submissionDashboard/fetchSubmissions",{type:this.type,page:this.page})}},watch:{type(e){this.resetScrollLoader("loading"),this.page+=1,this.fetchSubmiissions()}}},Og=xg,Pg=(a("fa8f"),Object(b["a"])(Og,wg,Cg,!1,null,"37a7ef5e",null)),Tg=Pg.exports,Lg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reports"},[e._l(e.reports.pageData,function(t){return e._l(t,function(e){return a("report",{key:e.id,attrs:{report:e}})})}),e._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:e.fetchReports}})],2)},Mg=[],Ng=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isDeleted?e._e():a("div",{staticClass:"report"},[a("div",{staticClass:"header"},[e.report.reporter?a("a",{staticClass:"user",attrs:{href:e.formatUserUrl(e.report.reporter,!0),target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.report.reporter.avatar.large,expression:"report.reporter.avatar.large",arg:"background-image"}],staticClass:"avatar"}),e._v(" "),a("div",{staticClass:"name"},[e._v("Reporter: "+e._s(e.report.reporter.name))])]):e._e(),e._v(" "),e.report.reported?a("a",{staticClass:"user",attrs:{href:e.formatUserUrl(e.report.reported,!0),target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.report.reported.avatar.large,expression:"report.reported.avatar.large",arg:"background-image"}],staticClass:"avatar"}),e._v(" "),a("div",{staticClass:"name"},[e._v("Reported: "+e._s(e.report.reported.name))])]):e._e(),e._v(" "),a("div",{staticClass:"btn",on:{click:e.deleteReport}},[e._v("\n            Done\n        ")])]),e._v(" "),a("markdown",{attrs:{markdown:e.report.reason}})],1)},Dg=[],Rg={props:["report"],components:{Markdown:Rr["a"]},data(){return{isDeleted:!1}},methods:{async deleteReport(){const e=await this.$store.dispatch("submissionDashboard/deleteReport",this.report.id);this.isDeleted=e}}},jg=Rg,Fg=(a("92e6"),Object(b["a"])(jg,Ng,Dg,!1,null,"8de37d9a",null)),Ug=Fg.exports,zg={components:{Report:Ug},mixins:[st["a"]],computed:{reports(){return this.$store.getters["submissionDashboard/reports"](this.page)}},methods:{async fetchReports(){this.hasNextPage=await this.$store.dispatch("submissionDashboard/fetchReports",this.page)}}},qg=zg,Bg=(a("21ca"),Object(b["a"])(qg,Lg,Mg,!1,null,"a281019e",null)),Vg=Bg.exports,Gg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.tags?a("div",{staticClass:"tags"},[a("div",{staticClass:"nav"},[a("span",{class:{active:"pending"==e.view},on:{click:function(t){e.view="pending"}}},[e._v("Pending")]),e._v(" "),a("span",{class:{active:"approved"==e.view},on:{click:function(t){e.view="approved"}}},[e._v("Approved")]),e._v(" "),a("span",{class:{active:"denied"==e.view},on:{click:function(t){e.view="denied"}}},[e._v("Denied")])]),e._v(" "),"pending"==e.view?a("div",{staticClass:"tags-wrap"},e._l(e.tags.pending,function(e){return a("tag",{key:e.id,attrs:{tag:e,type:"pending"}})}),1):"approved"==e.view?a("div",{staticClass:"tags-wrap"},e._l(e.tags.approved,function(e){return a("tag",{key:e.id,attrs:{tag:e,type:"approved"}})}),1):(e.view="denied")?a("div",{staticClass:"tags-wrap"},e._l(e.tags.denied,function(e){return a("tag",{key:e.id,attrs:{tag:e,type:"denied"}})}),1):e._e()]):e._e()},Yg=[],Hg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag",class:[e.type,{empty:""==e.tagData.description}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tagData.name,expression:"tagData.name"}],staticClass:"name",domProps:{value:e.tagData.name},on:{input:function(t){t.target.composing||e.$set(e.tagData,"name",t.target.value)}}}),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.tagData.description,expression:"tagData.description"}],attrs:{placeholder:"description / denied reason"},domProps:{value:e.tagData.description},on:{input:function(t){t.target.composing||e.$set(e.tagData,"description",t.target.value)}}}),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.tagData.category,expression:"tagData.category"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.tagData,"category",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("Set category")]),e._v(" "),e._l(e.categories,function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t))])})],2),e._v(" "),a("div",[a("el-checkbox",{attrs:{label:"Adult"},model:{value:e.tagData.isAdult,callback:function(t){e.$set(e.tagData,"isAdult",t)},expression:"tagData.isAdult"}}),e._v(" "),a("div",{staticClass:"btns"},["denied"!==e.type?a("font-awesome-icon",{staticClass:"icon delete",attrs:{icon:"trash"},on:{click:e.deleteTag}}):e._e(),e._v(" "),a("font-awesome-icon",{staticClass:"icon save",attrs:{icon:"save"},on:{click:e.saveTag}})],1)],1)])},Qg=[],Wg={props:["tag","type"],components:{FontAwesomeIcon:p.a,ElCheckbox:me.a},data(){return{tagData:{},categories:["Theme","Theme-Action","Theme-Game","Theme-Game-Sport","Theme-Game-Card & Board Game","Theme-Drama","Theme-Romance","Theme-Fantasy","Theme-Sci-Fi","Theme-Sci-Fi-Mecha","Theme-Slice of Life","Theme-Arts","Theme-Arts-Music","Theme-Comedy","Theme-Other","Theme-Other-Vehicle","Theme-Other-Organisations","Cast","Cast-Main Cast","Cast-Traits","Setting","Setting-Universe","Setting-Scene","Setting-Time","Technical","Demographic","Sexual Content"]}},methods:{async saveTag(){await this.$store.dispatch("submissionDashboard/saveTag",Object(Re["a"])({status:"denied"==this.type?1:0,tagId:this.tag.id},this.tagData)),this.$notify({type:"success",message:"Tag saved"})},async deleteTag(){await this.$store.dispatch("submissionDashboard/saveTag",{tagId:this.tag.id,name:this.tag.name,status:1}),this.$notify({type:"success",message:"Tag set to denied"})}},mounted(){this.tagData=Object(Re["a"])({},this.tag)}},Kg=Wg,Jg=(a("ab16"),Object(b["a"])(Kg,Hg,Qg,!1,null,"fac40834",null)),Zg=Jg.exports,Xg={components:{Tag:Zg},data(){return{view:"pending"}},computed:{tags(){return this.$store.getters["submissionDashboard/tags"]}},methods:{async fetchTags(){await this.$store.dispatch("submissionDashboard/fetchTags")}},mounted(){this.fetchTags()}},ey=Xg,ty=(a("ec52"),Object(b["a"])(ey,Gg,Yg,!1,null,"287a9f11",null)),ay=ty.exports,sy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"missing-imports"},[a("div",{staticClass:"nav"},[a("span",{class:{active:"anime"==e.type},on:{click:function(t){e.type="anime"}}},[e._v("Anime")]),e._v(" "),a("span",{class:{active:"manga"==e.type},on:{click:function(t){e.type="manga"}}},[e._v("Manga")])]),e._v(" "),e._l(e.missingImports,function(t){return a("div",{key:t.id,staticClass:"media"},[a("span",{staticClass:"missedCount"},[e._v(e._s(t.times_missed))]),e._v(" "),a("a",{attrs:{href:"https://myanimelist.net/"+(0===t.type?"anime":"manga")+"/"+t.id_mal,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n            "+e._s(t.title)+"\n        ")]),e._v(" "),a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"trash"},on:{click:function(a){return e.deleteImport(t.id)}}})],1)})],2)},iy=[],ny={components:{FontAwesomeIcon:p.a},data(){return{type:"anime"}},computed:{missingImports(){return this.$store.getters["submissionDashboard/missingImports"].filter(e=>e.type==("anime"==this.type?0:1))}},methods:{async fetchMissingImports(){await this.$store.dispatch("submissionDashboard/fetchMissingImports")},async deleteImport(e){await this.$store.dispatch("submissionDashboard/deleteImport",e),await this.fetchMissingImports()}},created(){this.fetchMissingImports()}},ry=ny,oy=(a("cddf"),Object(b["a"])(ry,sy,iy,!1,null,"25175e87",null)),cy=oy.exports,ly={components:{ElSelect:Ja.a,ElOption:Wa.a,RevisionHistory:bg,Submissions:Tg,Reports:Vg,Tags:ay,MissingImports:cy},mixins:[M["a"]],props:["page"],data(){return{feedUser:void 0,mods:{Mex:1790,Lemon:639,Zex:87028,Taluun:21510,Retui:1544,Orange:2272,Josh:1,Mathcai:2,alice:20955,Tay:1828,Shammy:1525,Kazakuri:4659,Tiamo:44283,Sumia:4359,Tay:1828,Deerman:86837,InVale:57370,Edo:40572,Watashi:923,W8TERM3LON:57315,Spectro889:34724,Silverzzxx:33516,adustyspectacle:26062,Urtag:36596,TGG:63817,Sakura:73541,TactcianJack:97263,Nazo:109985,Safe:120925,IdleSheep:122659,Flidaix:139213,Electrochemist:148769}}},computed:{counts(){return this.$store.getters["submissionDashboard/counts"]},pages(){const e=["anime","manga","characters","staff","imports","tags"];return this.isMod()&&e.push("reports"),e}},methods:{async fetchCounts(){this.$store.dispatch("submissionDashboard/fetchCounts",{withReports:this.isMod()})}},async created(){await this.fetchCounts()}},dy=ly,uy=(a("3fb2"),Object(b["a"])(dy,og,cg,!1,null,"6598910b",null)),my=uy.exports,py=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loaded?a("div",{staticClass:"media container",class:{saving:e.saving}},[a("div",{staticClass:"pages"},[e.auth&&"submission"!==e.page?a("div",{staticClass:"submit-btn",on:{click:function(t){return e.submit()}}},[e._v("\n            Submit\n        ")]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.submissionId,expression:"!submissionId"}],staticClass:"page-group"},[a("a",{staticClass:"external active",attrs:{href:"https://anilist2.gitbook.io/submission-manual/",target:"_blank"}},[a("font-awesome-icon",{attrs:{icon:"book"}}),e._v("\n                Submission Manual\n            ")],1),e._v(" "),a("div",{staticClass:"page-header"},[e._v("Data Fields")]),e._v(" "),a("span",{class:{active:"general"===e.page},on:{click:function(t){e.page="general"}}},[e._v("General")]),e._v(" "),a("span",{class:{active:"image"===e.page},on:{click:function(t){e.page="image"}}},[e._v("Images")]),e._v(" "),e.isDataMod()&&"ANIME"===e.media.type?a("span",{class:{active:"airing"===e.page},on:{click:function(t){e.page="airing"}}},[e._v("Airing")]):e._e(),e._v(" "),a("span",{class:{active:"character"===e.page},on:{click:function(t){e.page="character"}}},[e._v("Characters")]),e._v(" "),a("span",{class:{active:"staff"===e.page},on:{click:function(t){e.page="staff"}}},[e._v("Staff")]),e._v(" "),"ANIME"===e.media.type?a("span",{class:{active:"studio"===e.page},on:{click:function(t){e.page="studio"}}},[e._v("Studios")]):e._e(),e._v(" "),a("span",{class:{active:"relation"===e.page},on:{click:function(t){e.page="relation"}}},[e._v("Relations")]),e._v(" "),a("span",{class:{active:"link"===e.page},on:{click:function(t){e.page="link"}}},[e._v("External Links")]),e._v(" "),e.isDataMod()&&e.media.id?a("span",{class:{active:"notify"===e.page},on:{click:function(t){e.page="notify"}}},[e._v("Notify Addition")]):e._e(),e._v(" "),e.isDataMod()&&e.media.id?a("span",{class:{active:"submission"===e.page},on:{click:function(t){e.page="submission"}}},[e._v("Submissions")]):e._e(),e._v(" "),e.media.id?a("span",{class:{active:"history"===e.page},on:{click:function(t){e.page="history"}}},[e._v("Revision History")]):e._e(),e._v(" "),e.media.id?a("router-link",{attrs:{to:"/"+this.media.type.toLowerCase()+"/"+this.media.id}},[e._v("Entry Page")]):e._e()],1)]),e._v(" "),a("div",[e.isDataMod()?e._e():[a("h2",[e._v("Submission sources & notes")]),e._v(" "),a("div",{staticClass:"submission-form form-textarea"},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},value:e.media.submissionSources},on:{input:function(t){return e.updateMedia("submissionSources",t)}}})],1)],e._v(" "),a(e.page+"-data",{tag:"component",attrs:{media:e.media,id:e.id,"submission-id":e.submissionId},on:{saving:e.setSaving}})],2)]):e._e()},hy=[],vy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"general"},[a("h2",[e._v("Titles")]),e._v(" "),a("div",{staticClass:"submission-form"},[a("div",{staticClass:"col-2"},[a("div",[a("h3",[e._v("Romaji "),a("hint",{attrs:{path:"title.romaji"}})],1),e._v(" "),a("el-input",{attrs:{value:e.media.title.romaji},on:{input:function(t){return e.update("title.romaji",t)}}})],1),e._v(" "),a("div",[a("h3",[e._v("English (Licensed)"),a("hint",{attrs:{path:"title.english"}})],1),e._v(" "),a("el-input",{attrs:{value:e.media.title.english},on:{input:function(t){return e.update("title.english",t)}}})],1),e._v(" "),a("div",[a("h3",[e._v("Native "),a("hint",{attrs:{path:"title.native"}})],1),e._v(" "),a("el-input",{attrs:{value:e.media.title.native},on:{input:function(t){return e.update("title.native",t)}}})],1)])]),e._v(" "),a("h2",[e._v("Release Data")]),e._v(" "),a("div",{staticClass:"submission-form"},[a("div",{staticClass:"col-3"},[a("div",[a("h3",[e._v("Release Status")]),e._v(" "),a("status",{attrs:{value:e.media.status},on:{update:function(t){return e.update("status",t.value)}}})],1),e._v(" "),"ANIME"===e.media.type?a("div",[a("h3",[e._v("Season")]),e._v(" "),a("season",{attrs:{value:e.media.season},on:{update:function(t){return e.updateNumber("season",t.value)}}})],1):e._e()]),e._v(" "),a("h2",[e._v("Start Date")]),e._v(" "),a("date",{attrs:{value:e.media.startDate},on:{update:function(t){return e.updateDate("startDate",t.index,t.value)}}}),e._v(" "),a("h2",[e._v("End Date")]),e._v(" "),a("date",{attrs:{value:e.media.endDate},on:{update:function(t){return e.updateDate("endDate",t.index,t.value)}}})],1),e._v(" "),a("h2",[e._v("Typings")]),e._v(" "),a("div",{staticClass:"submission-form"},[a("div",{staticClass:"col-3"},[a("div",[a("h3",[e._v("Format")]),e._v(" "),a("format",{attrs:{value:e.media.format,"media-type":e.media.type},on:{update:function(t){return e.update("format",t.value)}}})],1),e._v(" "),a("div",[a("h3",[e._v("Source")]),e._v(" "),a("source-form",{attrs:{value:e.media.source},on:{update:function(t){return e.update("source",t.value)}}})],1),e._v(" "),a("div",[a("h3",[e._v("Country Of Origin")]),e._v(" "),a("country",{attrs:{value:e.media.countryOfOrigin},on:{update:function(t){return e.update("countryOfOrigin",t.value)}}})],1)])]),e._v(" "),a("h2",[e._v("Lengths")]),e._v(" "),a("div",{staticClass:"submission-form"},["ANIME"===e.media.type?a("div",{staticClass:"col-3"},[a("div",[a("h3",[e._v("Episodes")]),e._v(" "),a("el-input",{attrs:{type:"number",value:e.media.episodes},on:{input:function(t){return e.updateNumber("episodes",t)}}})],1),e._v(" "),a("div",[a("h3",[e._v("Episode Duration")]),e._v(" "),a("el-input",{attrs:{type:"number",value:e.media.duration},on:{input:function(t){return e.updateNumber("duration",t)}}})],1)]):a("div",{staticClass:"col-3"},[a("div",[a("h3",[e._v("Chapters")]),e._v(" "),a("el-input",{attrs:{type:"number",value:e.media.chapters},on:{input:function(t){return e.updateNumber("chapters",t)}}})],1),e._v(" "),a("div",[a("h3",[e._v("Volumes")]),e._v(" "),a("el-input",{attrs:{type:"number",value:e.media.volumes},on:{input:function(t){return e.updateNumber("volumes",t)}}})],1)])]),e._v(" "),a("h2",[e._v("Genres")]),e._v(" "),a("div",{staticClass:"submission-form select-group"},[a("div",{staticClass:"col-3"},e._l(e.media.genres.length+1,function(t){return a("el-select",{key:t,attrs:{value:e.media.genres[t-1],clearable:""},on:{input:function(a){return e.updateArray("genres",t-1,a)}}},e._l(e.genres,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)}),1)]),e._v(" "),a("h2",[e._v("Synonyms")]),e._v(" "),a("div",{staticClass:"submission-form select-group"},[a("div",{staticClass:"col-3"},e._l(e.media.synonyms.length+1,function(t){return a("el-input",{key:t,attrs:{value:e.media.synonyms[t-1]},on:{input:function(a){return e.updateArray("synonyms",t-1,a)}}})}),1)]),e._v(" "),a("h2",[e._v("Description")]),e._v(" "),a("div",{staticClass:"submission-form form-textarea"},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},value:e.media.description},on:{input:function(t){return e.update("description",t)}}})],1),e._v(" "),a("h2",[e._v("Misc")]),e._v(" "),a("div",{staticClass:"submission-form"},[a("div",{staticClass:"col-3"},[a("div",[a("h3",[e._v("MyAnimeList ID")]),e._v(" "),a("el-input",{attrs:{type:"number",value:e.media.idMal},on:{input:function(t){return e.updateNumber("idMal",t)}}})],1),e._v(" "),a("div",[a("h3",[e._v("Youtube Preview ID")]),e._v(" "),a("el-input",{attrs:{value:e.media.trailer?e.media.trailer.id||e.media.trailer:null},on:{input:function(t){return e.update("trailer",t)}}})],1),e._v(" "),a("div",[a("h3",[e._v("Twitter Hashtag")]),e._v(" "),a("el-input",{attrs:{value:e.media.hashtag},on:{input:function(t){return e.update("hashtag",t)}}})],1)]),e._v(" "),a("el-checkbox",{attrs:{value:!e.media.isLicensed},on:{input:function(t){return e.update("isLicensed",!t)}}},[e._v("This media is self published (Doujin)")]),e._v(" "),a("el-checkbox",{attrs:{value:e.media.isAdult},on:{input:function(t){return e.update("isAdult",t)}}},[e._v("This media is for adults (18+, pornographic)")]),e._v(" "),e.isDataMod()?a("el-checkbox",{attrs:{value:e.media.isLocked},on:{input:function(t){return e.update("isLocked",t)}}},[e._v("Lock this media so it cannot be added to lists")]):e._e(),e._v(" "),e.isDataMod()?a("el-checkbox",{attrs:{value:e.media.autoCreateForumThread},on:{input:function(t){return e.update("autoCreateForumThread",t)}}},[e._v("Create weekly forum threads for this media")]):e._e(),e._v(" "),e.isDataMod()&&e.media.coverImage?a("el-color-picker",{attrs:{value:e.media.coverImage.color,"color-format":"hex"},on:{change:function(t){return e.update("color",t)}}}):e._e(),a("br"),e._v(" "),e.isMod()&&e.media.id?a("div",{staticClass:"btn danger",on:{click:function(t){e.mergeOpen=!0}}},[e._v("Merge & Delete")]):e._e(),a("br"),e._v(" "),e.isMod()&&e.media.id?a("div",{staticClass:"btn danger",on:{click:e.deleteMedia}},[e._v("Delete")]):e._e()],1),e._v(" "),e.isDataMod()?[a("h2",[e._v("Mod Notes")]),e._v(" "),a("div",{staticClass:"submission-form form-textarea"},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},value:e.media.modNotes},on:{input:function(t){return e.update("modNotes",t)}}})],1)]:e._e(),e._v(" "),e.mergeOpen?a("el-dialog",{staticClass:"dialog",attrs:{visible:e.mergeOpen,title:"Media Merge "+e.media.title.romaji+" into selected media"},on:{close:function(t){e.mergeOpen=!1}}},[a("search-box",{attrs:{type:"media","multi-select":!0,max:1},on:{submit:e.merge}}),e._v(" "),a("div",{staticClass:"btn",on:{click:function(t){e.mergeOpen=!1}}},[e._v("\n            Merge "+e._s(e.media.title.romaji)+" ("+e._s(e.media.id)+") into selected media then delete\n        ")])],1):e._e()],2)},fy=[],gy=(a("3b2b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submission-search-box"},[a("el-input",{attrs:{placeholder:"Search (Enter ID or Title/Name)",autofocus:""},on:{submit:e.fetchSearchResults,change:e.fetchSearchResults},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1),e._v(" "),a("div",{staticClass:"results",class:e.type},e._l(e.results,function(t){return a("div",{key:t.id,staticClass:"result",class:{selected:e.isSelected(t.id)},on:{click:function(a){return e.select(t)}}},["character"==e.type?[a("a",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.image.medium,expression:"result.image.medium",arg:"background-image"}],staticClass:"image",attrs:{href:e.formatCharacterUrl(t,!0)},on:{click:function(e){e.preventDefault()}}},[a("div",[e._v(e._s(t.name.first)+" "+e._s(t.name.last))])])]:"staff"==e.type?[a("a",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.image.medium,expression:"result.image.medium",arg:"background-image"}],staticClass:"image",attrs:{href:e.formatStaffUrl(t,!0)},on:{click:function(e){e.preventDefault()}}},[a("div",[e._v(e._s(t.name.first)+" "+e._s(t.name.last))])])]:"studio"==e.type?[a("a",{attrs:{href:e.formatStudioUrl(t,!0)},on:{click:function(e){e.preventDefault()}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])]:[a("a",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.coverImage.medium,expression:"result.coverImage.medium",arg:"background-image"}],staticClass:"image",attrs:{href:e.formatMediaUrl(t,!0)},on:{click:function(e){e.preventDefault()}}},[a("div",[e._v(e._s(t.title.userPreferred)+" ("+e._s(e._f("capitalizeFormat")(t.format))+")")])])]],2)}),0)],1)}),yy=[],_y=a("eedf"),by=a.n(_y),wy={components:{FontAwesomeIcon:p.a,ElInput:Xa.a,ElButton:by.a},mixins:[M["a"]],props:{type:String,multiSelect:{type:Boolean,default:!1},max:{type:Number,default:1/0}},data(){return{searchQuery:"",selected:{media:[],anime:[],manga:[],character:[],staff:[],studio:[]}}},computed:{results(){return this.$store.getters["submissionSearchBox/search"]}},methods:{async fetchSearchResults(e){const t={};let a=this.type;"anime"!=a&&"manga"!=a||(t.type=a,a="media"),isNaN(e)?t.search=e:t.id=e,this.displayAdult||(t.isAdult=!1),await this.$store.dispatch(`submissionSearchBox/fetch${Object(Is["capitalize"])(a)}Search`,t)},select(e){if(this.isSelected(e.id))this.selected[this.type]=this.selected[this.type].filter(t=>t.id!==e.id);else{if(this.max<=this.selected[this.type].length)return;this.selected[this.type].push(e),this.multiSelect||(this.$emit("submit",this.selected[this.type][0]),this.$emit("destroy"))}},isSelected(e){return this.selected[this.type].some(t=>t.id===e)}},beforeDestroy(){this.multiSelect&&this.$emit("submit",this.selected[this.type]),this.$store.commit("submissionSearchBox/setSearchResults",{}),this.selected={anime:[],manga:[],character:[],staff:[],studio:[]}}},Cy=wy,Sy=(a("9391"),Object(b["a"])(Cy,gy,yy,!1,null,null,null)),$y=Sy.exports,ky=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},e._l(e.value,function(t,s){return a("el-input",{key:s,attrs:{value:t,disabled:e.readOnly},on:{input:function(t){return e.update(e.type,t,s)}}})}),1)},Iy=[],Ay=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.path?a("el-tooltip",{staticClass:"hint",attrs:{content:e.hint,placement:"top",tabindex:"-1"}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"question-circle"}})],1):e._e()},Ey=[],xy={components:{FontAwesomeIcon:p.a},props:{path:{type:String,required:!0},type:{type:String,default:"media"}},data(){return{hints:{media:{title:{romaji:"The official (if available) romanisation of the native title",english:"The officially licenced english title",native:"The official title in the media's native language"}},character:{},staff:{},studio:{name:"The official english name of the studio"}}}},computed:{hint(){return jm()(this.hints[this.type],this.path)}}},Oy=xy,Py=(a("128b"),Object(b["a"])(Oy,Ay,Ey,!1,null,"776732c6",null)),Ty=Py.exports,Ly={components:{ElCheckbox:me.a,ElInput:Xa.a,ElOption:Wa.a,ElSelect:Ja.a,Hint:Ty},props:["type","value","mediaType","readOnly"],methods:{update(e,t,a){this.$emit("update",{key:e,value:t,index:a})}}},My={mixins:[Ly]},Ny=My,Dy=Object(b["a"])(Ny,ky,Iy,!1,null,null,null),Ry=Dy.exports,jy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("div",[a("h3",[e._v("Year")]),e._v(" "),a("el-input",{attrs:{type:"number",value:e.value.year,disabled:e.readOnly},on:{input:function(t){return e.update(e.type,t,"year")}}})],1),e._v(" "),a("div",[a("h3",[e._v("Month")]),e._v(" "),a("el-input",{attrs:{type:"number",value:e.value.month,disabled:e.readOnly},on:{input:function(t){return e.update(e.type,t,"month")}}})],1),e._v(" "),a("div",[a("h3",[e._v("Day")]),e._v(" "),a("el-input",{attrs:{type:"number",value:e.value.day,disabled:e.readOnly},on:{input:function(t){return e.update(e.type,t,"day")}}})],1)])},Fy=[],Uy={mixins:[Ly]},zy=Uy,qy=Object(b["a"])(zy,jy,Fy,!1,null,null,null),By=qy.exports,Vy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{value:e.value,disabled:e.readOnly},on:{input:function(t){return e.update("status",t)}}},[a("el-option",{attrs:{label:"Finished Releasing",value:"FINISHED"}}),e._v(" "),a("el-option",{attrs:{label:"Currently Releasing",value:"RELEASING"}}),e._v(" "),a("el-option",{attrs:{label:"Not Yet Released",value:"NOT_YET_RELEASED"}}),e._v(" "),a("el-option",{attrs:{label:"Cancelled",value:"CANCELLED"}})],1)},Gy=[],Yy={mixins:[Ly]},Hy=Yy,Qy=Object(b["a"])(Hy,Vy,Gy,!1,null,null,null),Wy=Qy.exports,Ky=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{value:e.value,disabled:e.readOnly},on:{input:function(t){return e.update("source",t)}}},[a("el-option",{attrs:{label:"Original",value:"ORIGINAL"}}),e._v(" "),a("el-option",{attrs:{label:"Manga",value:"MANGA"}}),e._v(" "),a("el-option",{attrs:{label:"Anime",value:"ANIME"}}),e._v(" "),a("el-option",{attrs:{label:"Light Novel",value:"LIGHT_NOVEL"}}),e._v(" "),a("el-option",{attrs:{label:"Novel",value:"NOVEL"}}),e._v(" "),a("el-option",{attrs:{label:"Visual Novel",value:"VISUAL_NOVEL"}}),e._v(" "),a("el-option",{attrs:{label:"Video Game",value:"VIDEO_GAME"}}),e._v(" "),a("el-option",{attrs:{label:"Doujinshi",value:"DOUJINSHI"}}),e._v(" "),a("el-option",{attrs:{label:"Other",value:"OTHER"}})],1)},Jy=[],Zy={mixins:[Ly]},Xy=Zy,e_=Object(b["a"])(Xy,Ky,Jy,!1,null,null,null),t_=e_.exports,a_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{value:e.value,disabled:e.readOnly},on:{input:function(t){return e.update("format",t)}}},["ANIME"==e.mediaType?[a("el-option",{attrs:{label:"TV",value:"TV"}}),e._v(" "),a("el-option",{attrs:{label:"TV Short",value:"TV_SHORT"}}),e._v(" "),a("el-option",{attrs:{label:"Movie",value:"MOVIE"}}),e._v(" "),a("el-option",{attrs:{label:"Special",value:"SPECIAL"}}),e._v(" "),a("el-option",{attrs:{label:"OVA",value:"OVA"}}),e._v(" "),a("el-option",{attrs:{label:"ONA",value:"ONA"}}),e._v(" "),a("el-option",{attrs:{label:"Music",value:"MUSIC"}})]:[a("el-option",{attrs:{label:"Manga",value:"MANGA"}}),e._v(" "),a("el-option",{attrs:{label:"Light Novel",value:"NOVEL"}}),e._v(" "),a("el-option",{attrs:{label:"One Shot",value:"ONE_SHOT"}})]],2)},s_=[],i_={mixins:[Ly]},n_=i_,r_=Object(b["a"])(n_,a_,s_,!1,null,null,null),o_=r_.exports,c_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{value:e.value,disabled:e.readOnly,clearable:""},on:{input:function(t){return e.update("season",t)}}},[e._l(e.seasonYears,function(t){return[a("el-option",{key:"Fall "+t,attrs:{label:"Fall "+t,value:e.getSeasonValue(t,4)}}),e._v(" "),a("el-option",{key:"Summer "+t,attrs:{label:"Summer "+t,value:e.getSeasonValue(t,3)}}),e._v(" "),a("el-option",{key:"Spring "+t,attrs:{label:"Spring "+t,value:e.getSeasonValue(t,2)}}),e._v(" "),a("el-option",{key:"Winter "+t,attrs:{label:"Winter "+t,value:e.getSeasonValue(t,1)}})]})],2)},l_=[];a("6b54");const d_=(new Date).getFullYear(),u_=new Array(d_-1998).fill().map((e,t)=>t+2e3).reverse();var m_={mixins:[Ly],data(){return{seasonYears:u_}},methods:{getSeasonValue(e,t){return Io()(`${e.toString().slice(-2)}${t}`)}}},p_=m_,h_=Object(b["a"])(p_,c_,l_,!1,null,null,null),v_=h_.exports,f_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-input",{attrs:{value:e.trailerId,disabled:e.readOnly},on:{input:function(t){return e.update("trailer",t)}}})},g_=[],y_={mixins:[Ly],computed:{trailerId(){return null==this.value?null:"object"==typeof this.value?this.value.id:this.value}}},__=y_,b_=Object(b["a"])(__,f_,g_,!1,null,null,null),w_=b_.exports,C_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{value:e.value,disabled:e.readOnly},on:{input:function(t){return e.update("countryOfOrigin",t)}}},[a("el-option",{attrs:{label:"China",value:"CN"}}),e._v(" "),a("el-option",{attrs:{label:"Japan",value:"JP"}}),e._v(" "),a("el-option",{attrs:{label:"South Korea",value:"KR"}}),e._v(" "),a("el-option",{attrs:{label:"Taiwan",value:"TW"}})],1)},S_=[],$_={mixins:[Ly]},k_=$_,I_=Object(b["a"])(k_,C_,S_,!1,null,null,null),A_=I_.exports,E_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-checkbox",{attrs:{checked:e.value,disabled:e.readOnly},on:{change:function(t){return e.update(e.type,e.value)}}},[e._v(e._s(e.type))])},x_=[],O_={mixins:[Ly]},P_=O_,T_=Object(b["a"])(P_,E_,x_,!1,null,null,null),L_=T_.exports,M_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-input",{attrs:{type:"textarea",value:e.value,disabled:e.readOnly,rows:"6"},on:{input:function(t){return e.update(e.type,t)}}})},N_=[],D_={mixins:[Ly]},R_=D_,j_=Object(b["a"])(R_,M_,N_,!1,null,null,null),F_=j_.exports,U_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-input",{attrs:{type:"number",value:e.value,disabled:e.readOnly},on:{input:function(t){return e.update(e.type,t)}}})},z_=[],q_={mixins:[Ly]},B_=q_,V_=Object(b["a"])(B_,U_,z_,!1,null,null,null),G_=V_.exports,Y_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-input",{attrs:{value:e.value,disabled:e.readOnly},on:{input:function(t){return e.update(e.type,t)}}})},H_=[],Q_={mixins:[Ly]},W_=Q_,K_=Object(b["a"])(W_,Y_,H_,!1,null,null,null),J_=K_.exports,Z_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"image-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverUrl,expression:"coverUrl"}],staticClass:"cover"}),e._v(" "),e.readOnly?e._e():a("div",{staticClass:"foot-note"},[a("a",{attrs:{href:e.coverUrl,target:"_blank"}},[e._v(e._s(e.coverUrl))]),e._v(" "),a("div",[e._v("\n            (If the image does not load here it is likely cors-protected. This means you need to manually save and upload the image.)\n        ")])])])},X_=[],eb={mixins:[Ly],computed:{coverUrl(){return this.readOnly||null==this.value.large?this.value.large:this.value.large.replace(/.+?(?=http)/,"")}}},tb=eb,ab=(a("a74e"),Object(b["a"])(tb,Z_,X_,!1,null,"c9d2c572",null)),sb=ab.exports,ib=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"image-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.bannerUrl,expression:"bannerUrl"}],staticClass:"banner"}),e._v(" "),e.readOnly?e._e():a("div",{staticClass:"foot-note"},[a("a",{attrs:{href:e.bannerUrl,target:"_blank"}},[e._v(e._s(e.bannerUrl))]),e._v(" "),a("div",[e._v("\n            (If the image does not load here it is likely cors-protected. This means you need to manually save and upload the image.)\n        ")])])])},nb=[],rb={mixins:[Ly],computed:{bannerUrl(){return this.readOnly||null==this.value?this.value:this.value.replace(/.+?(?=http)/,"")}}},ob=rb,cb=(a("fd79"),Object(b["a"])(ob,ib,nb,!1,null,"30cbbaf1",null)),lb=cb.exports,db={List:Ry,Date:By,Status:Wy,Format:o_,Season:v_,Trailer:w_,Country:A_,Checkbox:L_,TextForm:F_,CoverImage:sb,BannerImage:lb,SourceForm:t_,Number:G_,String:J_},ub={components:Object(Re["a"])({ElCheckbox:me.a,ElInput:Xa.a,ElOption:Wa.a,ElSelect:Ja.a,ElDialog:ts.a,ElColorPicker:Bh.a,SearchBox:$y,Hint:Ty},db),mixins:[M["a"]],props:{media:{type:[Object],required:!0}},data(){return{mergeOpen:!1,genres:["Action","Adventure","Comedy","Drama","Ecchi","Fantasy","Hentai","Horror","Mahou Shoujo","Mecha","Music","Mystery","Psychological","Romance","Sci-Fi","Slice of Life","Sports","Supernatural","Thriller"]}},methods:{update(e,t){this.$store.commit("mediaSubmission/updateMedia",{key:e,value:t})},updateDate(e,t,a){const s=Object(Re["a"])({},this.media[e]);""===a&&(a=null),Um()(s,t,a),this.update(e,s)},updateNumber(e,t){this.update(e,""==t?0:t)},updateArray(e,t,a){const s=this.media[e];s[t]=a,this.update(e,s.filter(e=>""!=e&&null!=e))},async merge(e){if(e=e[0],!e)return;try{await this.$confirm(`Are you sure you want to merge ${this.media.title.romaji} (${this.media.id})\n                    into ${e.title.userPreferred}? (${e.id})\n                    This is irreversible and will delete the current entry`,"Warning - Merging"),await this.$prompt("Please enter the current media id to confirm merge","Confirm Merge & Deletion",{inputPattern:new RegExp(this.media.id),inputErrorMessage:"Incorrect ID"})}catch(a){return}this.$notify("Merging. This might take some time so sit tight.");const t=await this.$store.dispatch("mediaSubmission/mergeMedia",{id:this.media.id,mergeId:e.id});t&&s$.push({path:`/${this.media.type.toLowerCase()}/${e.id}`})},async deleteMedia(){try{await this.$confirm(`Are you sure you want to delete ${this.media.title.romaji} (${this.media.id})?\n                    This is an irreversible change`,"Warning - Deletion"),await this.$prompt("Please enter the current media id to confirm deletion","Confirm Deletion",{inputPattern:new RegExp(this.media.id),inputErrorMessage:"Incorrect ID"})}catch(t){return}this.$notify("Deleting media");const e=await this.$store.dispatch("mediaSubmission/deleteMedia",this.media.id);e&&s$.push({path:"/edit/dashboard/feed"})}}},mb=ub,pb=(a("301e"),Object(b["a"])(mb,vy,fy,!1,null,"3623eded",null)),hb=pb.exports,vb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"images"},[a("h2",[e._v("Cover")]),e._v(" "),a("form",{staticClass:"submission-form",attrs:{enctype:"multipart/form-data"}},[e.isDataMod()?a("div",{staticClass:"dropbox"},[a("input",{staticClass:"input-file",attrs:{type:"file",name:"avatar",accept:"image/*"},on:{change:function(t){return e.imageUpload("coverImage",t.target.files)}}}),e._v(" "),a("p",[e._v("Drop image here or click to upload")])]):a("el-input",{attrs:{placeholder:"Cover image url"},on:{change:function(t){return e.update("coverImage",e.coverUrl)}},model:{value:e.coverUrl,callback:function(t){e.coverUrl=t},expression:"coverUrl"}}),e._v(" "),e.media.id?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverUrl||e.media.coverImage.large||e.media.coverImage,expression:"coverUrl || media.coverImage.large || media.coverImage"}],staticClass:"cover"}):e._e()],1),e._v(" "),a("h2",[e._v("Banner")]),e._v(" "),a("form",{staticClass:"submission-form",attrs:{enctype:"multipart/form-data"}},[e.isDataMod()?a("div",{staticClass:"dropbox"},[a("input",{staticClass:"input-file",attrs:{type:"file",name:"banner",accept:"image/*"},on:{change:function(t){return e.imageUpload("bannerImage",t.target.files)}}}),e._v(" "),a("p",[e._v("Drop image here or click to upload")])]):a("el-input",{attrs:{placeholder:"Banner image url"},on:{change:function(t){return e.update("bannerImage",e.bannerUrl)}},model:{value:e.bannerUrl,callback:function(t){e.bannerUrl=t},expression:"bannerUrl"}}),e._v(" "),e.media.id?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.bannerUrl||e.media.bannerImage,expression:"bannerUrl || media.bannerImage"}],staticClass:"cover banner"}):e._e(),e._v(" "),e.media.id&&e.isDataMod()&&e.media.bannerImage&&"delete"!==e.media.bannerImage?a("div",{staticClass:"btn",on:{click:e.deleteBanner}},[e._v("\n            Delete Banner\n        ")]):e._e()],1)])},fb=[],gb={props:["media"],components:{ElInput:Xa.a,ElCheckbox:me.a},mixins:[M["a"]],data(){return{coverUrl:null,bannerUrl:null}},methods:{toBase64(e,t){const a=new FileReader;a.onloadend=(t=>{this.update(e,t.target.result)}),a.readAsDataURL(t)},imageUpload(e,t){try{this.toBase64(e,t[0])}catch(a){this.$notify("Failed to apply image")}},update(e,t){this.$notify("Image applied"),this.$store.commit("mediaSubmission/updateMedia",{key:e,value:t})},deleteBanner(){this.update("bannerImage","delete")}}},yb=gb,_b=(a("d167"),Object(b["a"])(yb,vb,fb,!1,null,"0b20dd69",null)),bb=_b.exports,wb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"airing"},[a("div",[a("h3",[e._v("Calendar")]),e._v(" "),a("multi-date-picker",{attrs:{"airing-schedule":e.airingSchedule,"air-time":e.airTime}}),e._v(" "),a("div",{staticClass:"btn",on:{click:function(t){e.generatorOpen=!0}}},[e._v("Generate New Schedule")])],1),e._v(" "),a("div",[e.nextEpisode&&e.nextEpisode.timeUntilAiring?[a("h3",[e._v("Next Airing Episode")]),e._v(" "),e.nextEpisode?a("countdown",{staticClass:"countdown submission-form",attrs:{"airing-schedule":e.nextEpisode}}):e._e()]:e._e(),e._v(" "),e.airingSchedule[0]?[a("h3",[e._v("Preview (next 40 episodes)")]),e._v(" "),a("div",{staticClass:"preview submission-form"},[e._m(0),e._v(" "),e._l(e.airingSchedule.slice(0,40),function(t){return a("div",{key:t.episode,staticClass:"row"},[a("div",[e._v(e._s(t.episode))]),e._v(" "),a("div",[e._v(e._s(e._f("formatDate")(1e3*t.airingAt)))])])})],2)]:e._e()],2),e._v(" "),e.generatorOpen?a("airing-generator",{attrs:{visible:e.generatorOpen,"air-time":e.airTime,media:e.media},on:{"update:visible":function(t){e.generatorOpen=t}}}):e._e()],1)},Cb=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label"},[a("div",[e._v("Episode")]),e._v(" "),a("div",[e._v("Airing On")])])}],Sb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"Schedule Generator",visible:e.isVisible},on:{close:function(t){e.isVisible=!1}}},[a("div",{staticClass:"submission-form"},[a("h2",[e._v("Airing Time (JST)")]),e._v(" "),a("el-input",{model:{value:e.airTime,callback:function(t){e.airTime=t},expression:"airTime"}}),e._v(" "),a("h2",[e._v("Starting Episode Date")]),e._v(" "),a("div",{staticClass:"col-3"},[a("div",[a("h3",[e._v("Year")]),e._v(" "),a("el-input",{attrs:{type:"number"},model:{value:e.generator.year,callback:function(t){e.$set(e.generator,"year",t)},expression:"generator.year"}})],1),e._v(" "),a("div",[a("h3",[e._v("Month")]),e._v(" "),a("el-input",{attrs:{type:"number"},model:{value:e.generator.month,callback:function(t){e.$set(e.generator,"month",t)},expression:"generator.month"}})],1),e._v(" "),a("div",[a("h3",[e._v("Day")]),e._v(" "),a("el-input",{attrs:{type:"number"},model:{value:e.generator.day,callback:function(t){e.$set(e.generator,"day",t)},expression:"generator.day"}})],1)]),e._v(" "),a("h2",[e._v("Days Between Episodes")]),e._v(" "),a("el-input",{attrs:{type:"number"},model:{value:e.generator.interval,callback:function(t){e.$set(e.generator,"interval",t)},expression:"generator.interval"}}),e._v(" "),a("h2",[e._v("Number of Episodes")]),e._v(" "),a("el-input",{attrs:{type:"number"},model:{value:e.generator.episodes,callback:function(t){e.$set(e.generator,"episodes",t)},expression:"generator.episodes"}}),e._v(" "),a("h2",[e._v("Start generating at episode #")]),e._v(" "),a("el-input",{attrs:{type:"number"},model:{value:e.generator.startEpisode,callback:function(t){e.$set(e.generator,"startEpisode",t)},expression:"generator.startEpisode"}})],1),e._v(" "),e.generatedAiringSchedule[0]?[a("h2",[e._v("Generated Airing Schedule Preview")]),e._v(" "),a("multi-date-picker",{attrs:{"airing-schedule":e.generatedAiringSchedule,"air-time":e.airTime}})]:e._e(),e._v(" "),a("div",{staticClass:"btn",on:{click:e.generate}},[e._v("Generate")]),e._v(" "),e.generatedAiringSchedule[0]?a("div",{staticClass:"btn",on:{click:e.apply}},[e._v("Apply")]):e._e()],2)},$b=[],kb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar"},[a("div",{staticClass:"header"},[a("div",{staticClass:"arrow left-arrow",on:{click:function(t){return e.changeMonth(-1)}}},[e._v("<")]),e._v(" "),a("div",{staticClass:"title"},[e._v("\n            "+e._s(e.selectedMonth)+" "+e._s(e.selectedYear)+"\n        ")]),e._v(" "),a("div",{staticClass:"arrow right-arrow",on:{click:function(t){return e.changeMonth(1)}}},[e._v(">")])]),e._v(" "),a("div",{staticClass:"week-days"},e._l(e.weekDays,function(t,s){return a("div",{key:s,staticClass:"day"},[e._v("\n            "+e._s(t)+"\n        ")])}),0),e._v(" "),a("div",{staticClass:"days"},e._l(e.calendar,function(t,s){return a("div",{key:s,staticClass:"day",class:{empty:!t,selected:e.isAiringDay(t)},on:{click:function(a){return e.toggleDay(t)}}},[e._v("\n            "+e._s(t||"")+"\n        ")])}),0)])},Ib=[],Ab={props:{airingSchedule:{type:Array,required:!0},airTime:{type:String,required:!0},readOnly:{type:Boolean,default:!1}},data(){return{selectedDate:new Date,calendar:[],selectedMonth:null,selectedYear:null,weekDays:["S","M","T","W","T","F","S"]}},methods:{changeMonth(e){this.selectedDate.setMonth(this.selectedDate.getMonth()+e),this.generateCalendar()},isAiringDay(e){if(!e)return!1;const t=new Date(Date.UTC(this.selectedDate.getFullYear(),this.selectedDate.getMonth(),e));return this.airingSchedule.some(e=>{return new Date(1e3*e.airingAt).toDateString()===t.toDateString()})},toggleDay(e){if(!e||this.readOnly)return;let t=[...this.airingSchedule];const a=this.isAiringDay(e),s=new Date(Date.UTC(this.selectedDate.getFullYear(),this.selectedDate.getMonth(),e));a?t=t.filter(e=>{return new Date(1e3*e.airingAt).toDateString()!==s.toDateString()}):t.push({airingAt:s.getTime()/1e3}),t=this.recalculateEpisodes(this.airingSchedule,[...t]),this.$store.dispatch("mediaSubmission/setAiringSchedule",t)},recalculateEpisodes(e,t){let a=e[0]?e[0].episode:1;const s=mt()(t,["airingAt"]),i=s.map(e=>Object(Re["a"])({},e,{episode:a++}));return i},generateCalendar(){const e=this.selectedDate,t=new Date(e.getFullYear(),e.getMonth(),1).getDay(),a=new Array(Io()(t)).fill(!1,0),s=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),i=a.concat(new Array(Io()(s)).fill(!0,0));let n=0;const r=i.map(e=>{return e?(n++,n):0});this.selectedMonth=this.selectedDate.toLocaleString(void 0,{month:"long"}),this.selectedYear=this.selectedDate.toLocaleString(void 0,{year:"numeric"}),this.calendar=r}},watch:{airingSchedule(){this.generateCalendar()}},created(){this.generateCalendar()}},Eb=Ab,xb=(a("377c"),Object(b["a"])(Eb,kb,Ib,!1,null,"edbabe04",null)),Ob=xb.exports,Pb={components:{MultiDatePicker:Ob,ElDialog:ts.a,ElInput:Xa.a,ElSelect:Ja.a,ElOption:Wa.a},props:{visible:Boolean,airTime:{type:String,required:!0},media:{type:Object,required:!0}},data(){return{generator:{airTime:null,year:null,month:null,day:null,interval:7,episodes:null,startEpisode:1}}},computed:{generatedAiringSchedule(){return this.$store.getters["mediaSubmission/generatedAiringSchedule"]},isVisible:{get(){return this.visible},set(e){this.$emit("update:visible",e)}}},methods:{async generate(){await this.$store.dispatch("mediaSubmission/generateAiringSchedule",Object(Re["a"])({airingTime:this.airTime},this.generator))},apply(e){this.$store.commit("mediaSubmission/setAiringSchedule",this.generatedAiringSchedule),this.isVisible=!1}},mounted(){this.generator.year=this.media.startDate.year,this.generator.month=this.media.startDate.month,this.generator.day=this.media.startDate.day,this.generator.episodes=this.media.episodes,this.generator.airTime=this.airTime}},Tb=Pb,Lb=(a("93b7"),Object(b["a"])(Tb,Sb,$b,!1,null,"68d50374",null)),Mb=Lb.exports,Nb={components:{ElButton:by.a,ElInput:Xa.a,MultiDatePicker:Ob,Countdown:q,AiringGenerator:Mb},props:{id:{type:[Number,String],required:!0},media:{type:Object,required:!0}},data(){return{airTime:"0:00",generatorOpen:!1}},computed:{airingSchedule(){return this.$store.getters["mediaSubmission/airingSchedule"]},nextEpisode(){const e=new Date/1e3;return this.airingSchedule.find(t=>t.airingAt>e)}},methods:{async fetchAiringSchedule(e,t){const a=await this.$store.dispatch("mediaSubmission/fetchAiringSchedule",{id:e,page:t});a&&await this.fetchAiringSchedule(e,t+1)},setInitialAiringTime(){const e=this.airingSchedule[0];if(e){const t=new Date(1e3*e.airingAt).toLocaleString("ja-JP",{timeZone:"Asia/Tokyo"}).replace(/([^]*?)+ /,"").replace(/:(\d\d)$/,"");t&&(this.airTime=t)}}},filters:{formatDate(e){if(e)return new Date(e).toLocaleString("ja-JP",{timeZone:"Asia/Tokyo"}).replace(/ ([^]*?)+/,"")}},async created(){"new"!==this.id&&(await this.fetchAiringSchedule(this.id,1),this.setInitialAiringTime())}},Db=Nb,Rb=(a("d0b7"),Object(b["a"])(Db,wb,Cb,!1,null,"77af66b0",null)),jb=Rb.exports,Fb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header"},[a("div",{on:{click:function(t){return e.toggleDialog("existingCharacters")}}},[e._v("\n            Add Characters\n        ")]),e._v(" "),a("div",{on:{click:function(t){return e.toggleDialog("newCharacter")}}},[e._v("\n            Create New Character\n        ")]),e._v(" "),e.isDataMod()?a("div",{on:{click:function(t){return e.toggleDialog("import")}}},[e._v("\n            Import\n        ")]):e._e()]),e._v(" "),e.searchType?a("el-dialog",{staticClass:"dialog",attrs:{visible:!!e.searchType,title:"Add Character Roles"},on:{close:function(t){return e.toggleDialog(null)}}},["existingCharacters"==e.searchType?a("search-box",{attrs:{type:"character","multi-select":!0},on:{submit:e.addCharacters}}):"import"==e.searchType?a("search-box",{attrs:{type:"media"},on:{submit:e.importCharacters}}):"newCharacter"==e.searchType?a("character-form",{attrs:{character:e.newCharacter},on:{"update:character":function(t){e.newCharacter=t},save:e.addNewCharacter}}):e._e(),e._v(" "),e.searchType.startsWith("new")?e._e():a("div",{staticClass:"btn",on:{click:function(t){return e.toggleDialog(null)}}},[e._v("Done")])],1):e._e(),e._v(" "),a("div",{staticClass:"characters"},[e._l(e.newCharacters,function(t,s,i){return a("character-row",{key:i,attrs:{role:t,actions:e.actions.new,index:s,"is-voice-role":"ANIME"==e.media.type}})}),e._v(" "),e._l(e.addedCharacters,function(t,s,i){return a("character-row",{key:i,attrs:{role:t,actions:e.actions.added,index:s,"is-voice-role":"ANIME"==e.media.type}})}),e._v(" "),e._l(e.characters,function(t,s){return a("character-row",{key:t.id,attrs:{role:t,actions:e.actions.current,index:s,"is-voice-role":"ANIME"==e.media.type,"hide-delete":!e.isDataMod()}})})],2)],1)},Ub=[],zb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"character-row",class:{"read-only":e.readOnly}},[a("el-dialog",{staticClass:"dialog",attrs:{visible:e.editingVoiceActor,title:"Add/Edit Voice Actor Role"},on:{close:function(t){e.editingVoiceActor=!1}}},[e.newActorEditorActive?a("div",{staticClass:"btn",on:{click:function(t){e.newActorEditorActive=!1}}},[e._v("Search for Voice Actor")]):a("div",{staticClass:"btn",on:{click:function(t){e.newActorEditorActive=!0}}},[e._v("Create New Voice Actor")]),e._v(" "),e.editingVoiceActor&&!e.newActorEditorActive?a("search-box",{attrs:{type:"staff"},on:{submit:e.setVoiceActor,destroy:function(t){e.editingVoiceActor=!1}}}):a("staff-form",{attrs:{staff:e.newActor},on:{"update:staff":function(t){e.newActor=t},save:e.createVoiceActor}})],1),e._v(" "),a("div",{staticClass:"character col"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.character.image?e.character.image.medium:null,expression:"character.image ? character.image.medium : null",arg:"background-image"}],staticClass:"image",attrs:{to:{name:"Character",params:e.formatCharacterUrl(e.character)}}}),e._v(" "),a("div",[a("div",{staticClass:"name",on:{click:function(t){return e.copyId("character")}}},[e._v("\n                "+e._s(e.character.name.first)+" "+e._s(e.character.name.last)+"\n            ")]),e._v(" "),a("div",{staticClass:"role"},[a("el-dropdown",{attrs:{trigger:"click",size:"small"},on:{command:e.setRole}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                        "+e._s(e._f("capitalize")(e.role.role))+"\n                        "),e.readOnly?e._e():a("i",{staticClass:"el-icon-arrow-down"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{disabled:e.readOnly,command:"MAIN"}},[e._v("Main")]),e._v(" "),a("el-dropdown-item",{attrs:{disabled:e.readOnly,command:"SUPPORTING"}},[e._v("Supporting")]),e._v(" "),a("el-dropdown-item",{attrs:{disabled:e.readOnly,command:"BACKGROUND"}},[e._v("Background")])],1)],1)],1)])],1),e._v(" "),a("div",{staticClass:"actor col"},[e.voiceActor&&e.isVoiceRole?[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.voiceActor.image?e.voiceActor.image.medium:null,expression:"voiceActor.image ? voiceActor.image.medium : null",arg:"background-image"}],staticClass:"image",attrs:{to:{name:"Staff",params:e.formatStaffUrl(e.voiceActor)}}}),e._v(" "),a("div",[a("div",{staticClass:"name",on:{click:function(t){return e.copyId("voiceActor")}}},[e._v(e._s(e.voiceActor.name.first)+" "+e._s(e.voiceActor.name.last))]),e._v(" "),a("div",{staticClass:"language"},[e._v(e._s(e._f("capitalize")(e.voiceActor.language)))])])]:e._e()],2),e._v(" "),e.readOnly?e._e():a("div",{staticClass:"actions"},[e.isVoiceRole?a("div",{staticClass:"btn",on:{click:function(t){e.editingVoiceActor=!0}}},[a("font-awesome-icon",{attrs:{icon:"user"}})],1):e._e(),e._v(" "),e.hideDelete?e._e():a("div",{staticClass:"btn delete",on:{click:e.deleteRole}},[a("font-awesome-icon",{attrs:{icon:"trash"}})],1)])],1)},qb=[],Bb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Names")]),e._v(" "),a("div",{staticClass:"submission-form"},[a("div",{staticClass:"col-2"},[a("div",[a("h3",[e._v("Given Name")]),e._v(" "),a("el-input",{attrs:{value:e.staff.name.first},on:{input:function(t){return e.update(t,"name.first")}}})],1),e._v(" "),a("div",[a("h3",[e._v("Surname")]),e._v(" "),a("el-input",{attrs:{value:e.staff.name.last},on:{input:function(t){return e.update(t,"name.last")}}})],1),e._v(" "),a("div",[a("h3",[e._v("Native Name")]),e._v(" "),a("el-input",{attrs:{value:e.staff.name.native},on:{input:function(t){return e.update(t,"name.native")}}})],1),e._v(" "),a("div",[a("h3",[e._v("Alternative Names")]),e._v(" "),a("el-input",{model:{value:e.alternativeNames,callback:function(t){e.alternativeNames=t},expression:"alternativeNames"}})],1),e._v(" "),a("div",[a("h3",[e._v("Language")]),e._v(" "),a("el-select",{attrs:{value:e.staff.language},on:{change:function(t){return e.update(t,"language")}}},e._l(e.languages,function(t,s){return a("el-option",{key:s,attrs:{value:t,label:e._f("capitalize")(t)}})}),1)],1)])]),e._v(" "),a("h2",[e._v("About")]),e._v(" "),a("div",{staticClass:"submission-form form-textarea"},[a("el-input",{attrs:{type:"textarea",value:e.staff.description},on:{input:function(t){return e.update(t,"description")}}})],1),e._v(" "),a("h2",[e._v("Image")]),e._v(" "),a("form",{staticClass:"submission-form form-image",attrs:{enctype:"multipart/form-data"}},[e.isDataMod()?a("div",{staticClass:"dropbox"},[a("input",{staticClass:"input-file",attrs:{type:"file",name:"avatar",accept:"image/*"},on:{change:function(t){return e.imageUpload("image",t.target.files)}}}),e._v(" "),a("p",[e._v("Drop image here or click to upload")])]):a("el-input",{attrs:{placeholder:"Image url"},on:{change:function(t){return e.update(t,"image")}},model:{value:e.imageUrl,callback:function(t){e.imageUrl=t},expression:"imageUrl"}}),e._v(" "),e.staff.id?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"image"}):e._e()],1),e._v(" "),a("div",{staticClass:"btn",on:{click:e.save}},[e._v("Save")])])},Vb=[],Gb={props:["staff","emitUpdateValue","isSubmission"],components:{ElInput:Xa.a,ElSelect:Ja.a,ElOption:Wa.a},mixins:[M["a"]],data(){return{imageUrl:null,languages:["JAPANESE","ENGLISH","KOREAN","ITALIAN","SPANISH","PORTUGUESE","FRENCH","GERMAN","HEBREW","HUNGARIAN"]}},computed:{alternativeNames:{get(){return this.staff.name.alternative.join(", ")},set(e){this.update(e.split(", "),"name.alternative")}},image(){return this.isSubmission?this.staff.image.medium.replace(/.+?(?=http)/,""):this.imageUrl||this.staff.image.large||this.staff.image}},methods:{update(e,t){if(this.emitUpdateValue)this.$emit("update:staff",{key:t,value:e});else{const a=Zv()(this.staff);Um()(a,t,e),this.$emit("update:staff",a)}},save(){this.$emit("save")},toBase64(e,t){const a=new FileReader;a.onloadend=(t=>{this.$notify("Image applied"),this.update(t.target.result,e)}),a.readAsDataURL(t)},imageUpload(e,t){try{this.toBase64(e,t[0])}catch(a){this.$notify("Failed to apply image")}}}},Yb=Gb,Hb=(a("af20"),Object(b["a"])(Yb,Bb,Vb,!1,null,"08b706f8",null)),Qb=Hb.exports,Wb={components:{ElDialog:ts.a,ElDropdown:tt.a,ElDropdownMenu:Xe.a,ElDropdownItem:Je.a,FontAwesomeIcon:p.a,SearchBox:$y,StaffForm:Qb},props:{role:{type:Object,required:!0},index:{type:Number,required:!0},actions:{type:Object,required:!0},isVoiceRole:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},hideDelete:{type:Boolean,default:!1}},data(){return{editingVoiceActor:!1,newActorEditorActive:!1,newActor:{name:{alternative:[]},language:"JAPANESE"}}},computed:{character(){return this.role.character||this.role.characterSubmission},voiceActor(){return this.role.voiceActor||this.role.voiceActorSubmission}},methods:{createVoiceActor(){this.setVoiceActor(this.newActor),this.newActor={name:{alternative:[]},language:"JAPANESE"},this.editingVoiceActor=!1,this.newActorEditorActive=!1},setVoiceActor(e){this.$store.commit(this.actions.update,{id:this.role.id||null,index:this.index,key:"voiceActor",value:e})},setRole(e){this.$store.commit(this.actions.update,{id:this.role.id||null,index:this.index,key:"role",value:e})},deleteRole(){this.$store.commit(this.actions.delete,this.role.id||this.index)},async copyId(e){this.role[e].id&&(await navigator.clipboard.writeText(this.role[e].id),this.$notify("ID copied"))}}},Kb=Wb,Jb=(a("0214"),Object(b["a"])(Kb,zb,qb,!1,null,"49adec0c",null)),Zb=Jb.exports,Xb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Names")]),e._v(" "),a("div",{staticClass:"submission-form"},[a("div",{staticClass:"col-2"},[a("div",[a("h3",[e._v("Given Name")]),e._v(" "),a("el-input",{attrs:{value:e.character.name.first},on:{input:function(t){return e.update(t,"name.first")}}})],1),e._v(" "),a("div",[a("h3",[e._v("Surname")]),e._v(" "),a("el-input",{attrs:{value:e.character.name.last},on:{input:function(t){return e.update(t,"name.last")}}})],1),e._v(" "),a("div",[a("h3",[e._v("Native Name")]),e._v(" "),a("el-input",{attrs:{value:e.character.name.native},on:{input:function(t){return e.update(t,"name.native")}}})],1),e._v(" "),a("div",[a("h3",[e._v("Alternative Names")]),e._v(" "),a("el-input",{model:{value:e.alternativeNames,callback:function(t){e.alternativeNames=t},expression:"alternativeNames"}})],1)])]),e._v(" "),a("h2",[e._v("About")]),e._v(" "),a("div",{staticClass:"submission-form form-textarea"},[a("el-input",{attrs:{type:"textarea",value:e.character.description},on:{input:function(t){return e.update(t,"description")}}})],1),e._v(" "),a("h2",[e._v("Image")]),e._v(" "),a("form",{staticClass:"submission-form form-image",attrs:{enctype:"multipart/form-data"}},[e.isDataMod()?a("div",{staticClass:"dropbox"},[a("input",{staticClass:"input-file",attrs:{type:"file",name:"avatar",accept:"image/*"},on:{change:function(t){return e.imageUpload("image",t.target.files)}}}),e._v(" "),a("p",[e._v("Drop image here or click to upload")])]):a("el-input",{attrs:{placeholder:"Image url"},on:{change:function(t){return e.update(t,"image")}},model:{value:e.imageUrl,callback:function(t){e.imageUrl=t},expression:"imageUrl"}}),e._v(" "),e.character.id?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"image"}):e._e()],1),e._v(" "),a("div",{staticClass:"btn",on:{click:e.save}},[e._v("Save")])])},ew=[],tw={props:["character","emitUpdateValue","isSubmission"],components:{ElInput:Xa.a},mixins:[M["a"]],data(){return{imageUrl:null}},computed:{alternativeNames:{get(){return this.character.name.alternative.join(", ")},set(e){this.update(e.split(", "),"name.alternative")}},image(){return this.isSubmission?this.character.image.medium.replace(/.+?(?=http)/,""):this.imageUrl||this.character.image.large||this.character.image}},methods:{update(e,t){if(this.emitUpdateValue)this.$emit("update:character",{key:t,value:e});else{const a=Zv()(this.character);Um()(a,t,e),this.$emit("update:character",a)}},save(){this.$emit("save")},toBase64(e,t){const a=new FileReader;a.onloadend=(t=>{this.$notify("Image applied"),this.update(t.target.result,e)}),a.readAsDataURL(t)},imageUpload(e,t){try{this.toBase64(e,t[0])}catch(a){this.$notify("Failed to apply image")}}}},aw=tw,sw=(a("d134"),Object(b["a"])(aw,Xb,ew,!1,null,"f7f2da00",null)),iw=sw.exports,nw={components:{CharacterRow:Zb,SearchBox:$y,CharacterForm:iw,ElDialog:ts.a},props:{media:{type:[Object],required:!0}},mixins:[M["a"]],data(){return{searchType:null,newCharacter:{name:{alternative:[]}},actions:{current:{update:"mediaSubmission/updateMediaCharacter",delete:"mediaSubmission/removeMediaCharacter"},added:{update:"mediaSubmission/updateAddedMediaCharacter",delete:"mediaSubmission/removeAddedMediaCharacter"},new:{update:"mediaSubmission/updateNewMediaCharacter",delete:"mediaSubmission/removeNewMediaCharacter"}}}},computed:{characters(){return this.$store.getters["mediaSubmission/characters"]},addedCharacters(){return this.$store.getters["mediaSubmission/addedCharacters"]},newCharacters(){return this.$store.getters["mediaSubmission/newCharacters"]}},methods:{toggleDialog(e){this.searchType=e},addCharacters(e){this.toggleDialog(null),e.forEach(e=>this.$store.commit("mediaSubmission/addMediaCharacter",e))},addNewCharacter(){this.$store.commit("mediaSubmission/addNewMediaCharacter",this.newCharacter),this.toggleDialog(null),this.newCharacter={name:{alternative:[]}}},async importCharacters(e){this.toggleDialog(null);await this.$store.dispatch("mediaSubmission/importMediaCharacters",{id:e.id})}}},rw=nw,ow=(a("f7e1"),Object(b["a"])(rw,Fb,Ub,!1,null,"589d8c66",null)),cw=ow.exports,lw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header"},[a("div",{on:{click:function(t){return e.toggleDialog("existingStaff")}}},[e._v("\n            Add Staff\n        ")]),e._v(" "),a("div",{on:{click:function(t){return e.toggleDialog("newStaff")}}},[e._v("\n            Create New Staff\n        ")])]),e._v(" "),e.searchType?a("el-dialog",{staticClass:"dialog",attrs:{visible:!!e.searchType,title:"Add Staff Roles"},on:{close:function(t){return e.toggleDialog(null)}}},["existingStaff"==e.searchType?a("search-box",{attrs:{type:"staff","multi-select":!0},on:{submit:e.addStaff}}):"newStaff"==e.searchType?a("staff-form",{attrs:{staff:e.newStaffEntry},on:{"update:staff":function(t){e.newStaffEntry=t},save:e.addNewStaff}}):e._e(),e._v(" "),e.searchType.startsWith("new")?e._e():a("div",{staticClass:"btn",on:{click:function(t){return e.toggleDialog(null)}}},[e._v("Done")])],1):e._e(),e._v(" "),a("div",{staticClass:"staff"},[e._l(e.newStaff,function(t,s,i){return a("staff-row",{key:i,attrs:{role:t,actions:e.actions.new,index:s}})}),e._v(" "),e._l(e.addedStaff,function(t,s,i){return a("staff-row",{key:i,attrs:{role:t,actions:e.actions.added,index:s}})}),e._v(" "),e._l(e.staff,function(t,s){return a("staff-row",{key:s,attrs:{role:t,actions:e.actions.current,index:s,"hide-delete":!e.isDataMod()}})})],2)],1)},dw=[],uw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"staff-row",class:{"read-only":e.readOnly}},[a("div",{staticClass:"staff col"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.staff.image?e.staff.image.medium:null,expression:"staff.image ? staff.image.medium : null",arg:"background-image"}],staticClass:"image",attrs:{to:{name:"Staff",params:e.formatStaffUrl(e.staff)}}}),e._v(" "),a("div",[a("div",{staticClass:"name",on:{click:e.copyId}},[e._v("\n                "+e._s(e.staff.name.first)+" "+e._s(e.staff.name.last)+"\n            ")])])],1),e._v(" "),a("div",{staticClass:"role"},[a("el-select",{staticClass:"role-select",attrs:{disabled:e.readOnly,filterable:"","allow-create":"","default-first-option":"",placeholder:"Role",value:e.role.role},on:{change:e.setRole}},e._l(e.roleOptions,function(e){return a("el-option",{key:e,attrs:{value:e}})}),1)],1),e._v(" "),e.readOnly||e.hideDelete?e._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"btn delete",on:{click:e.deleteRole}},[a("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])},mw=[],pw={components:{FontAwesomeIcon:p.a,ElSelect:Ja.a,ElOption:Wa.a},props:{role:{type:Object,required:!0},index:{type:Number,required:!0},actions:{type:Object,required:!0},readOnly:{type:Boolean,default:!1},hideDelete:{type:Boolean,default:!1}},data(){return{roleOptions:["Story & Art","Story","Director","Art","Original Creator","Key Animation","Music","Character Design","Script","Sound Director","Theme Song Performance","Series Composition","Animation Director","Storyboard","Original Character Design","Art Director","Producer","Chief Animation Director","Screenplay","Episode Director","ADR Director","Theme Song Performance (OP)","Theme Song Performance (ED)","Theme Song Performance (OP, ED)","Background Art","In-Between Animation","Mechanical Design","Planning","Inserted Song Performance","Theme Song Lyrics","Key Animation (OP)","Executive Producer","Assistant Director","Original Story","Unit Director"]}},computed:{staff(){return this.role.staff||this.role.staffSubmission}},methods:{setRole(e){this.$store.commit(this.actions.update,{id:this.role.id||null,index:this.index,key:"role",value:e})},deleteRole(){this.$store.commit(this.actions.delete,this.role.id||this.index)},async copyId(){this.role.staff.id&&(await navigator.clipboard.writeText(this.role.staff.id),this.$notify("ID copied"))}}},hw=pw,vw=(a("1867"),Object(b["a"])(hw,uw,mw,!1,null,"709121b3",null)),fw=vw.exports,gw={components:{StaffRow:fw,SearchBox:$y,StaffForm:Qb,ElDialog:ts.a},props:{media:{type:[Object],required:!0}},mixins:[M["a"]],data(){return{searchType:null,newStaffEntry:{name:{alternative:[]},language:"JAPANESE"},actions:{current:{update:"mediaSubmission/updateMediaStaff",delete:"mediaSubmission/removeMediaStaff"},added:{update:"mediaSubmission/updateAddedMediaStaff",delete:"mediaSubmission/removeAddedMediaStaff"},new:{update:"mediaSubmission/updateNewMediaStaff",delete:"mediaSubmission/removeNewMediaStaff"}}}},computed:{staff(){return this.$store.getters["mediaSubmission/staff"]},addedStaff(){return this.$store.getters["mediaSubmission/addedStaff"]},newStaff(){return this.$store.getters["mediaSubmission/newStaff"]}},methods:{async fetchStaff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const a=await this.$store.dispatch("mediaSubmission/fetchMediaStaff",{id:e,page:t});a&&await this.fetchStaff(e,t+1)},toggleDialog(e){this.searchType=e},addStaff(e){this.toggleDialog(null),e.forEach(e=>this.$store.commit("mediaSubmission/addMediaStaff",e))},addNewStaff(){this.$store.commit("mediaSubmission/addNewMediaStaff",this.newStaffEntry),this.toggleDialog(null),this.newStaffEntry={name:{alternative:[]},language:"JAPANESE"}}},created(){this.media.id&&!this.staff[0]&&this.fetchStaff(this.media.id)}},yw=gw,_w=(a("a47a"),Object(b["a"])(yw,lw,dw,!1,null,"51641463",null)),bw=_w.exports,ww=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header"},[a("div",{on:{click:function(t){return e.toggleDialog("existingStudios")}}},[e._v("\n            Add Studios\n        ")]),e._v(" "),e.isDataMod()?a("div",{on:{click:function(t){return e.toggleDialog("newStudio")}}},[e._v("\n            Create New Studio\n        ")]):e._e()]),e._v(" "),e.searchType?a("el-dialog",{staticClass:"dialog",attrs:{visible:!!e.searchType,title:"Add Studio"},on:{close:function(t){return e.toggleDialog(null)}}},["existingStudios"==e.searchType?a("search-box",{attrs:{type:"studio","multi-select":!0},on:{submit:e.addStudios}}):"newStudio"==e.searchType?a("studio-form",{attrs:{studio:e.newStudio},on:{"update:studio":function(t){e.newStudio=t},save:e.addNewStudio}}):e._e(),e._v(" "),e.searchType.startsWith("new")?e._e():a("div",{staticClass:"btn",on:{click:function(t){return e.toggleDialog(null)}}},[e._v("Done")])],1):e._e(),e._v(" "),a("div",{staticClass:"studios"},[e._l(e.newStudios,function(t,s,i){return a("studio-row",{key:i,attrs:{studio:t,actions:e.actions.new,index:s}})}),e._v(" "),e._l(e.addedStudios,function(t,s,i){return a("studio-row",{key:i,attrs:{studio:t,actions:e.actions.added,index:s}})}),e._v(" "),e._l(e.studios,function(t,s,i){return a("studio-row",{key:i,attrs:{studio:t,actions:e.actions.current,index:s,"hide-delete":!e.isDataMod()}})})],2)],1)},Cw=[],Sw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"studio-row"},[a("div",{staticClass:"studio"},[a("router-link",{attrs:{to:{name:"Studio",params:e.formatStudioUrl(e.studio.studio)}}},[a("div",{staticClass:"name"},[e._v(e._s(e.studio.studio.name))])])],1),e._v(" "),a("div",{staticClass:"role"},[e._v("\n        Primary Animation Studio "),a("el-checkbox",{attrs:{value:e.studio.isMain},on:{change:e.setStudioRole}})],1),e._v(" "),e.hideDelete?e._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"btn delete",on:{click:e.deleteStudio}},[a("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])},$w=[],kw={components:{FontAwesomeIcon:p.a,ElCheckbox:me.a},props:{studio:{type:Object,required:!0},index:{type:Number,required:!0},actions:{type:Object,required:!0},hideDelete:{type:Boolean,default:!1}},methods:{setStudioRole(e){this.$store.commit(this.actions.update,{id:this.studio.id||null,index:this.index,key:"isMain",value:e})},deleteStudio(){this.$store.commit(this.actions.delete,this.studio.id||this.index)}}},Iw=kw,Aw=(a("9e8c"),Object(b["a"])(Iw,Sw,$w,!1,null,"2023b671",null)),Ew=Aw.exports,xw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Names")]),e._v(" "),a("div",{staticClass:"submission-form"},[a("div",{staticClass:"col-2"},[a("div",[a("h3",[e._v("Name")]),e._v(" "),a("el-input",{attrs:{value:e.studio.name},on:{input:function(t){return e.update(t,"name")}}})],1),e._v(" "),a("div",[a("h3",[e._v("Type")]),e._v(" "),a("el-select",{attrs:{value:e.studio.isAnimationStudio},on:{change:function(t){return e.update(t,"isAnimationStudio")}}},[a("el-option",{attrs:{value:!0,label:"Animation Studio"}}),e._v(" "),a("el-option",{attrs:{value:!1,label:"Company"}})],1)],1)])]),e._v(" "),a("div",{staticClass:"btn",on:{click:e.save}},[e._v("Save")])])},Ow=[],Pw={props:["studio"],components:{ElInput:Xa.a,ElSelect:Ja.a,ElOption:Wa.a},methods:{update(e,t){const a=Object(Re["a"])({},this.studio);Um()(a,t,e),this.$emit("update:studio",a)},save(){this.$emit("save")}}},Tw=Pw,Lw=(a("09c1"),Object(b["a"])(Tw,xw,Ow,!1,null,"7e751868",null)),Mw=Lw.exports,Nw={components:{StudioRow:Ew,SearchBox:$y,StudioForm:Mw,ElDialog:ts.a},props:{media:{type:[Object],required:!0}},mixins:[M["a"]],data(){return{searchType:null,newStudio:{},actions:{current:{update:"mediaSubmission/updateMediaStudio",delete:"mediaSubmission/removeMediaStudio"},added:{update:"mediaSubmission/updateAddedMediaStudio",delete:"mediaSubmission/removeAddedMediaStudio"},new:{update:"mediaSubmission/updateNewMediaStudio",delete:"mediaSubmission/removeNewMediaStudio"}}}},computed:{studios(){return this.$store.getters["mediaSubmission/studios"]},addedStudios(){return this.$store.getters["mediaSubmission/addedStudios"]},newStudios(){return this.$store.getters["mediaSubmission/newStudios"]}},methods:{toggleDialog(e){this.searchType=e},addStudios(e){this.toggleDialog(null),e.forEach(e=>this.$store.commit("mediaSubmission/addMediaStudio",e))},addNewStudio(){this.$store.commit("mediaSubmission/addNewMediaStudio",this.newStudio),this.toggleDialog(null),this.newStudio={}}}},Dw=Nw,Rw=(a("04b2"),Object(b["a"])(Dw,ww,Cw,!1,null,"1eb484c5",null)),jw=Rw.exports,Fw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header"},[a("div",{on:{click:function(t){return e.toggleDialog("relations")}}},[e._v("\n            Add Relation\n        ")])]),e._v(" "),e.searchType?a("el-dialog",{staticClass:"dialog",attrs:{visible:!!e.searchType,title:"Add Relation"},on:{close:function(t){return e.toggleDialog(null)}}},["relations"==e.searchType?a("search-box",{attrs:{type:"media","multi-select":!0},on:{submit:e.addRelations}}):e._e(),e._v(" "),a("div",{staticClass:"btn",on:{click:function(t){return e.toggleDialog(null)}}},[e._v("Done")])],1):e._e(),e._v(" "),a("div",{staticClass:"relations"},[e._l(e.addedRelations,function(t,s,i){return a("relation-row",{key:i,attrs:{relation:t,actions:e.actions.added,index:s}})}),e._v(" "),e._l(e.relations,function(t,s){return a("relation-row",{key:t.id,attrs:{relation:t,"read-only":!0,actions:e.actions.current,index:s,"hide-delete":!e.isDataMod()}})})],2)],1)},Uw=[],zw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relation-row"},[a("div",{staticClass:"relation col"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.relation.media.coverImage.medium,expression:"relation.media.coverImage.medium",arg:"background-image"}],staticClass:"image",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.relation.media)}}}),e._v(" "),a("div",[a("div",{staticClass:"name"},[e._v(e._s(e.relation.media.title.userPreferred))]),e._v(" "),a("div",{staticClass:"info"},[e.relation.media.startDate?a("span",{staticClass:"year"},[e._v(e._s(e.relation.media.startDate.year))]):e._e(),e._v(" "),a("span",{staticClass:"format"},[e._v(e._s(e._f("capitalizeFormat")(e.relation.media.format)))])])])],1),e._v(" "),a("div",{staticClass:"relation-type"},[a("el-select",{staticClass:"relation-select",attrs:{"default-first-option":"",placeholder:"Relation Type",disabled:e.readOnly,value:e.relation.relationType},on:{change:e.setRelation}},e._l(e.relationOptions,function(t){return a("el-option",{key:t,attrs:{value:t,label:e._f("capitalize")(t)}})}),1)],1),e._v(" "),e.hideDelete?e._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"btn delete",on:{click:e.deleteRelation}},[a("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])},qw=[],Bw={components:{FontAwesomeIcon:p.a,ElSelect:Ja.a,ElOption:Wa.a},props:{relation:{type:Object,required:!0},index:{type:Number,required:!0},actions:{type:Object,required:!0},readOnly:{type:Boolean,default:!1},hideDelete:{type:Boolean,default:!1}},data(){return{relationOptions:["ADAPTATION","SOURCE","PREQUEL","SEQUEL","SIDE_STORY","CHARACTER","SUMMARY","ALTERNATIVE","SPIN_OFF","OTHER","COMPILATION","CONTAINS"]}},methods:{setRelation(e){this.$store.commit(this.actions.update,{index:this.index,key:"relationType",value:e})},deleteRelation(){this.$store.commit(this.actions.delete,this.relation.id||this.index)}}},Vw=Bw,Gw=(a("6fc5"),Object(b["a"])(Vw,zw,qw,!1,null,"37674ce0",null)),Yw=Gw.exports,Hw={components:{RelationRow:Yw,SearchBox:$y,ElDialog:ts.a},props:{media:{type:[Object],required:!0}},mixins:[M["a"]],data(){return{searchType:null,actions:{current:{delete:"mediaSubmission/removeMediaRelation"},added:{update:"mediaSubmission/updateAddedMediaRelation",delete:"mediaSubmission/removeAddedMediaRelation"}}}},computed:{relations(){return this.$store.getters["mediaSubmission/relations"]},addedRelations(){return this.$store.getters["mediaSubmission/addedRelations"]}},methods:{toggleDialog(e){this.searchType=e},addRelations(e){this.toggleDialog(null),e.forEach(e=>this.$store.commit("mediaSubmission/addMediaRelation",e))}}},Qw=Hw,Ww=(a("5cc1"),Object(b["a"])(Qw,Fw,Uw,!1,null,"450fff9a",null)),Kw=Ww.exports,Jw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header"},[a("div",{on:{click:e.AddLink}},[e._v("\n            Add Link\n        ")])]),e._v(" "),a("div",{staticClass:"links"},[e._l(e.addedLinks,function(t,s,i){return a("link-row",{key:i,attrs:{link:t,actions:e.actions.added,index:s}})}),e._v(" "),e._l(e.links,function(t,s,i){return a("link-row",{key:i,attrs:{link:t,"read-only":!0,actions:e.actions.current,index:s,"hide-delete":!e.isDataMod()}})})],2)])},Zw=[],Xw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"link-row"},[a("div",{staticClass:"link col"},[a("div",{staticClass:"name"},[e._v(e._s(e.link.site))])]),e._v(" "),a("div",{staticClass:"link-url"},[a("el-input",{staticClass:"link-input",attrs:{disabled:e.readOnly,value:e.link.url,placeholder:"URL"},on:{input:e.setLink}})],1),e._v(" "),e.hideDelete?e._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"btn delete",on:{click:e.deleteLink}},[a("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])},eC=[],tC={components:{FontAwesomeIcon:p.a,ElInput:Xa.a},props:{link:{type:Object,required:!0},index:{type:Number,required:!0},actions:{type:Object,required:!0},readOnly:{type:Boolean,default:!1},hideDelete:{type:Boolean,default:!1}},methods:{setLink(e){this.$store.commit(this.actions.update,{index:this.index,url:e})},deleteLink(){this.$store.commit(this.actions.delete,{index:this.index,url:this.link.url})}}},aC=tC,sC=(a("3dcd"),Object(b["a"])(aC,Xw,eC,!1,null,"3caf65c2",null)),iC=sC.exports,nC={components:{LinkRow:iC},props:{media:{type:[Object],required:!0}},mixins:[M["a"]],data(){return{searchType:null,actions:{current:{delete:"mediaSubmission/removeMediaLink"},added:{update:"mediaSubmission/updateAddedMediaLink",delete:"mediaSubmission/removeAddedMediaLink"}}}},computed:{links(){return this.$store.getters["mediaSubmission/links"]},addedLinks(){return this.$store.getters["mediaSubmission/addedLinks"]}},methods:{toggleDialog(e){this.searchType=e},AddLink(e){this.$store.commit("mediaSubmission/addMediaLink")}}},rC=nC,oC=(a("a40f"),Object(b["a"])(rC,Jw,Zw,!1,null,"196c60df",null)),cC=oC.exports,lC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("revision-history",{attrs:{filter:{mediaId:e.media.id}}})],1)},dC=[],uC={components:{RevisionHistory:bg},props:["media"]},mC=uC,pC=Object(b["a"])(mC,lC,dC,!1,null,null,null),hC=pC.exports,vC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.submissions[0]&&e.mediaTypes?a("div",{staticClass:"submissions"},e._l(e.submissions,function(e,t){return a("submission",{key:t,attrs:{submission:e,index:t}})}),1):e._e()},fC=[],gC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submission"},[a("div",{staticClass:"user"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.submission.submitter.avatar.large,expression:"submission.submitter.avatar.large",arg:"background-image"}],staticClass:"avatar",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.submission.submitter)}}}),e._v(" "),a("div",[e._v(e._s(e.submission.submitter.name))]),e._v(" "),e.submission.submitterStats?a("div",{staticClass:"stats"},[a("div",{staticClass:"accepted"},[e._v("Accepted"),a("span",[e._v(e._s(e.submission.submitterStats.accepted))])]),e._v(" "),a("div",{staticClass:"partially-accepted"},[e._v("Partially Accepted"),a("span",[e._v(e._s(e.submission.submitterStats.partiallyAccepted))])]),e._v(" "),a("div",{staticClass:"rejected"},[e._v("Rejected"),a("span",[e._v(e._s(e.submission.submitterStats.rejected))])])]):e._e()],1),e._v(" "),a("div",{staticClass:"change"},[a("h2",[e._v("Submission Sources & Notes")]),e._v(" "),a("div",{staticClass:"submission-form form-textarea"},[a("el-input",{attrs:{type:"textarea",rows:"4",value:e.submission.source}})],1)]),e._v(" "),e.isNew?e._e():a("div",{staticClass:"comparison header"},[a("div",[e._v("Existing Data")]),e._v(" "),a("div",[e._v("Submitted Data ("+e._s(e.changeCount)+")")])]),e._v(" "),e._l(e.mediaChanges,function(t){return a("div",{key:t.key,staticClass:"change"},[a("h2",[e._v(e._s(t.key))]),e._v(" "),a("div",{staticClass:"comparison",class:[t.component,{new:e.isNew}]},[e.isNew?e._e():a("div",{staticClass:"submission-form",class:{"form-textarea":"TextForm"==t.component}},[a(t.component,{tag:"component",attrs:{value:t.current,type:t.key,"media-type":e.type,"read-only":!0}})],1),e._v(" "),a("div",{staticClass:"submission-form input-wrap",class:{"form-textarea":"TextForm"==t.component}},[a(t.component,{tag:"component",attrs:{value:t.value,type:t.key,"media-type":e.type},on:{update:e.update}}),e._v(" "),!e.isNew||e.isNew&&"title.romaji"==t.key?a("div",{staticClass:"actions"},[a("div",{staticClass:"btn accept",on:{click:function(a){return e.save(t.key,t.value)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e()],1)])])}),e._v(" "),a("character-submissions",{attrs:{characters:e.submission.characters,type:e.type,index:e.index,"is-new":e.isNew}}),e._v(" "),a("staff-submissions",{attrs:{staff:e.submission.staff,type:e.type,index:e.index,"is-new":e.isNew}}),e._v(" "),a("studio-submissions",{attrs:{studios:e.submission.studios,type:e.type,index:e.index,"is-new":e.isNew}}),e._v(" "),a("relation-submissions",{attrs:{relations:e.submission.relations,type:e.type,index:e.index,"is-new":e.isNew}}),e._v(" "),a("link-submissions",{attrs:{externalLinks:e.submission.externalLinks,type:e.type,index:e.index,"is-new":e.isNew}}),e._v(" "),a("div",{staticClass:"change footer"},[a("h2",[e._v("Submission Notes & Feedback")]),e._v(" "),a("div",{staticClass:"submission-form form-textarea"},[a("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"Submission notes and feedback for the user"},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}})],1),e._v(" "),a("div",{staticClass:"footer-actions"},[a("h2",[e._v("Mark this submission as:")]),e._v(" "),e.isNew?e._e():[a("div",{staticClass:"btn accept",on:{click:function(t){return e.saveStatus("ACCEPTED")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1),e._v(" "),a("span",[e._v("Accepted")])],e._v(" "),e.isNew?e._e():[a("div",{staticClass:"btn partial-accept",on:{click:function(t){return e.saveStatus("PARTIALLY_ACCEPTED")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"question"}})],1),e._v(" "),a("span",[e._v("Partially Accepted")])],e._v(" "),a("div",{staticClass:"btn reject",on:{click:function(t){return e.saveStatus("REJECTED")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"times"}})],1),e._v(" "),a("span",[e._v("Rejected")])],2)])],2)},yC=[],_C=a("6cd4"),bC=a.n(_C);const wC=async e=>{const t=await fetch(e),a=await t.arrayBuffer();return btoa([].slice.call(new Uint8Array(a)).map(e=>String.fromCharCode(e)).join(""))};var CC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.characters[0]?a("div",{staticClass:"change"},[e.newCharacters[0]?a("div",[a("h1",[e._v("New Characters")]),e._v(" "),e._l(e.newCharacters,function(t,s){return a("character-form",{key:s,staticClass:"character-form",attrs:{character:t,"is-submission":!0,"emit-update-value":!0},on:{"update:character":function(a){return e.updateRoleSubmission(t,a)},save:function(a){return e.saveNewCharacter(t)}}})})],2):e._e(),e._v(" "),e.newVoiceActors[0]?a("div",[a("h1",[e._v("New Voice Actors")]),e._v(" "),e._l(e.newVoiceActors,function(t,s){return a("staff-form",{key:s,staticClass:"character-form",attrs:{staff:t,"is-submission":!0,"emit-update-value":!0},on:{"update:staff":function(a){return e.updateRoleSubmission(t,a)},save:function(a){return e.saveNewVoiceActor(t)}}})})],2):e._e(),e._v(" "),a("h2",[e._v("Character Roles")]),e._v(" "),e._l(e.characters,function(t,s,i){return a("div",{key:i,staticClass:"comparison"},[t.character?a("character-row",{key:i,attrs:{role:t.character,actions:{},index:s,"read-only":!0,"is-voice-role":"ANIME"==e.type}}):a("div"),e._v(" "),a("div",{staticClass:"input-wrap"},[a("character-row",{key:i,attrs:{role:t.submission,actions:{},index:s,"read-only":!0,"is-voice-role":"ANIME"==e.type}}),e._v(" "),e.isNew||t.submission.characterSubmission||t.submission.voiceActorSubmission?e._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"btn accept",on:{click:function(a){return e.saveCharacterRole(t,s)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)])],1)],1)})],2):e._e()},SC=[],$C={components:{FontAwesomeIcon:p.a,CharacterRow:Zb,CharacterForm:iw,StaffForm:Qb},props:{characters:{type:Array,required:!0},type:{type:String,required:!0},isNew:{type:Boolean,required:!0},index:{type:Number,required:!0}},computed:{newCharacters(){const e=[];return this.characters.map(t=>{t.submission.characterSubmission&&e.push(t.submission.characterSubmission)}),e},newVoiceActors(){const e=[];return this.characters.map(t=>{t.submission.voiceActorSubmission&&e.push(t.submission.voiceActorSubmission)}),e}},methods:{updateRoleSubmission(e,t){let a=t.key,s=t.value;this.$store.commit("updateObject",{reference:e,path:a,value:s})},async getImage(e){try{return e=e.replace(/.+?(?=http)/,""),await wC(e)}catch(t){return void this.$notify("Falied to fetch image.")}},async saveNewCharacter(e){if(e=Object(Re["a"])({},e),e.image instanceof Object){let t=e.image.medium;if(null===t||"https://3.anilist.co/file/anilistcdn/character/medium/"==t)delete e.image;else if(e.image=await this.getImage(t),!e.image)try{await this.$confirm("Image failed to fetch, continue saving character without image?","Warning")}catch(a){return}}e.submissionId=e.id,delete e.id;const t=await this.$store.dispatch("characterSubmission/saveCharacter",e);t&&this.$store.dispatch("mediaSubmission/refresh")},async saveNewVoiceActor(e){if(e=Object(Re["a"])({},e),e.image instanceof Object){let t=e.image.medium;if(null===t||"https://s4.anilist.co/file/anilistcdn/staff/medium/"==t)delete e.image;else if(e.image=await this.getImage(t),!e.image)try{await this.$confirm("Image failed to fetch, continue saving voice actor without image?","Warning")}catch(a){return}}e.submissionId=e.id,delete e.id;const t=await this.$store.dispatch("staffSubmission/saveStaff",e);t&&this.$store.dispatch("mediaSubmission/refresh")},async saveCharacterRole(e,t){const a={submission:this.index,character:t},s=Object(Re["a"])({submissionId:e.submission.id},e.submission);s.id=e.character&&e.character.id?e.character.id:null,e.submission.characterSubmission&&(s.character=e.submission.characterSubmission,delete s.character.id),e.submission.voiceActorSubmission&&(s.voiceActor=e.submission.voiceActorSubmission,delete s.voiceActor.id),await this.$store.dispatch("mediaSubmission/saveCharacterRoleSubmission",{role:s,path:a})}}},kC=$C,IC=(a("eb03"),Object(b["a"])(kC,CC,SC,!1,null,"f4ce4adc",null)),AC=IC.exports,EC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.staff[0]?a("div",{staticClass:"change"},[e.newStaff[0]?a("div",[a("h1",[e._v("New Staff Members")]),e._v(" "),e._l(e.newStaff,function(t,s){return a("staff-form",{key:s,staticClass:"staff-form",attrs:{staff:t,"is-submission":!0,"emit-update-value":!0},on:{"update:staff":function(a){return e.updateStaffSubmission(t,a)},save:function(a){return e.saveNewStaff(t)}}})})],2):e._e(),e._v(" "),a("h2",[e._v("Staff Roles")]),e._v(" "),e._l(e.staff,function(t,s,i){return a("div",{key:i,staticClass:"comparison"},[t.staff?a("staff-row",{key:i,attrs:{role:t.staff,actions:{},index:s,"read-only":!0,"is-voice-role":"ANIME"==e.type}}):a("div"),e._v(" "),a("div",{staticClass:"input-wrap"},[a("staff-row",{key:i,attrs:{role:t.submission,actions:{},index:s,"read-only":!0,"is-voice-role":"ANIME"==e.type}}),e._v(" "),e.isNew||t.submission.staffSubmission?e._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"btn accept",on:{click:function(a){return e.saveStaffRole(t,s)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)])],1)],1)})],2):e._e()},xC=[],OC={components:{FontAwesomeIcon:p.a,StaffRow:fw,StaffForm:Qb},props:{staff:{type:Array,required:!0},type:{type:String,required:!0},isNew:{type:Boolean,required:!0},index:{type:Number,required:!0}},computed:{newStaff(){const e=[];return this.staff.map(t=>{t.submission.staffSubmission&&e.push(t.submission.staffSubmission)}),e}},methods:{updateStaffSubmission(e,t){let a=t.key,s=t.value;this.$store.commit("updateObject",{reference:e,path:a,value:s})},async getImage(e){try{return e=e.replace(/.+?(?=http)/,""),await wC(e)}catch(t){return void this.$notify("Falied to fetch image.")}},async saveNewStaff(e){if(e=Object(Re["a"])({},e),e.image instanceof Object){let t=e.image.medium;if(null===t||"https://s4.anilist.co/file/anilistcdn/staff/medium/"==t)delete e.image;else if(e.image=await this.getImage(t),!e.image)try{await this.$confirm("Image failed to fetch, continue saving staff without image?","Warning")}catch(a){return}}e.submissionId=e.id,delete e.id;const t=await this.$store.dispatch("staffSubmission/saveStaff",e);t&&this.$store.dispatch("mediaSubmission/refresh")},async saveStaffRole(e,t){const a={submission:this.index,staff:t},s=Object(Re["a"])({submissionId:e.submission.id},e.submission);s.id=e.staff&&e.staff.id?e.staff.id:null,e.submission.staffSubmission&&(s.staff=e.submission.staffSubmission,delete s.staff.id),await this.$store.dispatch("mediaSubmission/saveStaffRoleSubmission",{role:s,path:a})}}},PC=OC,TC=(a("a339"),Object(b["a"])(PC,EC,xC,!1,null,"2f8c34a6",null)),LC=TC.exports,MC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.studios[0]?a("div",{staticClass:"change studios"},[a("h2",[e._v("Studios")]),e._v(" "),e._l(e.studios,function(t,s,i){return a("div",{key:i,staticClass:"comparison"},[t.studio?a("studio-row",{key:i,attrs:{studio:t.studio,actions:{},index:s,"read-only":!0,"hide-delete":!0}}):a("div"),e._v(" "),a("div",{staticClass:"input-wrap"},[a("studio-row",{key:i,attrs:{studio:t.submission,actions:{},index:s,"read-only":!0,"hide-delete":!0}}),e._v(" "),e.isNew?e._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"btn accept",on:{click:function(a){return e.saveStudioRole(t,s)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)])],1)],1)})],2):e._e()},NC=[],DC={components:{FontAwesomeIcon:p.a,StudioRow:Ew},props:{studios:{type:Array,required:!0},isNew:{type:Boolean,required:!0},index:{type:Number,required:!0}},methods:{async saveStudioRole(e,t){const a=Object(Re["a"])({submissionId:e.submission.id},e.submission);a.id=e.studio&&e.studio.id?e.studio.id:void 0,await this.$store.dispatch("mediaSubmission/saveStudioSubmission",{studio:a,path:{submission:this.index,studio:t}})}}},RC=DC,jC=(a("dae6"),Object(b["a"])(RC,MC,NC,!1,null,"5e8d62c4",null)),FC=jC.exports,UC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.relations[0]?a("div",{staticClass:"change relations"},[a("h2",[e._v("Relations")]),e._v(" "),e._l(e.relations,function(t,s,i){return a("div",{key:i,staticClass:"comparison new"},[a("div",{staticClass:"input-wrap"},[a("relation-row",{key:i,attrs:{relation:t,actions:{},index:s,"read-only":!0,"hide-delete":!0}}),e._v(" "),e.isNew?e._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"btn accept",on:{click:function(a){return e.saveRelation(t,s)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)])],1)])})],2):e._e()},zC=[],qC={components:{FontAwesomeIcon:p.a,RelationRow:Yw},props:{relations:{type:Array,required:!0},isNew:{type:Boolean,required:!0},index:{type:Number,required:!0},readOnly:{type:Boolean,default:!1}},methods:{async saveRelation(e,t){await this.$store.dispatch("mediaSubmission/saveRelationSubmission",{relation:Object(Re["a"])({id:void 0,submissionId:e.id},e),path:{submission:this.index,relation:t}})}}},BC=qC,VC=(a("aef0"),Object(b["a"])(BC,UC,zC,!1,null,"bae8ca2a",null)),GC=VC.exports,YC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.externalLinks[0]?a("div",{staticClass:"change external-link"},[a("h2",[e._v("External Links")]),e._v(" "),e._l(e.externalLinks,function(t,s){return a("div",{key:t.id,staticClass:"comparison new"},[a("div",{staticClass:"submission-form input-wrap form-textarea"},[a("link-row",{attrs:{link:t,"read-only":!0,index:s,actions:{},"hide-delete":!0}}),e._v(" "),e.isNew?e._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"btn accept",on:{click:function(a){return e.saveLink(t,s)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)])],1)])})],2):e._e()},HC=[],QC={components:{FontAwesomeIcon:p.a,LinkRow:iC},props:{externalLinks:{type:Array,required:!0},isNew:{type:Boolean,required:!0},index:{type:Number,required:!0}},methods:{async saveLink(e,t){const a={submission:this.index,link:t};e=Object(Re["a"])({},e),e.submissionId=e.id,delete e.id,await this.$store.dispatch("mediaSubmission/saveLinkSubmission",{link:e,path:a})}}},WC=QC,KC=(a("692a"),Object(b["a"])(WC,YC,HC,!1,null,"2c08ff0c",null)),JC=KC.exports;const ZC={Int:"Number",String:"String",Boolean:"Checkbox",LIST:"List",MediaTitle:"String",MediaFormat:"Format",MediaStatus:"Status",MediaSource:"SourceForm",MediaTrailer:"Trailer",MediaSeason:"Season",MediaCoverImage:"CoverImage",MediaBannerImage:"BannerImage",FuzzyDate:"Date",CountryCode:"Country","String:Text":"TextForm"};var XC={components:Object(Re["a"])({FontAwesomeIcon:p.a,ElInput:Xa.a,CharacterSubmissions:AC,StaffSubmissions:LC,StudioSubmissions:FC,RelationSubmissions:GC,LinkSubmissions:JC},db),props:{submission:{type:Object,required:!0},index:{type:Number,required:!0}},data(){return{notes:null}},computed:{mediaTypes(){return this.$store.getters["mediaSubmission/mediaTypes"]},type(){return this.submission.submission.type},isNew(){return null==this.submission.media},mediaChanges(){const e=[],t=this.submission.submission,a=this.submission.media;return this.submission.changes.forEach(s=>{const i=jm()(a,s),n=jm()(t,s);this.hasChanged(i,n)&&e.push({key:s,value:n,current:i,component:this.getComponent(s)})}),e},changeCount(){return this.submission.changes.length+this.submission.characters.length+this.submission.staff.length}},methods:{hasChanged(e,t){if(this.isNew)return!0;if(t instanceof Object){let a=!1;return bC()(t,(t,s)=>{null!=e&&t==e[s]||(a=!0)}),a}return e!==t},getComponent(e){return e.includes(".")&&(e=e.split(".")[0]),ZC[this.mediaTypes[e]]},update(e){let t=e.key,a=e.value,s=e.index;this.$store.dispatch("mediaSubmission/updateMediaSubmission",{key:s?`${t}.${s}`:t,value:a,index:this.index})},async save(e,t){if(this.$notify("Saving"),e.includes("Image")){if(t=await this.getImage("object"==typeof t?t.large:t),!t)return}else"trailer"==e&&t instanceof Object&&(t=t.id);const a={index:this.index,submissionId:this.submission.id,key:e};Um()(a,e,t),this.isNew?a.type=this.submission.submission.type:a.id=this.submission.media.id;const s=await this.$store.dispatch("mediaSubmission/saveSubmission",a);s&&(this.$notify({type:"success",message:`${e} Saved`}),this.isNew&&s$.push({path:`/edit/${this.$route.params.type}/${s.id}/submission`}))},async saveStatus(e){await this.$store.dispatch("mediaSubmission/updateSubmissionStatus",{id:this.submission.id,notes:this.notes,status:e}),this.notes=null},async getImage(e){try{return e=e.replace(/.+?(?=http)/,""),await wC(e)}catch(t){return this.$notify("Falied to fetch image."),!1}}}},eS=XC,tS=(a("2de0"),Object(b["a"])(eS,gC,yC,!1,null,"740790fe",null)),aS=tS.exports,sS={components:{Submission:aS},props:{media:{type:[Object],required:!0},id:{type:[Number,String],required:!0},submissionId:{type:[Number,String],required:!1}},computed:{submissions(){return this.$store.getters["mediaSubmission/submissions"]},mediaTypes(){return this.$store.getters["mediaSubmission/mediaTypes"]},refresh(){return this.$store.getters["mediaSubmission/refresh"]}},methods:{async fetchSubmissions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||(e={},"new"!==this.id?e.mediaId=this.id:e.submissionId=this.submissionId),await this.$store.dispatch("mediaSubmission/fetchSubmissions",e)},async fetchMediaTypes(){await this.$store.dispatch("mediaSubmission/fetchMediaTypes")}},mounted(){this.fetchSubmissions(),this.mediaTypes||this.fetchMediaTypes()},watch:{id(e){e&&"new"!==e&&this.fetchSubmissions({mediaId:e})},submissionId(e){e&&this.fetchSubmissions({submissionId:e})},async refresh(e){e&&(await this.fetchSubmissions(),this.$store.dispatch("mediaSubmission/refresh",!1))}}},iS=sS,nS=(a("f092"),Object(b["a"])(iS,vC,fC,!1,null,"6bcaefe8",null)),rS=nS.exports,oS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"relations"},e._l(e.relations,function(t,s){return a("div",{key:s,staticClass:"relation-row",on:{click:function(a){return e.toggleSellection(t.media.id)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:e.isSelected(t.media.id)?"check-square":["far","square"]}}),e._v(" "),a("div",{staticClass:"relation col"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.media.coverImage.medium,expression:"relation.media.coverImage.medium",arg:"background-image"}],staticClass:"image"}),e._v(" "),a("div",{staticClass:"name"},[e._v(e._s(t.media.title.userPreferred))])]),e._v(" "),a("div",{staticClass:"relation-type"},[e._v("\n                "+e._s(e._f("capitalize")(t.relationType))+"\n                "),t.media.startDate?a("span",{staticClass:"year"},[e._v(" - "+e._s(t.media.startDate.year))]):e._e(),e._v(" "),a("span",{staticClass:"format"},[e._v(" - "+e._s(e._f("capitalizeFormat")(t.media.format)))])])],1)}),0),e._v(" "),a("div",{staticClass:"hint"},[e._v("\n        Notify all users who have the above selected anime/manga on \n        their lists that this "+e._s(e._f("capitalize")(e.media.type))+"\n        has been added to the site:\n    ")]),e._v(" "),a("div",{staticClass:"btn",on:{click:e.sendNotifications}},[e._v("Send Notifications")])])},cS=[],lS={components:{FontAwesomeIcon:p.a},props:{media:{type:[Object],required:!0}},data(){return{selected:[]}},computed:{relations(){return this.$store.getters["mediaSubmission/relations"]}},methods:{isSelected(e){return this.selected.includes(e)},toggleSellection(e){this.isSelected(e)?this.selected=this.selected.filter(t=>t!==e):this.selected.push(e)},async sendNotifications(){try{await this.$confirm(`Are you sure you want to send new addition notifications for ${this.media.title.romaji}?`,"Send new addition notifications")}catch(t){return}this.$notify("Sending notifications..."),this.$emit("saving",!0);const e=await this.$store.dispatch("mediaSubmission/notifyAddition",{id:this.media.id,relationIds:this.selected});this.$emit("saving",!1),e.success&&this.$notify({type:"success",message:`${e.count} notifications sent`})}},mounted(){this.selected=this.relations.map(e=>e.media.id)}},dS=lS,uS=(a("5a14"),Object(b["a"])(dS,oS,cS,!1,null,"1bd57040",null)),mS=uS.exports,pS={components:{FontAwesomeIcon:p.a,ElInput:Xa.a,AiringData:jb,GeneralData:hb,ImageData:bb,AiringData:jb,CharacterData:cw,StaffData:bw,StudioData:jw,RelationData:Kw,LinkData:cC,HistoryData:hC,SubmissionData:rS,NotifyData:mS},mixins:[M["a"]],props:{id:{type:[Number,String],required:!0},type:{type:String,required:!0},form:{type:String,required:!1},submissionId:{type:[Number,String],required:!1}},data(){return{page:"general",loaded:!1,isNew:!1,isSaved:!1,saving:!1}},computed:{media(){return this.$store.getters["mediaSubmission/media"]}},methods:{async fetchMedia(e){await this.$store.dispatch("mediaSubmission/fetchMedia",{id:e}),this.fetchCharacters(e)},async fetchCharacters(e){await this.$store.dispatch("mediaSubmission/fetchMediaCharacters",{id:e})},updateMedia(e,t){this.$store.commit("mediaSubmission/updateMedia",{key:e,value:t})},async submit(){if(!this.isDataMod()&&(!this.media.submissionSources||""===this.media.submissionSources))return void this.$notify({type:"error",message:"Sources are required before you can send this submission"});this.saving=!0;const e=await this.$store.dispatch("mediaSubmission/save");this.saving=!1,e&&(this.isSaved=!0,this.$notify({type:"success",message:this.isDataMod()?"Entry successfully updated":"Submission successfully sent"}),this.isDataMod()?s$.push({path:this.isNew?`/edit/${this.type}/${e}`:`/${this.type}/${e}`}):s$.push({path:"/"}))},async setup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$store.commit("mediaSubmission/resetState",!this.isDataMod()),"new"!==this.id||e?await this.fetchMedia(e||this.id):(this.isNew=!0,this.$store.commit("mediaSubmission/setNewMedia"),this.updateMedia("type",this.type.toUpperCase())),this.loaded=!0},setSaving(e){this.saving=e}},async created(){this.$route.params.form&&(this.page=this.$route.params.form),await this.setup()},async beforeRouteUpdate(e,t,a){this.loaded=!1,this.page="general",this.isNew=!1,this.isSaved=!1,this.$route.params.form?(this.page=this.$route.params.form,await this.setup("new"!==e.params.id?e.params.id:null)):await this.setup(this.media.id),a()},beforeRouteLeave(e,t,a){if(this.isSaved)return void a();const s=window.confirm("Do you really want to leave? you might have unsaved changes!");a(!!s)}},hS=pS,vS=(a("72aa"),Object(b["a"])(hS,py,hy,!1,null,"648272e4",null)),fS=vS.exports,gS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.character&&e.character.id?a("div",{staticClass:"character container"},[a("character-form",{attrs:{character:e.character,"emit-update-value":!0},on:{"update:character":function(t){e.character=t},save:e.save}}),e._v(" "),e.isMod()?a("div",{staticClass:"btn danger",on:{click:e.deleteCharacter}},[e._v("Delete")]):e._e(),e._v(" "),e.isDataMod()&&e.submissions[0]?a("div",{staticClass:"submissions"},[a("h1",[e._v("Submissions")]),e._v(" "),e._l(e.submissions,function(t,s){return a("submission",{key:t.id,attrs:{id:e.id,"character-submission":t,character:e.character,index:s}})})],2):e._e()],1):e._e()},yS=[],_S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submission"},[a("div",{staticClass:"user"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.user.avatar.large,expression:"user.avatar.large",arg:"background-image"}],staticClass:"avatar",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.user)}}}),e._v(" "),a("div",[e._v(e._s(e.user.name))])],1),e._v(" "),e.show("name.first")?a("div",{staticClass:"change"},[a("h3",[e._v("Given Name")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.submission.name.first))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("name.first",e.submission.name.first)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.show("name.last")?a("div",{staticClass:"change"},[a("h3",[e._v("Surname")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.submission.name.last))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("name.last",e.submission.name.last)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.show("name.native")?a("div",{staticClass:"change"},[a("h3",[e._v("Native Name")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.submission.name.native))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("name.native",e.submission.name.native)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.alternativeNames&&!e.hideAltNames?a("div",{staticClass:"change"},[a("h3",[e._v("Alternative Names")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.alternativeNames))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("name.alternative",e.submission.name.alternative)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.image&&!e.hideImage?a("div",{staticClass:"change"},[a("h3",[e._v("Image")]),e._v(" "),a("div",{staticClass:"value"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"image"})]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("image",e.submission.image)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.show("description")?a("div",{staticClass:"change"},[a("h3",[e._v("About")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.submission.description))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("description",e.submission.description)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),a("div",{staticClass:"change footer"},[a("h2",[e._v("Submission Notes & Feedback")]),e._v(" "),a("div",{staticClass:"submission-form form-textarea"},[a("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"Submission notes and feedback for the user"},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}})],1),e._v(" "),a("div",{staticClass:"footer-actions"},[a("h2",[e._v("Mark this submission as:")]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.saveStatus("ACCEPTED")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1),e._v(" "),a("span",[e._v("Accepted")]),e._v(" "),a("div",{staticClass:"btn partial-accept",on:{click:function(t){return e.saveStatus("PARTIALLY_ACCEPTED")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"question"}})],1),e._v(" "),a("span",[e._v("Partially Accepted")]),e._v(" "),a("div",{staticClass:"btn reject",on:{click:function(t){return e.saveStatus("REJECTED")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"times"}})],1),e._v(" "),a("span",[e._v("Rejected")])])])])},bS=[],wS={components:{FontAwesomeIcon:p.a,ElInput:Xa.a},props:["id","characterSubmission","character","index"],data(){return{notes:null,hideImage:!1,hideAltNames:!1}},computed:{submission(){return this.characterSubmission.submission},user(){return this.characterSubmission.submitter},alternativeNames(){return this.submission.name.alternative.filter(e=>""!==e).join(", ")},image(){const e=this.submission.image.large;return"https://s4.anilist.co/file/anilistcdn/character/large/"==e?null:e.replace(/.+?(?=http)/,"")}},methods:{show(e){const t=jm()(this.submission,e),a=jm()(this.character,e);return null!==t&&t!=a},async save(e,t){if("image"==e){if(t=await this.getImage("object"==typeof t?t.large:t),!t)return;this.hideImage=!0}else"name.alternative"==e&&(this.hideAltNames=!0);const a=await this.$store.dispatch("characterSubmission/saveSubmission",{id:this.id,key:e,value:t});a&&this.$notify({type:"success",message:`${e} Saved`})},async saveStatus(e){await this.$store.dispatch("characterSubmission/saveSubmissionStatus",{id:this.id,index:this.index,submissionId:this.submission.id,submissionStatus:e,submissionNotes:this.notes}),this.notes=null,this.hideImage=!1,this.hideAltNames=!1},async getImage(e){try{return e=e.replace(/.+?(?=http)/,""),await wC(e)}catch(t){return this.$notify("Falied to fetch image."),!1}}}},CS=wS,SS=(a("4a5c"),Object(b["a"])(CS,_S,bS,!1,null,"b757517a",null)),$S=SS.exports,kS={components:{CharacterForm:iw,Submission:$S},props:["id"],mixins:[M["a"]],computed:{character:{get(){return this.$store.getters["characterSubmission/character"]},set(e){this.$store.commit("characterSubmission/updateCharacter",e)}},submissions(){return this.$store.getters["characterSubmission/submissions"](this.id)}},methods:{async fetchCharacter(e){await this.$store.dispatch("characterSubmission/fetchCharacter",e)},async fetchSubmissions(e){await this.$store.dispatch("characterSubmission/fetchSubmissions",e)},async save(){const e=await this.$store.dispatch("characterSubmission/saveCharacter");e&&(this.$notify({type:"success",message:this.isDataMod()?"Character successfully updated":"Character submission successfully sent"}),s$.push({path:`/character/${this.id}`}))},async deleteCharacter(){try{const e=`${this.character.name.first} ${this.character.name.last}`;await this.$confirm(`Are you sure you want to delete ${e} (${this.character.id})?\n                    This is an irreversible change`,"Warning - Deletion"),await this.$prompt("Please enter the current character id to confirm deletion","Confirm Deletion",{inputPattern:new RegExp(this.character.id),inputErrorMessage:"Incorrect ID"})}catch(t){return}this.$notify("Deleting character");const e=await this.$store.dispatch("characterSubmission/deleteCharacter",this.character.id);e&&s$.push({path:"/edit/dashboard/feed"})}},created(){this.$store.commit("characterSubmission/reset"),this.fetchCharacter(this.id),this.isDataMod()&&this.fetchSubmissions(this.id)}},IS=kS,AS=(a("db26"),Object(b["a"])(IS,gS,yS,!1,null,"453636e4",null)),ES=AS.exports,xS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.staff&&e.staff.id?a("div",{staticClass:"staff container"},[a("staff-form",{attrs:{staff:e.staff,"emit-update-value":!0},on:{"update:staff":function(t){e.staff=t},save:e.save}}),e._v(" "),e.isMod()?a("div",{staticClass:"btn danger",on:{click:e.deleteStaff}},[e._v("Delete")]):e._e(),e._v(" "),e.isDataMod()&&e.submissions[0]?a("div",{staticClass:"submissions"},[a("h1",[e._v("Submissions")]),e._v(" "),e._l(e.submissions,function(t,s){return a("submission",{key:t.id,attrs:{id:e.id,"staff-submission":t,staff:e.staff,index:s}})})],2):e._e()],1):e._e()},OS=[],PS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submission"},[a("div",{staticClass:"user"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.user.avatar.large,expression:"user.avatar.large",arg:"background-image"}],staticClass:"avatar",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.user)}}}),e._v(" "),a("div",[e._v(e._s(e.user.name))])],1),e._v(" "),e.show("name.first")?a("div",{staticClass:"change"},[a("h3",[e._v("Given Name")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.submission.name.first))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("name.first",e.submission.name.first)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.show("name.last")?a("div",{staticClass:"change"},[a("h3",[e._v("Surname")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.submission.name.last))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("name.last",e.submission.name.last)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.show("name.native")?a("div",{staticClass:"change"},[a("h3",[e._v("Native Name")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.submission.name.native))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("name.native",e.submission.name.native)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.alternativeNames&&!e.hideAltNames?a("div",{staticClass:"change"},[a("h3",[e._v("Alternative Names")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.alternativeNames))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("name.alternative",e.submission.name.alternative)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.show("language")?a("div",{staticClass:"change"},[a("h3",[e._v("Language")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e._f("capitalize")(e.submission.language)))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("language",e.submission.language)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.image&&!e.hideImage?a("div",{staticClass:"change"},[a("h3",[e._v("Image")]),e._v(" "),a("div",{staticClass:"value"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"image"})]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("image",e.submission.image)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),e.show("description")?a("div",{staticClass:"change"},[a("h3",[e._v("About")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.submission.description))]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.save("description",e.submission.description)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1)]):e._e(),e._v(" "),a("div",{staticClass:"change footer"},[a("h2",[e._v("Submission Notes & Feedback")]),e._v(" "),a("div",{staticClass:"submission-form form-textarea"},[a("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"Submission notes and feedback for the user"},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}})],1),e._v(" "),a("div",{staticClass:"footer-actions"},[a("h2",[e._v("Mark this submission as:")]),e._v(" "),a("div",{staticClass:"btn accept",on:{click:function(t){return e.saveStatus("ACCEPTED")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1),e._v(" "),a("span",[e._v("Accepted")]),e._v(" "),a("div",{staticClass:"btn partial-accept",on:{click:function(t){return e.saveStatus("PARTIALLY_ACCEPTED")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"question"}})],1),e._v(" "),a("span",[e._v("Partially Accepted")]),e._v(" "),a("div",{staticClass:"btn reject",on:{click:function(t){return e.saveStatus("REJECTED")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"times"}})],1),e._v(" "),a("span",[e._v("Rejected")])])])])},TS=[],LS={components:{FontAwesomeIcon:p.a,ElInput:Xa.a},props:["id","staffSubmission","staff","index"],data(){return{notes:null,hideImage:!1,hideAltNames:!1}},computed:{submission(){return this.staffSubmission.submission},user(){return this.staffSubmission.submitter},alternativeNames(){return this.submission.name.alternative.filter(e=>""!==e).join(", ")},image(){const e=this.submission.image.large;return"https://4.anilist.co/file/anilistcdn/staff/large/"==e?null:e.replace(/.+?(?=http)/,"")}},methods:{show(e){const t=jm()(this.submission,e),a=jm()(this.staff,e);return null!==t&&t!=a},async save(e,t){if("image"==e){if(t=await this.getImage("object"==typeof t?t.large:t),!t)return;this.hideImage=!0}else"name.alternative"==e&&(this.hideAltNames=!0);const a=await this.$store.dispatch("staffSubmission/saveSubmission",{id:this.id,key:e,value:t});a&&this.$notify({type:"success",message:`${e} Saved`})},async saveStatus(e){await this.$store.dispatch("staffSubmission/saveSubmissionStatus",{id:this.id,index:this.index,submissionId:this.submission.id,submissionStatus:e,submissionNotes:this.notes}),this.notes=null,this.hideImage=!1,this.hideAltNames=!1},async getImage(e){try{return e=e.replace(/.+?(?=http)/,""),await wC(e)}catch(t){return this.$notify("Falied to fetch image."),!1}}}},MS=LS,NS=(a("3b16"),Object(b["a"])(MS,PS,TS,!1,null,"676a6e0f",null)),DS=NS.exports,RS={components:{StaffForm:Qb,Submission:DS},props:["id"],mixins:[M["a"]],computed:{staff:{get(){return this.$store.getters["staffSubmission/staff"]},set(e){this.$store.commit("staffSubmission/updateStaff",e)}},submissions(){return this.$store.getters["staffSubmission/submissions"](this.id)}},methods:{async fetchStaff(e){await this.$store.dispatch("staffSubmission/fetchStaff",e)},async fetchSubmissions(e){await this.$store.dispatch("staffSubmission/fetchSubmissions",e)},async save(){const e=await this.$store.dispatch("staffSubmission/saveStaff");e&&(this.$notify({type:"success",message:this.isDataMod()?"Staff successfully updated":"Staff submission successfully sent"}),s$.push({path:`/staff/${this.id}`}))},async deleteStaff(){try{const e=`${this.staff.name.first} ${this.staff.name.last}`;await this.$confirm(`Are you sure you want to delete ${e} (${this.staff.id})?\n                    This is an irreversible change`,"Warning - Deletion"),await this.$prompt("Please enter the current staff id to confirm deletion","Confirm Deletion",{inputPattern:new RegExp(this.staff.id),inputErrorMessage:"Incorrect ID"})}catch(t){return}this.$notify("Deleting staff");const e=await this.$store.dispatch("staffSubmission/deleteStaff",this.staff.id);e&&s$.push({path:"/edit/dashboard/feed"})}},created(){this.$store.commit("staffSubmission/reset"),this.fetchStaff(this.id),this.isDataMod()&&this.fetchSubmissions(this.id)}},jS=RS,FS=(a("81fe"),Object(b["a"])(jS,xS,OS,!1,null,"7db3cc86",null)),US=FS.exports,zS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.studio&&e.studio.id?a("div",{staticClass:"studio container"},[a("studio-form",{attrs:{studio:e.studio},on:{"update:studio":function(t){e.studio=t},save:e.save}})],1):e._e()},qS=[],BS={components:{StudioForm:Mw},props:["id"],computed:{studio:{get(){return this.$store.getters["studioSubmission/studio"]},set(e){this.$store.commit("studioSubmission/updateStudio",e)}}},methods:{async fetchStudio(e){await this.$store.dispatch("studioSubmission/fetchStudio",e)},async save(){const e=await this.$store.dispatch("studioSubmission/saveStudio");e&&s$.push({path:`/studio/${this.id}`})}},created(){this.fetchStudio(this.id)}},VS=BS,GS=(a("4e65"),Object(b["a"])(VS,zS,qS,!1,null,"59ae0788",null)),YS=GS.exports,HS=[{path:"/edit/dashboard/:page(feed|anime|manga|characters|staff|tags|reports|imports)",component:my,props:!0},{path:"/edit/:type(anime|manga)/:id(\\d+|new)/:form?/:submissionId?",component:fS,props:!0},{path:"/edit/character/:id(\\d+)",component:ES,props:!0},{path:"/edit/staff/:id(\\d+)",component:US,props:!0},{path:"/edit/studio/:id(\\d+)",component:YS,props:!0}],QS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"listicles"},[a("h1",[e._v(e._s(e.title))]),e._v(" "),a("ad",{staticClass:"sense-wrap header",attrs:{type:"article-header"}}),e._v(" "),a("div",{staticClass:"container"},[e._l(e.media,function(t,s){return[a("listicle-item",{key:t.id,staticClass:"list-item",attrs:{media:t,number:s+1}}),e._v(" "),1==s?a("ad",{key:s+"-ad",staticClass:"sense-wrap matched",attrs:{type:"article-matched"}}):3==s?a("ad",{key:s+"-ad",staticClass:"sense-wrap matched",attrs:{type:"article-header"}}):e._e()]}),e._v(" "),e.bannerImage?a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.bannerImage,expression:"bannerImage",arg:"background-image"}],staticClass:"view-more",attrs:{to:e.searchRoute}},[a("div",{staticClass:"context"},[e._v("View More "+e._s(e.genre)+" "+e._s(e.type))])]):e._e()],2)],1)},WS=[],KS=a("1dee"),JS=KS["a"],ZS=(a("120d"),Object(b["a"])(JS,QS,WS,!1,null,"1adfcdf5",null)),XS=ZS.exports,e$=[{name:"Listicles",path:"/article/Top-:amount(50|10)-:genre([A-Z-a-z])+-:type(Anime|Manga)-of-:year",component:XS,props:!0}],t$=[].concat(ce,De,va,vr,gd,Ad,Yd,Xd,wu,Sp,Op,Bp,Kp,Lh,rg,sf,uf,HS,e$,Hf);const a$=new s["a"]({mode:"history",scrollBehavior(e,t,a){return a||(e.matched.some(e=>e.meta.scrollToAnchor)?{selector:"#anchor"}:{x:0,y:0})},routes:t$});a$.afterEach(e=>{i["a"].dispatch("quickSearch/toggleVisibility",!1),i["a"].commit("setNavTransparency",e.path.includes("/user/")),i["a"].commit("setAdDisplay",!0)});var s$=t["a"]=a$},a30f:function(e,t,a){},a316:function(e,t,a){},a339:function(e,t,a){"use strict";var s=a("8617"),i=a.n(s);i.a},a40f:function(e,t,a){"use strict";var s=a("c006"),i=a.n(s);i.a},a426:function(e,t,a){},a47a:function(e,t,a){"use strict";var s=a("b5ab"),i=a.n(s);i.a},a489:function(e,t,a){},a530:function(e,t,a){"use strict";var s=a("319c"),i=a.n(s);i.a},a702:function(e,t,a){},a74e:function(e,t,a){"use strict";var s=a("5a78"),i=a.n(s);i.a},a7e2:function(e,t,a){"use strict";var s=a("2a44"),i=a.n(s);i.a},a825:function(e,t,a){"use strict";var s=a("c0b8"),i=a.n(s);i.a},a856:function(e,t,a){},a949:function(e,t,a){"use strict";a.r(t);a("d9fc");var s=a("2b0e"),i=a("d78e"),n=a.n(i),r=a("395c"),o=a.n(r),c=a("0284"),l=a.n(c),d=a("cebc"),u=a("f529"),m=a.n(u),p=a("6ed5"),h=a.n(p),v=a("299c"),f=a.n(v),g=a("a4bb"),y=a.n(g),_=(a("ac6a"),a("8c4f")),b=a("31bd"),w=a("4897"),C=a.n(w),S=a("b2d6"),$=a.n(S),k=a("5f65"),I=a.n(k),A=a("283e"),E=a.n(A),x=a("0a89"),O=a.n(x),P=a("cb5b"),T=a("da3e"),L=a("faaa"),M=a("42b9"),N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{transparent:e.navTransparency},attrs:{id:"app"}},[a("progress-bar"),e._v(" "),e.isDesktop?a("desktop-nav"):e._e(),e._v(" "),e.isDesktop?e._e():a("mobile-nav"),e._v(" "),a("div",{staticClass:"page-content"},[a("router-view")],1),e._v(" "),e.auth&&e.listEditorActive?a("list-entry-editor"):e._e(),e._v(" "),a("site-footer")],1)},D=[],R=a("199c"),j=R["a"],F=(a("5c0b"),a("2877")),U=Object(F["a"])(j,N,D,!1,null,null,null),z=U.exports,q=a("4360"),B=a("a18c"),V=a("9132"),G=a("5ad4");s["default"].config.productionTip=!1,P["default"].library.add(T["a"],L["c"],L["b"],L["a"],M["b"],M["c"],M["a"]),s["default"].use(_["a"]),y()(G).forEach(e=>{s["default"].filter(e,G[e])}),s["default"].mixin(V["a"]),C.a.use($.a),s["default"].use(f.a),s["default"].use(I.a,{locale:"en-US",locales:{"en-US":a("fd77")}}),s["default"].use(E.a),s["default"].use(O.a),s["default"].prototype.$message=h.a,s["default"].prototype.$alert=h.a.alert,s["default"].prototype.$confirm=h.a.confirm,s["default"].prototype.$prompt=h.a.prompt,s["default"].prototype.$notify=m.a;Object(b["sync"])(q["a"],B["a"]);function Y(){const e=new s["default"](Object(d["a"])({},z,{store:q["a"],router:B["a"],metaInfo:{titleTemplate:e=>e?`${e}  AniList`:"AniList"}}));return{app:e,router:B["a"],store:q["a"]}}var H=a("b047c"),Q=a.n(H),W=a("4245"),K=a.n(W),J=a("6482"),Z=a.n(J),X=a("a002"),ee=a.n(X);const te=18,ae=`vuex_v${te}`;ee.a.config({storeName:"anilist_store",version:10});const se=localStorage.getItem("disable-store-cache"),ie=["vuex",...Array(te).keys()];ie.forEach(async e=>{const t="vuex"===e?e:`vuex_v${e}`;try{await ee.a.removeItem(t)}catch(a){console.log(`Failed to delete old store ${t}`)}});const ne=async()=>{try{const t=await ee.a.getItem(ae);t&&q["a"].replaceState(K()(t,q["a"].state))}catch(e){console.error("Failed to set store from cache.")}},re=se?{}:Z()(),oe=Q()((e,t)=>{re.save(t)},3e3),ce=async()=>{se?console.log("Store cache disabled"):(await ne(),q["a"].subscribe(oe),console.info(`Cache enabled: v${te}`))};var le=ce;const de=Y(),ue=de.app,me=de.router;s["default"].use(o.a),s["default"].use(n.a.Adsense),s["default"].use(l.a,{id:"UA-40137036-2",router:me,debug:{sendHitTask:!0}}),le(),me.onReady(()=>{ue.$mount("#app")})},a9c9:function(e,t,a){},a9cc:function(e,t,a){},aaa4:function(e,t,a){"use strict";var s=a("9b5c"),i=a.n(s);i.a},ab16:function(e,t,a){"use strict";var s=a("5408"),i=a.n(s);i.a},ab23:function(e,t,a){},ab6b:function(e,t,a){},aba5:function(e,t,a){"use strict";var s=a("c90e"),i=a.n(s);i.a},abbb:function(e,t,a){"use strict";var s=a("1082"),i=a.n(s);i.a},abd1:function(e,t,a){},abe5:function(e,t,a){},ac10:function(e,t,a){},ac36:function(e,t,a){"use strict";var s=a("1768"),i=a.n(s);i.a},ac90:function(e,t,a){},ad5c:function(e,t,a){},adbc:function(e,t,a){"use strict";(function(e){var s=a("0a0d"),i=a.n(s);t["a"]={data(){return{intervalId:null,hiddenAt:null}},computed:{refreshIntervalMilliseconds(){return 6e4*this.refreshInterval}},methods:{autoRefresh(){document.hidden||this[this.refreshMethod]()},pageVisibilityChange(){document.hidden?this.hiddenAt=i()():(this.hiddenAt&&this.hiddenAt+this.refreshIntervalMilliseconds<i()()&&this.autoRefresh(),this.hiddenAt=null)}},created(){e.browser&&(this.intervalId=setInterval(this.autoRefresh,this.refreshIntervalMilliseconds),window.addEventListener("visibilitychange",this.pageVisibilityChange))},destroyed(){clearInterval(this.intervalId),window.removeEventListener("visibilitychange",this.pageVisibilityChange)}}}).call(this,a("4362"))},adca:function(e,t,a){},ae37:function(e,t,a){},ae8f:function(e,t,a){},aef0:function(e,t,a){"use strict";var s=a("e206"),i=a.n(s);i.a},af20:function(e,t,a){"use strict";var s=a("bdec"),i=a.n(s);i.a},af5f:function(e,t,a){},afdf:function(e,t,a){"use strict";var s=a("52f3"),i=a.n(s);i.a},affc:function(e,t,a){},b06f:function(e,t,a){"use strict";var s=a("6c0b"),i=a.n(s);i.a},b178:function(e,t,a){},b1fb:function(e,t,a){"use strict";var s=a("f7a0"),i=a.n(s);i.a},b1fc:function(e,t,a){},b211:function(e,t,a){},b264:function(e,t,a){},b2ef:function(e,t,a){"use strict";var s=a("dab7"),i=a.n(s);i.a},b385:function(e,t,a){"use strict";var s=a("974a"),i=a.n(s);i.a},b3c0:function(e,t,a){},b3f0:function(e,t,a){"use strict";var s=a("863f"),i=a.n(s);i.a},b4bd:function(e,t,a){"use strict";var s=a("935e"),i=a.n(s);i.a},b51d:function(e,t,a){"use strict";var s=a("b987"),i=a.n(s);i.a},b565:function(e,t,a){"use strict";(function(e){var s=a("f499"),i=a.n(s),n=a("cebc"),r=a("365c"),o=a("4260"),c=a("5224"),l=a("e037"),d=a("7205"),u=a("8bc1"),m=a("fc7b"),p=a("408e");const h={schema:"internal"};t["a"]={namespaced:!0,state:{viewer:!1},getters:{viewer:e=>{if(!e.viewer){const e=localStorage.getItem("auth");if(null!==e&&"false"!==e)return JSON.parse(e)}return e.viewer}},actions:{async fetchViewer(t){let a=t.commit,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.browser)return;const i=localStorage.getItem("auth"),n=null!==i&&"false"!==i;if(n||s){n&&a("setViewer",JSON.parse(i));try{const e=await Object(r["a"])(c["a"]);e.Viewer&&a("setViewer",e.Viewer)}catch(o){401===o[0].status&&a("setViewer",!1),console.log("Guest user")}}},async login(e,t){let a=e.commit;try{const e=await Object(r["a"])(l["a"],t,h);return a("setViewer",e.Login),{success:!0}}catch(s){const e=s[0]?s[0].message:"Login failed for unknown reason, please check your details or email support.";return{success:!1,error:e}}},async logout(e){let t=e.commit;try{await Object(r["a"])(d["a"],{},h),t("setViewer",!1)}catch(a){t("setViewer",!1)}},async signup(e,t){let a=e.commit;try{const e=await Object(r["a"])(u["a"],t,h);return a("setViewer",e.CreateUser),{success:!0,user:e.CreateUser}}catch(s){return"Email Verification Required."===s[0].message?{success:!0,email:!0}:(Object(o["a"])(s),{success:!1})}},async resetPassword(e,t){try{return await Object(r["a"])(m["a"],t,h),!0}catch(a){return!1}},async verifyEmail(e,t){try{return await Object(r["a"])(p["a"],t,h),!0}catch(a){return Object(o["a"])(a),!1}},setViewer(e,t){let a=e.commit;a("setViewer",t)},resetNotificationCount(e){let t=e.state,a=e.commit;a("setViewer",Object(n["a"])({},t.viewer,{unreadNotificationCount:0}))}},mutations:{setViewer(e,t){localStorage.setItem("auth",i()(t)),e.viewer=t}}}}).call(this,a("4362"))},b5ab:function(e,t,a){},b5cb:function(e,t,a){"use strict";var s=a("870f"),i=a.n(s);i.a},b6b4:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"progress",class:{fixed:100!==e.percent,show:e.show},style:{width:e.percent+"%"}})},i=[],n={data(){return{percent:0,duration:2e3,show:!1}},computed:{loading(){return this.$store.state.loading}},watch:{loading(e){e?this.start():this.finish()}},methods:{start(){this.timer&&(clearInterval(this.timer),this.percent=0),this.show=!0,this.cut=1e4/Math.floor(this.duration),this.timer=setInterval(()=>{this.increase(this.cut*Math.random()),this.percent>95&&this.finish()},100)},increase(e){this.percent=this.percent+Math.floor(e)},finish(){clearInterval(this.timer),this.percent=100,this.show=!1}}},r=n,o=(a("da5b"),a("2877")),c=Object(o["a"])(r,s,i,!1,null,"67d7b6e5",null);t["a"]=c.exports},b765:function(e,t,a){"use strict";var s=a("3f38"),i=a.n(s);i.a},b76d:function(e,t,a){"use strict";var s=a("e415"),i=a.n(s);i.a},b7ac:function(e,t,a){},b7de:function(e,t,a){},b987:function(e,t,a){},b98e:function(e,t,a){},b997:function(e,t,a){},b9c2:function(e,t,a){},b9e1:function(e,t,a){},b9f1:function(e,t,a){"use strict";var s=a("59c4"),i=a.n(s);i.a},bbd9:function(e,t,a){"use strict";var s=a("a9cc"),i=a.n(s);i.a},bc58:function(e,t,a){},bcac:function(e,t,a){},bd56:function(e,t,a){},bdec:function(e,t,a){},be77:function(e,t,a){},c006:function(e,t,a){},c091:function(e,t,a){"use strict";var s=a("39a6"),i=a.n(s);i.a},c0b8:function(e,t,a){},c146:function(e,t,a){"use strict";var s=a("ffdb"),i=a.n(s);i.a},c1dc:function(e,t,a){"use strict";var s=a("966e"),i=a.n(s);i.a},c219:function(e,t,a){"use strict";var s=a("620e"),i=a.n(s);i.a},c269:function(e,t,a){},c26d:function(e,t,a){},c2b0:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav",class:{transparent:e.navTransparency,landing:e.onLanding,hide:e.hide},style:{top:e.top,transition:e.transition},attrs:{id:"nav"}},[a("quick-search"),e._v(" "),e.auth?a("div",{staticClass:"wrap"},[a("router-link",{staticClass:"logo",attrs:{to:"/home"}},[a("img",{attrs:{src:"/img/icons/icon.svg"}})]),e._v(" "),a("div",{staticClass:"links"},[a("router-link",{staticClass:"link",attrs:{to:"/home"}},[e._v("home")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"UserOverview",params:{id:e.auth.name}}}},[e._v("profile")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaList",params:{id:e.auth.name,type:"anime"}}}},[e._v("anime list")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaList",params:{id:e.auth.name,type:"manga"}}}},[e._v("manga list")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/search/anime"}},[e._v("browse")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/forum/overview"}},[e._v("forum")]),e._v(" "),a("div",{staticClass:"search",on:{click:e.showQuickSearch}},[a("font-awesome-icon",{attrs:{icon:"search",size:"lg"}})],1)],1),e._v(" "),a("div",{staticClass:"user"},[a("el-dropdown",{staticClass:"dropdown",attrs:{trigger:"click",placement:"top","show-timeout":50,"hide-timeout":0},on:{command:e.dropdownRedirect}},[a("span",{staticClass:"el-dropdown-link"},[a("div",{staticClass:"avatar",style:e.avatar}),e._v(" "),a("font-awesome-icon",{staticClass:"chevron",attrs:{icon:"chevron-down","fixed-width":""}})],1),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("router-link",{attrs:{to:{name:"UserOverview",params:{id:this.auth.name}}}},[a("font-awesome-icon",{attrs:{icon:"user","fixed-width":""}}),e._v("\n                            Profile\n                        ")],1)],1),e._v(" "),a("el-dropdown-item",[a("router-link",{attrs:{to:"/notifications"}},[a("font-awesome-icon",{attrs:{icon:"envelope","fixed-width":""}}),e._v("\n                            Notifications\n                        ")],1)],1),e._v(" "),a("el-dropdown-item",[a("router-link",{attrs:{to:"/settings"}},[a("font-awesome-icon",{attrs:{icon:"cog","fixed-width":""}}),e._v("\n                            Settings\n                        ")],1)],1),e._v(" "),e.isDataMod()?a("el-dropdown-item",[a("router-link",{attrs:{to:"/edit/dashboard/feed"}},[a("font-awesome-icon",{attrs:{icon:"magic","fixed-width":""}}),e._v("\n                            Mod Tools\n                        ")],1)],1):e._e(),e._v(" "),a("el-dropdown-item",{attrs:{command:"logout"}},[a("font-awesome-icon",{attrs:{icon:"sign-out-alt","fixed-width":""}}),e._v("\n                        Logout\n                    ")],1),e._v(" "),a("el-dropdown-item",{attrs:{divided:""}},[a("router-link",{attrs:{to:"/forum/thread/2340"}},[a("font-awesome-icon",{attrs:{icon:"heart","fixed-width":""}}),e._v("\n                            Donate\n                        ")],1)],1),e._v(" "),a("el-dropdown-item",[a("router-link",{attrs:{to:"/apps"}},[a("font-awesome-icon",{attrs:{icon:["fab","app-store-ios"],"fixed-width":""}}),e._v("\n                            Apps\n                        ")],1)],1),e._v(" "),a("el-dropdown-item",{attrs:{command:"discord"}},[a("font-awesome-icon",{attrs:{icon:["fab","discord"],"fixed-width":""}}),e._v("\n                        Discord\n                    ")],1)],1)],1),e._v(" "),e.unreadNotificationCount?a("router-link",{staticClass:"notification-dot",class:{"large-count":e.unreadNotificationCount>9},attrs:{to:"/notifications"}},[e._v("\n                "+e._s(e.unreadNotificationCount)+"\n            ")]):e._e()],1)],1):a("div",{staticClass:"wrap guest"},[a("router-link",{staticClass:"logo",attrs:{to:"/"}},[a("img",{attrs:{src:"/img/icons/icon.svg"}})]),e._v(" "),e.onLanding?a("div",{staticClass:"logo-full"},[a("img",{attrs:{src:"img/icons/logo_full.png"}})]):e._e(),e._v(" "),a("div",{staticClass:"links"},[a("router-link",{staticClass:"link",attrs:{to:"/search/anime"}},[e._v("browse")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/social"}},[e._v("social")]),e._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/forum/overview"}},[e._v("forum")]),e._v(" "),a("router-link",{staticClass:"link login",attrs:{to:"/login"}},[e._v("Login")]),e._v(" "),a("router-link",{staticClass:"link signup",attrs:{to:"/signup"}},[e._v("Sign Up")])],1)],1)],1)},i=[],n=(a("a481"),a("18ff")),r=a.n(n),o=a("defb"),c=a.n(o),l=a("b370"),d=a.n(l),u=a("7a55"),m=a.n(u),p=a("a18c"),h=a("a189"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"quick-search",class:{visible:e.visible},on:{click:e.close}},[a("div",{staticClass:"input"},[a("font-awesome-icon",{staticClass:"icon left",attrs:{icon:"search",size:"sm"}}),e._v(" "),a("input",{ref:"input",attrs:{type:"text",placeholder:"Search AniList"},domProps:{value:e.query},on:{input:e.search}}),e._v(" "),a("font-awesome-icon",{staticClass:"icon right",attrs:{icon:"times",size:"sm"},on:{click:function(t){return e.close(null)}}}),e._v(" "),a("div",{staticClass:"hint"},[e._v("Hint: "+e._s(e.hint))])],1),e._v(" "),a("div",{staticClass:"results"},e._l(e.results,function(t,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.results[0],expression:"resultCol.results[0]"}],key:s,staticClass:"result-col"},[a("h3",{staticClass:"title"},[e._v(e._s(s))]),e._v(" "),e._l(t.results,function(t){return a("div",{key:t.id,staticClass:"result"},["anime"==s||"manga"==s?[a("router-link",{attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(t)}}},[a("div",{staticClass:"image",style:e.imageStyle(t.coverImage.medium)}),e._v(" "),a("div",{staticClass:"name"},[e._v("\n                            "+e._s(t.title.userPreferred)+"\n                            "),a("div",{staticClass:"info"},[t.startDate&&t.startDate.year?a("span",[e._v("\n                                    "+e._s(t.startDate.year)+"\n                                ")]):e._e(),e._v(" "),t.format?a("span",[e._v(e._s(e._f("capitalizeFormat")(t.format)))]):e._e(),e._v(" "),t.isLicensed?e._e():a("span",[e._v(" (Doujin)")])])])]),e._v(" "),e.auth?a("span",{staticClass:"open-list-editor",on:{click:function(a){return e.openListEditor(t.id)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"plus",size:"sm"}})],1):e._e()]:"characters"==s?[a("router-link",{attrs:{to:{name:"Character",params:e.formatCharacterUrl(t)}}},[a("div",{staticClass:"image",style:e.imageStyle(t.image.medium)}),e._v(" "),a("div",{staticClass:"name"},[e._v(e._s(t.name.first)+" "+e._s(t.name.last))])])]:"staff"==s?[a("router-link",{attrs:{to:{name:"Staff",params:e.formatStaffUrl(t)}}},[a("div",{staticClass:"image",style:e.imageStyle(t.image.medium)}),e._v(" "),a("div",{staticClass:"name"},[e._v(e._s(t.name.first)+" "+e._s(t.name.last))])])]:"users"==s?[a("router-link",{attrs:{to:{name:"UserOverview",params:e.formatUserUrl(t)}}},[a("div",{staticClass:"image",style:e.imageStyle(t.avatar.medium)}),e._v(" "),a("div",{staticClass:"name"},[e._v(e._s(t.name))])])]:"studios"==s?[a("router-link",{staticClass:"studio",attrs:{to:{name:"Studio",params:e.formatStudioUrl(t)}}},[a("div",{staticClass:"name"},[e._v(e._s(t.name))])])]:e._e()],2)}),e._v(" "),e.results[s].pageInfo&&e.results[s].pageInfo.total>13?a("div",{staticClass:"view-all result"},[a("router-link",{attrs:{to:{name:"Search",params:{type:s},query:{search:e.query,sort:"SEARCH_MATCH"}}}},[e._v("\n                    View all "+e._s(e.results[s].pageInfo.total)+"+ "+e._s(s)+" results\n                ")])],1):e._e()],2)}),0)])},f=[],g=a("b047c"),y=a.n(g),_=a("7d3a"),b=a.n(_),w={components:{FontAwesomeIcon:m.a},data(){return{query:null}},mixins:[h["a"]],computed:{results(){return this.$store.getters["quickSearch/search"](this.query)},visible(){return this.$store.getters["quickSearch/visible"]},hint(){return b()(["Hit Ctrl-S to quickly toggle Quick Search","Want more advanced searching? Try the Browse page"])}},methods:{search(e){let t=e.target.value;this.query=t,this.query&&y()(()=>{const e={search:this.query};this.displayAdult||(e.isAdult=!1),this.$store.dispatch("quickSearch/fetchSearch",e)},300)()},open(e){const t=("83"==e.keyCode||"s"==e.key)&&(e.ctrlKey||e.metaKey),a="Escape"===e.key;(t||this.visible&&a)&&(e.preventDefault(),this.$store.dispatch("quickSearch/toggleVisibility"))},close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){const t=["quick-search visible","results"];if(!t.includes(e.target.className))return}this.$store.dispatch("quickSearch/toggleVisibility",!1),this.$refs.input.blur(),this.query=null},imageStyle(e){return{"background-image":`url(${e})`}},openListEditor(e){this.$store.dispatch("medialist/openListEditor",e)}},watch:{visible(e){e?this.$refs.input.focus():this.close()}},mounted(){document.addEventListener("keydown",this.open)},destroyed(){document.removeEventListener("keydown",this.open)}},C=w,S=(a("4be4"),a("380b"),a("2877")),$=Object(S["a"])(C,v,f,!1,null,"012688cd",null),k=$.exports,I={components:{FontAwesomeIcon:m.a,ElDropdown:d.a,ElDropdownMenu:c.a,ElDropdownItem:r.a,QuickSearch:k},mixins:[h["a"]],data(){return{hide:!1,top:0,transition:null,scrollPosotion:{new:0,old:0}}},computed:{navTransparency(){return this.$store.state.navTransparency&&this.scrollPosotion.new<60},onLanding(){return"Landing"===this.$store.state.route.name},avatar(){return{"background-image":`url(${this.auth.avatar.large})`}}},methods:{onScroll(){this.scrollPosotion.old=this.scrollPosotion.new,this.scrollPosotion.new=window.scrollY,this.hide=this.scrollPosotion.new>this.scrollPosotion.old,this.scrollPosotion.new<60&&this.hide?(this.top=`-${this.scrollPosotion.new}px`,this.transition=null):(this.transition="background 0.8s ease, top 0.5s",this.top=null)},async dropdownRedirect(e){if(e){if("logout"===e)return await this.$store.dispatch("auth/logout"),void p["a"].push({path:"/"});"discord"===e&&location.replace("https://discord.gg/TF428cr"),p["a"].push({path:"/"+e})}},showQuickSearch(){this.$store.dispatch("quickSearch/toggleVisibility")}},created(){window.addEventListener("scroll",this.onScroll)}},A=I,E=(a("2173"),Object(S["a"])(A,s,i,!1,null,"b7dd3286",null));t["a"]=E.exports},c36a:function(e,t,a){"use strict";var s=a("54f5"),i=a.n(s);i.a},c506:function(e,t,a){"use strict";var s=a("1e0b"),i=a.n(s);i.a},c50e:function(e,t,a){"use strict";var s=a("a9c9"),i=a.n(s);i.a},c611:function(e,t,a){"use strict";var s=a("5b18"),i=a.n(s);i.a},c620:function(e,t,a){"use strict";var s=a("b9c2"),i=a.n(s);i.a},c8f7:function(e,t,a){"use strict";var s=a("20d6"),i=a.n(s);i.a},c90e:function(e,t,a){},ca45:function(e,t,a){},caa5:function(e,t,a){"use strict";var s=a("d0f2"),i=a.n(s);i.a},cb48:function(e,t,a){},cbb0:function(e,t,a){"use strict";var s=a("0ced"),i=a.n(s);i.a},cddf:function(e,t,a){"use strict";var s=a("d92a"),i=a.n(s);i.a},d081:function(e,t,a){},d0b7:function(e,t,a){"use strict";var s=a("a426"),i=a.n(s);i.a},d0ba:function(e,t,a){},d0f2:function(e,t,a){},d10a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{staticClass:"activity-entry",class:[{"full-width":e.showReplies},e.typeClass]},[a("div",{staticClass:"wrap"},["ANIME_LIST"===e.activity.type||"MANGA_LIST"===e.activity.type?a("div",{staticClass:"list",class:{small:e.small}},[a("router-link",{staticClass:"cover",style:e.mediaCoverStyle,attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.activity.media)}}}),e._v(" "),a("div",{staticClass:"details"},[a("router-link",{staticClass:"name",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.user)}}},[e._v(e._s(e.user.name))]),e._v(" "),e.user.donatorTier&&!e.small?a("div",{staticClass:"donator-badge",class:{rainbow:e.user.donatorTier>4}},[e._v("\n                    "+e._s(e.user.donatorTier>3?e.user.donatorBadge:"Donator")+"\n                ")]):e._e(),e._v(" "),a("div",{staticClass:"status"},[e._v("\n                    "+e._s(e.status)+"\n                    "),a("router-link",{staticClass:"title",attrs:{to:{name:"MediaOverview",params:e.formatMediaUrl(e.activity.media)}}},[e._v("\n                        "+e._s(e.activity.media.title.userPreferred)+"\n                    ")])],1),e._v(" "),a("router-link",{staticClass:"avatar",style:e.avatarStyle,attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.user)}}}),e._v(" "),e.auth&&e.activity.media.status?a("el-dropdown",{staticClass:"entry-dropdown",attrs:{size:"small",trigger:"click"},on:{command:e.editListStatus}},[a("span",{staticClass:"el-dropdown-link"},[a("font-awesome-icon",{attrs:{icon:"angle-down"}})],1),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"PLANNING"}},[e._v("Set as Planning")]),e._v(" "),"FINISHED"==e.activity.media.status?a("el-dropdown-item",{attrs:{command:"COMPLETED"}},[e._v("Set as Complete")]):e._e(),e._v(" "),"NOT_YET_RELEASED"!=e.activity.media.status?a("el-dropdown-item",{attrs:{command:"CURRENT"}},[e._v("Set as "+e._s("ANIME"==e.activity.media.type?"Watching":"Reading"))]):e._e(),e._v(" "),a("el-dropdown-item",{attrs:{command:"open",divided:""}},[e._v("Open List Editor")])],1)],1):e._e()],1)],1):a("div",{staticClass:"text"},[a("div",{staticClass:"header"},[a("router-link",{staticClass:"avatar",style:e.avatarStyle,attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.user)}}}),e._v(" "),a("router-link",{staticClass:"name",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.user)}}},[e._v(e._s(e.user.name))]),e._v(" "),e.user.donatorTier?a("div",{staticClass:"donator-badge",class:{rainbow:e.user.donatorTier>4}},[e._v("\n                    "+e._s(e.user.donatorTier>3?e.user.donatorBadge:"Donator")+"\n                ")]):e._e()],1),e._v(" "),a("div",{staticClass:"activity-markdown"},[a("markdown",{attrs:{markdown:e.text}})],1)]),e._v(" "),a("div",{staticClass:"time"},[e.showEdit?a("span",{staticClass:"action",on:{click:function(t){e.editing=!e.editing}}},[e._v("Edit")]):e._e(),e._v(" "),e.isMod()||e.showDelete?a("span",{staticClass:"action",on:{click:e.deleteActivity}},[a("font-awesome-icon",{attrs:{icon:"times",size:"sm"}})],1):e._e(),e._v(" "),e.auth&&e.user.id!==e.auth.id&&e.text?a("span",{staticClass:"action",on:{click:e.reportActivity}},[a("font-awesome-icon",{attrs:{icon:"exclamation",size:"sm"}})],1):e._e(),e._v(" "),a("router-link",{staticClass:"action",attrs:{to:{name:"Activity",params:{id:e.activity.id}}}},[a("font-awesome-icon",{attrs:{icon:"link",size:"sm"}})],1),e._v(" "),a("timeago",{attrs:{since:1e3*e.activity.createdAt,"auto-update":60}})],1),e._v(" "),a("div",{staticClass:"actions"},[a("div",{staticClass:"action replies",on:{click:function(t){e.showReplies=!e.showReplies}}},[0!=e.activity.replyCount?a("span",{staticClass:"count"},[e._v(e._s(e.activity.replyCount))]):e._e(),e._v(" "),a("font-awesome-icon",{attrs:{icon:"comments",size:"sm"}})],1),e._v(" "),e.likes()?a("div",{staticClass:"action likes"},[a("likes",{attrs:{likes:e.likes(),id:e.activity.id,type:"activity"}},[a("font-awesome-icon",{attrs:{icon:"heart",size:"sm"}})],1)],1):e._e()])]),e._v(" "),e.editing?a("el-dialog",{attrs:{"custom-class":"activity-editor-unscoped",visible:e.editing},on:{close:function(t){e.editing=!1}}},[a("activity-editor",{attrs:{type:"TEXT"==e.activity.type?"status":"message",activity:e.activity,reference:"activity-"+e.activity.id},on:{close:e.closeEditor,refresh:e.refresh}})],1):e._e(),e._v(" "),e.activity.replies||e.showReplies?a("div",{staticClass:"reply-wrap"},[a("replies",{attrs:{id:e.activity.id,"show-replies":e.activity.replies&&e.activity.replies[0]||e.showReplies,"pre-loaded-replies":e.activity.replies||!1}})],1):e._e()],1):e._e()},i=[],n=a("18ff"),r=a.n(n),o=a("defb"),c=a.n(o),l=a("b370"),d=a.n(l),u=a("df33"),m=a.n(u),p=a("a189"),h=a("e6e0"),v=a("7a55"),f=a.n(v),g=a("4e30"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showReplies?a("div",{staticClass:"activity-replies"},[e.replies.pageData?[e._l(e.replies.pageData,function(t){return e._l(t,function(t){return a("activity-reply",{key:t.id,attrs:{reply:t},on:{refresh:e.refresh}})})})]:e._e(),e._v(" "),e.refreshing?e._e():a("scroll-load",{ref:"scroll",attrs:{action:e.fetchReplies}}),e._v(" "),e.auth?a("activity-editor",{attrs:{type:"reply",reference:"reply-"+e.id},on:{refresh:e.refresh}}):e._e()],2):e._e()},_=[],b=a("dc26"),w=a("59fe"),C={props:["id","showReplies","preLoadedReplies"],components:{ActivityReply:b["a"],ActivityEditor:g["default"],Markdown:h["a"],FontAwesomeIcon:f.a},mixins:[p["a"],w["a"]],data(){return{refreshing:!1,newReply:!1}},computed:{replies(){const e=this.$store.getters["activity/replies"](this.id,this.page);return!1===this.preLoadedReplies||this.newReply?e:(this.hasNextPage=!1,{pageData:[this.preLoadedReplies]})}},methods:{async fetchReplies(){this.hasNextPage=await this.$store.dispatch("activity/fetchReplies",{id:this.id,page:this.page})},async refresh(){this.refreshing=!0,this.newReply=!0,this.resetScrollLoader("refreshing")}}},S=C,$=(a("a0fb"),a("2877")),k=Object($["a"])(S,y,_,!1,null,"56156952",null),I=k.exports,A=a("2840"),E={props:["activity","small"],components:{Replies:I,Markdown:h["a"],ActivityEditor:g["default"],FontAwesomeIcon:f.a,Likes:A["a"],ElDialog:m.a,ElDropdown:d.a,ElDropdownMenu:c.a,ElDropdownItem:r.a},mixins:[p["a"]],data(){return{showReplies:!1,editing:!1,deleted:!1}},computed:{user(){return"MESSAGE"===this.activity.type?this.activity.messenger:this.activity.user},mediaCoverStyle(){return{"background-image":`url(${this.activity.media.coverImage.large})`}},avatarStyle(){return{"background-image":`url(${this.user.avatar.large})`}},status(){let e=this.activity.status.charAt(0).toUpperCase()+this.activity.status.slice(1);return this.activity.progress&&(e+=` ${this.activity.progress} of `),e},text(){return"MESSAGE"===this.activity.type?this.activity.message:this.activity.text},typeClass(){return`activity-${this.activity.type.toLowerCase()}`},show(){return"ANIME_LIST"===this.activity.type||"MANGA_LIST"===this.activity.type?!this.deleted&&(!this.activity.media.isAdult||this.auth&&this.auth.options.displayAdultContent):!this.deleted},showEdit(){return!(!this.auth||!this.text)&&(this.isMod()||this.user.id==this.auth.id)},showDelete(){return!!this.auth&&(this.activity.user&&this.activity.user.id==this.auth.id||this.activity.messenger&&this.activity.messenger.id==this.auth.id)}},methods:{async deleteActivity(){try{await this.$confirm("Are you sure you want to delete this activity?","Warning"),this.deleted=await this.$store.dispatch("activity/deleteActivity",this.activity.id),this.deleted&&this.$notify({type:"success",message:"Activity Deleted"})}catch(e){}},reportActivity(){this.$prompt("Reason for report","Report Activity",{confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then(e=>{this.$store.dispatch("user/createReport",{userId:this.user.id,reason:`${e.value}\n                    Url: https://anilist.co/activity/${this.activity.id}\n                    Text/Message:\n                    ${this.text}`})})},refresh(){this.$emit("refresh"),this.editing=!1},closeEditor(){this.editing=!1},likes(){return this.activity.likes},async editListStatus(e){const t=this.activity.media;if("open"==e)return void this.$store.dispatch("medialist/openListEditor",t.id);const a=await this.$store.dispatch("medialist/saveListEntry",{status:e,mediaId:t.id,returnData:!0});a.status&&this.$notify({type:"success",message:`${t.title.userPreferred} added to ${a.status.toLowerCase()} list`})}}},x=E,O=(a("a530"),Object($["a"])(x,s,i,!1,null,"69758bac",null));t["default"]=O.exports},d134:function(e,t,a){"use strict";var s=a("5b9f"),i=a.n(s);i.a},d167:function(e,t,a){"use strict";var s=a("3d92"),i=a.n(s);i.a},d1fd:function(e,t,a){"use strict";var s=a("4fee"),i=a.n(s);i.a},d230:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"media-embed",attrs:{"data-media-id":e.id,"data-media-type":e.type,href:e.url,target:"_blank"}},[e.media?a("div",[a("div",{staticClass:"embed"},[a("div",{staticClass:"cover",style:e.coverStyle}),e._v(" "),a("div",{staticClass:"wrap"},[a("div",{staticClass:"title"},[e._v(e._s(e.media.title.userPreferred))]),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"genres"},[e.media.genres[0]?e._l(e.media.genres,function(t,s){return a("span",{key:s},[e._v(e._s(t)),a("span",{directives:[{name:"show",rawName:"v-show",value:e.media.genres[s+1],expression:"media.genres[index + 1]"}]},[e._v(", ")])])}):e._e()],2),e._v(" "),e.media.format?a("span",[e._v(e._s(e._f("capitalizeFormat")(e.media.format))+" ")]):e._e(),e._v(" "),e.media.status?a("span",[e._v(e._s(e._f("capitalize")(e.media.status))+" ")]):e._e(),e._v(" "),e.media.startDate.year?a("span",[e._v(e._s(e._f("capitalize")(e.media.season))+" "+e._s(e.media.startDate.year)+" ")]):e._e(),e._v(" "),e.media.averageScore?a("span",[e._v(e._s(e.media.averageScore)+"%")]):e._e()])])])]):[e._v(e._s(e.url))]],2)},i=[],n={props:["id","type"],computed:{url(){return this.media?this.formatMediaUrl(this.media,!0):`https://anilist.co/${this.type}/${this.id}`},coverStyle(){return{"background-image":`url(${this.media.coverImage.large})`}},media(){return this.$store.getters["embed/media"](this.id)}},methods:{async fetchMediaEmbed(){await this.$store.dispatch("embed/fetchMedia",this.id)}},mounted(){this.media||this.fetchMediaEmbed()}},r=n,o=(a("07d4"),a("2877")),c=Object(o["a"])(r,s,i,!1,null,"4021af81",null);t["a"]=c.exports},d493:function(e,t,a){},d4bb:function(e,t,a){"use strict";var s=a("ca45"),i=a.n(s);i.a},d928:function(e,t,a){"use strict";var s=a("1cf1"),i=a.n(s);i.a},d92a:function(e,t,a){},d9ae:function(e,t,a){},d9ef:function(e,t,a){},d9ff:function(e,t,a){"use strict";var s=a("9b23"),i=a.n(s);i.a},da1e:function(e,t,a){"use strict";var s=a("ad5c"),i=a.n(s);i.a},da29:function(e,t,a){},da5b:function(e,t,a){"use strict";var s=a("8773"),i=a.n(s);i.a},dab7:function(e,t,a){},dae6:function(e,t,a){"use strict";var s=a("f8f9"),i=a.n(s);i.a},dae8:function(e,t,a){},db26:function(e,t,a){"use strict";var s=a("b3c0"),i=a.n(s);i.a},dbfc:function(e,t,a){},dc26:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.deleted?e._e():a("div",{staticClass:"reply"},[a("div",{staticClass:"header"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.reply.user.avatar.large,expression:"reply.user.avatar.large",arg:"background-image"}],staticClass:"avatar",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.reply.user)}}}),e._v(" "),a("router-link",{staticClass:"name",attrs:{to:{name:"UserOverview",params:e.formatUserUrl(e.reply.user)}}},[e._v(e._s(e.reply.user.name))]),e._v(" "),a("div",{staticClass:"actions"},[a("div",{staticClass:"action time"},[e.isMod()||e.auth.id==e.reply.user.id?a("div",{staticClass:"action",on:{click:function(t){e.editing=!e.editing}}},[e._v("Edit")]):e._e(),e._v(" "),e.auth&&e.auth.id!==e.reply.user.id&&e.reply.activityId?a("span",{staticClass:"action",on:{click:e.reportReply}},[a("font-awesome-icon",{attrs:{icon:"exclamation",size:"sm"}})],1):e._e(),e._v(" "),e.isMod()||e.auth.id==e.reply.user.id?a("span",{staticClass:"action",on:{click:e.deleteReply}},[a("font-awesome-icon",{attrs:{icon:"times",size:"sm"}})],1):e._e()]),e._v(" "),e.reply.likes?a("div",{staticClass:"action likes"},[a("likes",{attrs:{likes:e.reply.likes,id:e.reply.id,type:"activity_reply"}},[a("font-awesome-icon",{attrs:{icon:"heart",size:"sm"}})],1)],1):e._e(),e._v(" "),a("div",{staticClass:"action time"},[a("timeago",{attrs:{since:1e3*e.reply.createdAt,"auto-update":60}})],1)])],1),e._v(" "),a("div",{staticClass:"reply-markdown"},[a("markdown",{attrs:{markdown:e.reply.text}})],1),e._v(" "),e.editing?a("el-dialog",{attrs:{"custom-class":"activity-editor-unscoped",visible:e.editing},on:{close:function(t){e.editing=!1}}},[a("activity-editor",{attrs:{type:"reply",reply:e.reply,reference:"reply-"+e.reply.id},on:{close:e.closeEditor,refresh:e.refresh}})],1):e._e()],1)},i=[],n=a("df33"),r=a.n(n),o=a("a189"),c=a("e6e0"),l=a("2840"),d=a("7a55"),u=a.n(d),m={props:["reply"],components:{Markdown:c["a"],FontAwesomeIcon:u.a,Likes:l["a"],ElDialog:r.a},mixins:[o["a"]],data(){return{deleted:!1,editing:!1}},methods:{async deleteReply(){try{await this.$confirm("Are you sure you want to delete this activity reply?","Warning"),this.deleted=await this.$store.dispatch("activity/deleteActivityReply",this.reply.id),this.deleted&&this.$notify({type:"success",message:"Activity Reply Deleted"})}catch(e){}},reportReply(){this.$prompt("Reason for report","Report Activity Reply",{confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then(e=>{this.$store.dispatch("user/createReport",{userId:this.reply.user.id,reason:`${e.value}\n                    Parent Url: https://anilist.co/activity/${this.reply.activityId}\n                    Reply Text: ${this.reply.text}`})})},refresh(){this.$emit("refresh"),this.editing=!1},closeEditor(){this.editing=!1}},beforeCreate(){this.$options.components.ActivityEditor=a("4e30").default}},p=m,h=(a("4331"),a("2877")),v=Object(h["a"])(p,s,i,!1,null,"3a96a62e",null);t["a"]=v.exports},dc89:function(e,t,a){},dcc6:function(e,t,a){"use strict";var s=a("3f81"),i=a.n(s);i.a},dfce:function(e,t,a){},e016:function(e,t,a){"use strict";var s=a("4561"),i=a.n(s);i.a},e022:function(e,t,a){"use strict";var s=a("a30f"),i=a.n(s);i.a},e037:function(e,t,a){"use strict";var s=a("ebf6");t["a"]=`\nmutation ($name: String, $password: String, $captcha: String) {\n    Login (name: $name, password: $password, captcha: $captcha) {\n        ${s["a"]}\n    }\n}\n`},e0a6:function(e,t,a){"use strict";var s=a("5d7e"),i=a.n(s);i.a},e206:function(e,t,a){},e415:function(e,t,a){},e5d9:function(e,t,a){},e6b7:function(e,t,a){"use strict";var s=a("846d"),i=a.n(s);i.a},e6e0:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"markdown",attrs:{id:e.uniqueId},domProps:{innerHTML:e._s(e.markdownHtml)}})},i=[],n=a("45eb"),r=n["a"],o=(a("23cb"),a("2877")),c=Object(o["a"])(r,s,i,!1,null,null,null);t["a"]=c.exports},ea04:function(e,t,a){"use strict";var s=a("2683"),i=a.n(s);i.a},eb03:function(e,t,a){"use strict";var s=a("c269"),i=a.n(s);i.a},eb55:function(e,t,a){"use strict";var s=a("abd1"),i=a.n(s);i.a},ebf6:function(e,t,a){"use strict";t["a"]="\nid\nname\nabout\navatar {\n    large\n}\nbannerImage\nunreadNotificationCount\ndonatorTier\ndonatorBadge\nmoderatorStatus\noptions {\n    titleLanguage\n    airingNotifications\n    displayAdultContent\n    profileColor\n    notificationOptions {\n        type\n        enabled\n    }\n}\nmediaListOptions {\n    scoreFormat\n    rowOrder\n    animeList {\n        customLists\n        sectionOrder\n        splitCompletedSectionByFormat\n        advancedScoring\n        advancedScoringEnabled\n    }\n    mangaList {\n        customLists\n        sectionOrder\n        splitCompletedSectionByFormat\n        advancedScoring\n        advancedScoringEnabled\n    }\n}\n"},ebf7:function(e,t,a){"use strict";var s=a("07a6"),i=a.n(s);i.a},ec52:function(e,t,a){"use strict";var s=a("a316"),i=a.n(s);i.a},ec7a:function(e,t,a){"use strict";var s=a("a702"),i=a.n(s);i.a},ec81:function(e,t,a){"use strict";var s=a("0592"),i=a.n(s);i.a},ecb1:function(e,t,a){},edf5:function(e,t,a){"use strict";var s=a("abe5"),i=a.n(s);i.a},eec9:function(e,t,a){"use strict";var s=a("1e45"),i=a.n(s);i.a},f053:function(e,t,a){},f092:function(e,t,a){"use strict";var s=a("91dd"),i=a.n(s);i.a},f0cf:function(e,t,a){},f0db:function(e,t,a){"use strict";var s=a("30df"),i=a.n(s);i.a},f0ee:function(e,t,a){"use strict";var s=a("6c32"),i=a.n(s);i.a},f13f:function(e,t,a){},f3fb:function(e,t,a){"use strict";var s=a("af5f"),i=a.n(s);i.a},f43d:function(e,t,a){},f787:function(e,t,a){},f7a0:function(e,t,a){},f7e1:function(e,t,a){"use strict";var s=a("8fd9"),i=a.n(s);i.a},f852:function(e,t,a){},f85d:function(e,t,a){"use strict";var s=a("8002"),i=a.n(s);i.a},f898:function(e,t,a){"use strict";(function(e){a.d(t,"b",function(){return n}),a.d(t,"a",function(){return s});const s=e.browser?a("ba48"):{Interpolation:{}},i=(e,t)=>{const a=t.value.y||"";t.group.elem("text",{x:e.x,y:e.y-10,style:"text-anchor: middle"},"label-text").text(s.noop(a))},n=e=>{e.on("draw",e=>{"bar"===e.type?i({x:e.x1,y:e.y2},e):"point"===e.type&&i({x:e.x,y:e.y},e)})}}).call(this,a("4362"))},f8f9:function(e,t,a){},fa8f:function(e,t,a){"use strict";var s=a("1f12"),i=a.n(s);i.a},fb02:function(e,t,a){},fbe2:function(e,t,a){},fbf7:function(e,t,a){"use strict";var s=a("bd56"),i=a.n(s);i.a},fc7b:function(e,t,a){"use strict";t["a"]="\nmutation ($email: String) {\n    ResetPassword (email: $email)\n}\n"},fd02:function(e,t,a){},fd10:function(e,t,a){"use strict";var s=a("b9e1"),i=a.n(s);i.a},fd2d:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"footer"},[a("div",{staticClass:"container"},[a("h2",[e._v("Site Theme")]),e._v(" "),a("el-tooltip",{attrs:{content:"Default",placement:"top-start"}},[a("div",{staticClass:"theme-preview default",on:{click:function(t){return e.setTheme("default")}}},[e._v("A")])]),e._v(" "),a("el-tooltip",{attrs:{content:"Dark",placement:"top-start"}},[a("div",{staticClass:"theme-preview dark",on:{click:function(t){return e.setTheme("dark")}}},[e._v("A")])]),e._v(" "),a("el-tooltip",{attrs:{content:"High Contrast",placement:"top-start"}},[a("div",{staticClass:"theme-preview contrast",on:{click:function(t){return e.setTheme("contrast")}}},[e._v("A")])]),e._v(" "),a("div",{staticClass:"links"},[e.auth?a("a",{attrs:{href:"#"},on:{click:e.logout}},[e._v("Logout")]):e._e(),e._v(" "),a("a",{attrs:{href:"https://anilist.co",target:"_blank"}},[e._v("AniList.co")]),e._v(" "),a("a",{attrs:{href:"http://anichart.net",target:"_blank"}},[e._v("AniChart.net")]),e._v(" "),a("router-link",{attrs:{to:"/apps"}},[e._v("Apps")]),e._v(" "),a("a",{attrs:{href:"https://discord.gg/TF428cr",target:"_blank"}},[e._v("Discord")]),e._v(" "),a("a",{attrs:{href:"https://twitter.com/AniChartnet",target:"_blank"}},[e._v("Twitter")]),e._v(" "),a("a",{attrs:{href:"https://www.facebook.com/Anichart",target:"_blank"}},[e._v("Facebook")]),e._v(" "),a("a",{attrs:{href:"https://github.com/AniList",target:"_blank"}},[e._v("GitHub")]),e._v(" "),a("a",{attrs:{href:"https://github.com/AniList/ApiV2-GraphQL-Docs",target:"_blank"}},[e._v("API")]),e._v(" "),a("a",{attrs:{href:"/sitemap/index.xml",target:"_blank"}},[e._v("Site Map")]),e._v(" "),a("a",{attrs:{href:"mailto:contact@anilist.co",target:"_top"}},[e._v("Contact")]),e._v(" "),a("a",{attrs:{href:"/terms",target:"_blank"}},[e._v("Terms & Privacy")])],1)],1)])])},i=[],n=a("a18c"),r=a("a189"),o={mixins:[r["a"]],methods:{setTheme(e){this.$store.dispatch("setSiteTheme",e)},async logout(){await this.$store.dispatch("auth/logout"),n["a"].push({path:"/"})}}},c=o,l=(a("2038"),a("2877")),d=Object(l["a"])(c,s,i,!1,null,"7d20c699",null);t["a"]=d.exports},fd79:function(e,t,a){"use strict";var s=a("1343"),i=a.n(s);i.a},fe43:function(e,t,a){},fed8:function(e,t,a){},fee0:function(e,t,a){"use strict";var s=a("0cea"),i=a.n(s);i.a},ffdb:function(e,t,a){},ffeb:function(e,t,a){"use strict";var s=a("9f15"),i=a.n(s);i.a},ffed:function(e,t,a){}});